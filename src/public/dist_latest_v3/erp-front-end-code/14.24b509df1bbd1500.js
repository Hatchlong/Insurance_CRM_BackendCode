"use strict";(self.webpackChunkERP_FrontEnd_code=self.webpackChunkERP_FrontEnd_code||[]).push([[14],{4014:(el,Te,f)=>{f.r(Te),f.d(Te,{SalesModule:()=>Xa});var v=f(6814),y=f(2394),m=f(5861),T=f(8171),e=f(5879),rt=f(5619),S=f(1486),ae=f(9862);let E=(()=>{class i{constructor(t){this.http=t,this.passSalesDetails=new rt.X({})}createSalesOrder(t){return this.http.post("http://54.151.187.67:4000/api/sales/salesOrder/create",t).toPromise()}getAllSalesOrderDetails(){return this.http.get("http://54.151.187.67:4000/api/sales/salesOrder/getAll").toPromise()}getAllSalesOrderDetailsPage(t,o){return this.http.get("http://54.151.187.67:4000/api/sales/salesOrder/getAll/").toPromise()}singleSalesOrderDetails(t){return this.http.get(`http://54.151.187.67:4000/api/sales/salesOrder/get/${t}`).toPromise()}updatedSalesOrderDetails(t){return this.http.put(`http://54.151.187.67:4000/api/sales/salesOrder/update/${t._id}`,t).toPromise()}updateSalesOrderMany(t){return this.http.put("http://54.151.187.67:4000/api/sales/salesOrder/update",t).toPromise()}exportToExcel(t,o,r){const s=[];console.log(s),t.map(u=>{console.log(u),u.itemList.map(p=>{p.orderType=u.orderType,s.push(p)})}),t.map(u=>{delete u.isLock,delete u.isActive,delete u.__v,delete u.check,delete u.itemList,delete u.saleOrgId});const a=S.P6.book_new(),d=S.P6.json_to_sheet(t);S.P6.book_append_sheet(a,d,"sales_order");const c=S.P6.json_to_sheet(s);S.P6.book_append_sheet(a,c,"ItemData"),S.NC(a,`${o}.xlsx`)}getOrderType(){return this.http.get("http://54.151.187.67:4000/api/config/orderType/getAll").toPromise()}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(ae.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var O=f(2939),R=f(2296),N=f(617),F=f(7988),l=f(6223),P=f(5409),le=f(7012);function ot(i,n){1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",28),e._uU(3,"No Records"),e.qZA()()())}function it(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",29)(15,"div")(16,"mat-icon",30),e._uU(17,"edit"),e.qZA()(),e.TgZ(18,"div")(19,"mat-icon",31),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteRecords(s))}),e._uU(20,"delete"),e.qZA()()()(),e.TgZ(21,"td",30)(22,"mat-icon",32),e._uU(23,"add"),e.qZA(),e.TgZ(24,"span",33),e._uU(25,"Delivery"),e.qZA()(),e.TgZ(26,"td")(27,"input",34),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.particularcheck(r,a))}),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.orderType),e.xp6(2),e.Oqu(t.saleOrgName),e.xp6(2),e.Oqu(t.distributionChannelsName),e.xp6(2),e.Oqu(t.divisionName),e.xp6(2),e.Oqu(t.customerId),e.xp6(4),e.Q6J("routerLink","/sales/edit-sales-order/"+t._id),e.xp6(5),e.Q6J("routerLink","/sales/edit-sales-order/"+t._id),e.xp6(6),e.Q6J("checked",t.check)}}function nt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"pagination",36),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.currentPage=r)})("pageChanged",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.pageChanged(r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("totalItems",t.totalItem)("ngModel",t.currentPage)}}const st=function(i){return{"padding-left":i}};let at=(()=>{class i{constructor(t,o,r,s,a){this.router=t,this.salesOrderSer=o,this._snackBar=r,this.idle=s,this.cd=a,this.selectAll=!1,this.isShowPadding=!1,this.salesOrderDetail=[],this.selectedSalesType="",this.allSalesDetails=[],this.totalItem=0,this.currentPage=1,this.page=0,this.itemsPerPage=10,this.sampleJson={orderType:"Domestic",saleOrgName:"SALES ORGANIZATION",distributionChannelsName:"D123",divisionName:"TEST DIVISION",customerId:"CUS001",customerName:"Test",customerAddress:"1",salesOrder:"1",createdOn:"02/01/2024",createdBy:"SuperAdmin",changedOn:"02/01/2024",changedBy:"SuperAdmin",customerPo:"1",customerPoDate:"03/01/2024",requestedDeliveryDate:"30/01/2024",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",modeOfTransport:"test_modeOfTransport",totalNetWeight:"1",totalGrossWeight:"1",totalVolume:"1",paymentTerms:"test_paymentTerms",billingBlockName:"block23",companyCodeName:"TCS234",customerAcctAss:"abc",netPrice:1,netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",text:"test",orderStatusName:"ord12",itemList:[{materialId:"test001",materialDescription:"Tv",ordQty:"2",uom:"one",plant:"1",storageLocation:"xyz",batchSerial:"1",priceAmount:1,priceUnitPrice:1,priceUnit:"1",priceUOM:"l",tax:"1",perUnitTax:"1",discount:"1",perUnitDiscount:"1",freight:"1",perUnitFreight:"1",otherCharges:"1",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",priceDate:"1",netWeight:"1",grossWeight:"1",volumn:"1"}]},this.idleState="Not Started",s.setIdle(450),s.setTimeout(900),s.setInterrupts(T.WO),s.onIdleEnd.subscribe(()=>{this.idleState="Started",a.detectChanges()}),s.onTimeout.subscribe(()=>{this.idleState="Timeout"}),s.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.getSalesOrderDetail(this.page,this.itemsPerPage),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(t){this.router.navigate([`${t}`])}handleSideBar(t){this.isShowPadding=t}handleFilter(t){if(!t.target.value)return void(this.salesOrderDetail=this.allSalesDetails);console.log(t.target.value);const o=this.allSalesDetails.filter(r=>r.orderType.toUpperCase().includes(t.target.value.toUpperCase()));this.salesOrderDetail=o,console.log(o)}selectdata(t){console.log(t.target.checked),this.selectAll=t.target.checked,console.log(typeof this.selectAll),this.salesOrderDetail.map(o=>{o.check=t.target.checked})}particularcheck(t,o){this.salesOrderDetail[o].check=t.target.checked,this.selectAll=!this.salesOrderDetail.find(s=>!1===s.check)}getSalesOrderDetail(t,o){var r=this;return(0,m.Z)(function*(){try{const s=yield r.salesOrderSer.getAllSalesOrderDetailsPage(t,o);console.log(s),"1"===s.status&&(r.salesOrderDetail=s.data,r.allSalesDetails=s.data,s.data.map(a=>{a.check=!1}))}catch(s){if(s.error.message)return void r._snackBar.open(s.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}deleteRecords(t){var o=this;return(0,m.Z)(function*(){try{t.isActive="C";const r=yield o.salesOrderSer.updatedSalesOrderDetails(t);if(console.log(r),"1"===r.status)return o._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void o.getSalesOrderDetail(o.page,o.itemsPerPage);"0"===r.status&&o._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(r){if(r.error.message)return void o._snackBar.open(r.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});o._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}pageChanged(t){this.page=t.page,this.getSalesOrderDetail((this.page-1)*this.itemsPerPage,this.itemsPerPage)}downloadExcel(){this.salesOrderSer.exportToExcel([this.sampleJson],"sales_orfer","Sheet1")}exportExcel(){this.salesOrderSer.exportToExcel(this.salesOrderDetail,"salesOrder","Sheet1")}handleDeleteMuliple(){var t=this;return(0,m.Z)(function*(){try{const o=t.salesOrderDetail.filter(s=>!0===s.check);o.map(s=>{s.isActive="C"});const r=yield t.salesOrderSer.updateSalesOrderMany(o);if("1"===r.status)return t._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.getSalesOrderDetail(t.page,t.itemsPerPage);"0"===r.status&&t._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){console.error(o),t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(y.F0),e.Y36(E),e.Y36(O.ux),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sales-order-list"]],decls:62,vars:9,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","py-2"],[1,"form-group","form-row"],[1,"col-12","d-grid","gap-2","d-md-flex"],["type","text","placeholder","Enter Order type",1,"form-control",3,"input"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[2,"width","15px","height","15px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["type","file",1,"d-none"],["inputFile",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","selectAll",3,"checked","change"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","col-xs-12 col-12 d-flex justify-content-center",4,"ngIf"],["colspan","8",1,"text-center"],[1,"d-flex"],[3,"routerLink"],[3,"click"],[2,"background","#00acff","border-radius","50%","color","white","cursor","pointer"],[2,"position","relative","left","5px","bottom","5px","cursor","pointer"],["type","checkbox",1,"checkbox",3,"checked","change"],[1,"col-xs-12","col-12","d-flex","justify-content-center"],[3,"totalItems","ngModel","ngModelChange","pageChanged"]],template:function(o,r){if(1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"input",8),e.NdJ("input",function(a){return r.handleFilter(a)}),e.qZA()()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){return r.nextPage("/sales/add-sales-order")}),e._uU(12,"Add Sales Order"),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){return r.handleDeleteMuliple()}),e.TgZ(14,"mat-icon",13),e._uU(15,"delete"),e.qZA(),e._uU(16," Delete Selected Sales Order"),e.qZA(),e.TgZ(17,"button",14)(18,"mat-icon"),e._uU(19,"more_vert"),e.qZA()(),e.TgZ(20,"mat-menu",null,15)(22,"button",16)(23,"span"),e._uU(24,"Import Sales Order"),e.qZA(),e._UZ(25,"input",17,18),e.qZA(),e.TgZ(27,"button",19),e.NdJ("click",function(){return r.exportExcel()}),e.TgZ(28,"span"),e._uU(29,"Export Sales Order"),e.qZA()(),e.TgZ(30,"button",19),e.NdJ("click",function(){return r.downloadExcel()}),e.TgZ(31,"span"),e._uU(32,"Sample Sales Order Sheet"),e.qZA()()()()()()()(),e.TgZ(33,"div",20)(34,"div",3)(35,"div",21)(36,"table",22)(37,"thead")(38,"tr")(39,"th"),e._uU(40,"SN"),e.qZA(),e.TgZ(41,"th",23),e._uU(42,"Order Type"),e.qZA(),e.TgZ(43,"th",23),e._uU(44,"Sales Organization "),e.qZA(),e.TgZ(45,"th",23),e._uU(46,"Distribution Channel"),e.qZA(),e.TgZ(47,"th",23),e._uU(48,"Division"),e.qZA(),e.TgZ(49,"th",23),e._uU(50,"Customer Id"),e.qZA(),e.TgZ(51,"th",23),e._uU(52,"Action"),e.qZA(),e.TgZ(53,"th",23),e._uU(54,"Add Delivery"),e.qZA(),e.TgZ(55,"th",23)(56,"input",24),e.NdJ("change",function(a){return r.selectdata(a)}),e.qZA(),e._uU(57," Select All "),e.qZA()()(),e.YNc(58,ot,4,0,"tbody",25),e.TgZ(59,"tbody"),e.YNc(60,it,28,9,"tr",26),e.qZA()()()(),e.YNc(61,nt,2,2,"div",27),e.qZA()()),2&o){const s=e.MAs(21);e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,st,r.isShowPadding?"280px":"100px")),e.xp6(16),e.Q6J("matMenuTriggerFor",s),e.xp6(39),e.Q6J("checked",r.selectAll),e.xp6(2),e.Q6J("ngIf",0===r.salesOrderDetail.length),e.xp6(2),e.Q6J("ngForOf",r.salesOrderDetail),e.xp6(1),e.Q6J("ngIf",r.salesOrderDetail.length>10)}},dependencies:[v.sg,v.O5,v.PC,y.rH,R.RK,N.Hw,F.VK,F.OP,F.p6,l.JJ,P.s,l.On,le.Qt]})}return i})();var V=f(1076),$=f(4441),H=f(2449),j=f(4210),Ae=f(1548),W=f(8833),K=f(5240),Ce=f(9018),X=f(6840),J=f(5401),k=f(8210);let w=(()=>{class i{transform(t,o){return t.sort((r,s)=>r[o]<s[o]?-1:r[o]>s[o]?1:0),t}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275pipe=e.Yjl({name:"filterPipes",type:i,pure:!0})}return i})();function lt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.description,"")}}function dt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Type is mandatory"),e.qZA()())}function ct(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Type is mandatory"),e.qZA()())}function ut(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.salesOrg,"")}}function pt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function mt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function ht(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.distributionChannel," ")}}function gt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function ft(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function _t(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.divion,"")}}function vt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Division is mandatory"),e.qZA()())}function yt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Division is mandatory"),e.qZA()())}function Zt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.companyCode,"")}}function Tt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.customerId),e.xp6(1),e.hij(" ",t.customerId,"")}}function At(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function Ct(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function bt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function St(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function qt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function Dt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function It(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function Ut(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function Nt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function Ot(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO Date is mandatory"),e.qZA()())}function Ft(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"PO Date is mandatory"),e.qZA()())}function Pt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function Gt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function Et(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.orderStatus," ")}}function kt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Status is mandatory"),e.qZA()())}function xt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Status is mandatory"),e.qZA()())}function Bt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.modeOfTransport)}}function Jt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.paymentTerm," ")}}function wt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.billingBlock," ")}}function Qt(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.customerAccountAG,"")}}function Lt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function Yt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function Mt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Price is mandatory"),e.qZA()())}function zt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Price is mandatory"),e.qZA()())}function Rt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Vt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function $t(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Ht(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function jt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Wt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Kt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function Xt(i,n){1&i&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function er(i,n){1&i&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function tr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"mat-icon",84),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),s=r.index,a=r.$implicit,d=e.oxw();return e.KtG(d.deleteSalesItem(s,a.value.materialId))}),e._uU(2,"delete"),e.qZA()()}}function rr(i,n){if(1&i&&(e.TgZ(0,"option",85),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("disabled",t.disable)("value",t.materialId),e.xp6(1),e.hij(" ",t.materialId,"")}}function or(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.baseUnitMeasure,"")}}const be=function(i){return{display:i}};function ir(i,n){if(1&i&&(e.TgZ(0,"option",87),e._uU(1),e.qZA()),2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,be,r.value.materialId===o.materialId?"block":"none"))("value",t.deliveringPlantId),e.xp6(1),e.hij(" ",t.deliveringPlantName," ")}}function nr(i,n){if(1&i&&(e.ynx(0),e.YNc(1,ir,2,5,"option",86),e.ALo(2,"filterPipes"),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.salesData,"deliveringPlantName"))}}function sr(i,n){if(1&i&&(e.TgZ(0,"option",87),e._uU(1),e.qZA()),2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,be,r.value.materialId===o.materialId?"block":"none"))("value",t.storageLocationId),e.xp6(1),e.hij(" ",t.storageLocationName," ")}}function ar(i,n){if(1&i&&(e.ynx(0),e.YNc(1,sr,2,5,"option",86),e.ALo(2,"filterPipes"),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.plantData,"storageLocationName"))}}function lr(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function dr(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.orderStatus," ")}}const Se=function(i){return{"pointer-events":i}};function cr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",55),e.YNc(1,tr,3,0,"td",13),e.TgZ(2,"td")(3,"select",56),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleMaterial(r,a))}),e.TgZ(4,"option",11),e._uU(5," Select Product Id"),e.qZA(),e.YNc(6,rr,2,3,"option",57),e.ALo(7,"filterPipes"),e.qZA()(),e.TgZ(8,"td"),e._UZ(9,"input",58),e.qZA(),e.TgZ(10,"td")(11,"input",59),e.NdJ("focusout",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.updateValue(r,a))}),e.qZA()(),e.TgZ(12,"td")(13,"select",60)(14,"option",11),e._uU(15," Select UOM"),e.qZA(),e.YNc(16,or,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA()(),e.TgZ(18,"td")(19,"select",61),e.NdJ("change",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handlePlant(r,a.value.materialId,d))}),e.TgZ(20,"option",11),e._uU(21," Select Plant "),e.qZA(),e.YNc(22,nr,3,4,"ng-container",62),e.qZA()(),e.TgZ(23,"td")(24,"select",63)(25,"option",11),e._uU(26," Select storage Location "),e.qZA(),e.YNc(27,ar,3,4,"ng-container",62),e.qZA()(),e.TgZ(28,"td"),e._UZ(29,"input",64),e.qZA(),e.TgZ(30,"td"),e._UZ(31,"input",65),e.qZA(),e.TgZ(32,"td"),e._UZ(33,"input",66),e.qZA(),e.TgZ(34,"td"),e._UZ(35,"input",67),e.qZA(),e.TgZ(36,"td")(37,"select",68)(38,"option",11),e._uU(39," Select Pricing UOM"),e.qZA(),e.TgZ(40,"option",69),e._uU(41,"One"),e.qZA(),e.TgZ(42,"option",70),e._uU(43,"Two"),e.qZA(),e.TgZ(44,"option",71),e._uU(45,"Three"),e.qZA()()(),e.TgZ(46,"td"),e._UZ(47,"input",72),e.qZA(),e.TgZ(48,"td"),e._UZ(49,"input",73),e.qZA(),e.TgZ(50,"td"),e._UZ(51,"input",74),e.qZA(),e.TgZ(52,"td"),e._UZ(53,"input",75),e.qZA(),e.TgZ(54,"td"),e._UZ(55,"input",76),e.qZA(),e.TgZ(56,"td"),e._UZ(57,"input",77),e.qZA(),e.TgZ(58,"td"),e._UZ(59,"input",40),e.qZA(),e.TgZ(60,"td"),e._UZ(61,"input",78),e.qZA(),e.TgZ(62,"td")(63,"select",21)(64,"option",11),e._uU(65,"Select Transaction Currency"),e.qZA(),e.YNc(66,lr,2,2,"option",12),e.ALo(67,"filterPipes"),e.qZA()(),e.TgZ(68,"td"),e._UZ(69,"input",79),e.qZA(),e.TgZ(70,"td"),e._UZ(71,"input",80),e.qZA(),e.TgZ(72,"td"),e._UZ(73,"input",81),e.qZA(),e.TgZ(74,"td"),e._UZ(75,"input",82),e.qZA(),e.TgZ(76,"td"),e._UZ(77,"input",83),e.qZA(),e.TgZ(78,"td")(79,"select",27),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleOrderStatus(r,a))}),e.TgZ(80,"option",11),e._uU(81," Select Order Status "),e.qZA(),e.YNc(82,dr,2,2,"option",12),e.ALo(83,"filterPipes"),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index,r=e.oxw();e.Q6J("formGroupName",o),e.xp6(1),e.Q6J("ngIf",r.salesOrderArray.controls.length>1),e.xp6(3),e.Q6J("selected",""===r.salesFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,16,r.productDeatail,"materialId")),e.xp6(8),e.Q6J("selected",""===r.salesFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,19,r.productDeatail,"baseUnitMeasure")),e.xp6(4),e.Q6J("selected",""===r.salesFormGroup.value.plantId),e.xp6(2),e.Q6J("ngForOf",r.productDeatail),e.xp6(3),e.Q6J("selected",""===r.salesFormGroup.value.storageLocationId),e.xp6(2),e.Q6J("ngForOf",r.productDeatail),e.xp6(11),e.Q6J("selected",""===r.salesFormGroup.value.priceUOM),e.xp6(25),e.Q6J("ngStyle",e.VKq(28,Se,r.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===r.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(67,22,r.currencyDetails,"code")),e.xp6(14),e.Q6J("selected",""===t.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(83,25,r.orderStatusDetail,"orderStatus"))}}const ur=function(i){return{"padding-left":i}};let pr=(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g,_,A,q,U,b,I){this.fb=t,this.salesOrderSer=o,this.SalesSer=r,this._snackBar=s,this.distibutionSer=a,this.divisionSer=d,this.companyCodeSer=c,this.orderStatusSer=u,this.paymentTermSer=p,this.modeOfTransportSer=h,this.billinBlockSer=g,this.customerAcctAG=_,this.customerSer=A,this.productSer=q,this.router=U,this.idle=b,this.cd=I,this.salesFormGroup=l.cw,this.isSubmitted=!1,this.isShowPadding=!1,this.salesData=[],this.distributionDetail=[],this.divisionDetail=[],this.companyCodeDetails=[],this.orderStatusDetail=[],this.paymentTermDetail=[],this.motDetails=[],this.billingBlockDetail=[],this.customerAccountAsstGroup=[],this.customerMasterDetail=[],this.productDeatail=[],this.customerCurrency=[],this.customerplant=[],this.productPlant=[],this.companyCurrency=[],this.idleState="Not Started",this.orderTypeDetails=[],b.setIdle(450),b.setTimeout(900),b.setInterrupts(T.WO),b.onIdleEnd.subscribe(()=>{this.idleState="Started",I.detectChanges()}),b.onTimeout.subscribe(()=>{this.idleState="Timeout"}),b.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.getSalesDetail(),this.getDistributionDetail(),this.getDivisionDetail(),this.getCompanyCodeDetail(),this.getOrderStatus(),this.getOrderType(),this.getPaymentTerm(),this.getModeOfTransport(),this.getBillingBlock(),this.getCustomerAcctAG(),this.getProductMasterDetail(),this.getCurrencyDetails(),this.getCustomerMaster(),this.setStates(),this.createSalesFormFields()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createSalesFormFields(){this.salesFormGroup=this.fb.group({orderTypeId:["",l.kI.required],orderType:["",l.kI.required],saleOrgId:["",l.kI.required],saleOrgName:[""],distributionChannelsId:["",l.kI.required],distributionChannelsName:["",l.kI.required],divisionId:["",l.kI.required],divisionName:["",l.kI.required],customerId:["",l.kI.required],customerName:["",l.kI.required],customerAddress:["",l.kI.required],salesOrder:["",l.kI.required],customerPo:["",l.kI.required],customerPoDate:["",l.kI.required],requestedDeliveryDate:["",l.kI.required],companyCurrency:["",l.kI.required],transactionCurrency:["",l.kI.required],text:["",l.kI.required],exchangeRate:["",l.kI.required],modeOfTransport:["",l.kI.required],totalNetWeight:["",l.kI.required],totalGrossWeight:["",l.kI.required],totalVolume:["",l.kI.required],paymentTerms:["",l.kI.required],billingBlockId:["",l.kI.required],billingBlockName:[""],companyCodeId:["",l.kI.required],companyCodeName:[""],customerAcctAss:["",l.kI.required],netPrice:["",l.kI.required],netTax:["",l.kI.required],netDiscount:["",l.kI.required],netFreight:["",l.kI.required],orderStatusId:["65a6853968f1c2318e6aa61c",l.kI.required],orderStatusName:["NON DELIVERED",l.kI.required],otherCharges:["",l.kI.required],itemList:this.fb.array([this.getSalesFields()])})}getSalesFields(){return this.fb.group({materialId:[""],materialDescription:[""],ordQty:[""],uom:[""],plantId:[""],plantName:[""],storageLocationId:[""],storageLocationName:[""],batchSerial:[""],priceAmount:[""],priceUnitPrice:[""],priceUnit:[""],priDate:[""],vol:[""],priceUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],priceDate:[""],netWeight:[""],grossWeight:[""],volumn:[""],orderStatusId:["65a6853968f1c2318e6aa61c"],orderStatusName:["NON DELIVERED"],openQty:[""]})}get salesOrderArray(){return this.salesFormGroup.get("itemList")}addSalesItem(){this.salesOrderArray.push(this.getSalesFields());const t=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((o,r)=>{t.at(r).patchValue({companyCurrency:this.salesFormGroup.value.companyCurrency?this.salesFormGroup.value.companyCurrency:"",transactionCurrency:this.salesFormGroup.value.transactionCurrency?this.salesFormGroup.value.transactionCurrency:"",orderStatusId:"65a6853968f1c2318e6aa61c",orderStatusName:"NON DELIVERED"})})}deleteSalesItem(t,o){o&&this.productDeatail.map(r=>{r.materialId===o&&(r.disable=!1)}),this.salesOrderArray.removeAt(t)}submitData(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0,localStorage.getItem("userName");const r=new Date,s=r.getFullYear(),a=r.getMonth()+1,d=r.getDate(),c=r.getHours(),u=r.getMinutes(),p=r.getSeconds(),h=`${s}-${a.toString().padStart(2,"0")}-${d.toString().padStart(2,"0")} ${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`,g=localStorage.getItem("userName");if(t.salesFormGroup.value.createdOn=h,t.salesFormGroup.value.createdBy=g,t.salesFormGroup.value.changedOn=h,t.salesFormGroup.value.changedBy=g,console.log(t.salesFormGroup.value),t.salesFormGroup.invalid)return;const _=yield t.salesOrderSer.createSalesOrder(t.salesFormGroup.value);if(console.log(_),"1"===_.status)return t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/sales-order-list"]);if("0"===_.status)return void t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(console.error(o),o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getSalesDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.SalesSer.getAllSalesOrgDetails();console.log(o),"1"===o.status?t.salesData=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(t){const o=this.salesData.find(r=>r._id===t.target.value);this.salesFormGroup.controls.saleOrgName.setValue(o.salesOrg)}handleOrderType(t){const o=this.orderTypeDetails.find(r=>r._id===t.target.value);this.salesFormGroup.controls.orderType.setValue(o.description)}getDistributionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.distibutionSer.getAllDistibutionChannelDetails();"1"===o.status&&(t.distributionDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(t){const o=this.distributionDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.distributionChannelsName.setValue(o.distributionChannel)}getDivisionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.divisionSer.getAllDivionDetails();"1"===o.status&&(t.divisionDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(t){const o=this.divisionDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.divisionName.setValue(o.divion)}getCompanyCodeDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCompanyCodeDetails();console.log(o,"company data"),"1"===o.status?t.companyCodeDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCountry(t){const o=this.companyCodeDetails.find(s=>s._id===t.target.value);this.salesFormGroup.controls.companyCodeName.setValue(o.companyCode),this.salesFormGroup.controls.companyCurrency.setValue(o.currencyName);const r=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((s,a)=>{r.at(a).patchValue({companyCurrency:o.currencyName?o.currencyName:""})})}getOrderStatus(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.orderStatusSer.getAllOrderStatusDetails();"1"===o.status&&(t.orderStatusDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrder(t){const o=this.orderStatusDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.orderStatusName.setValue(o.orderStatus)}getPaymentTerm(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.paymentTermSer.getAllPaymentTerm();"1"===o.status&&(t.paymentTermDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getModeOfTransport(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.modeOfTransportSer.getAllModeOfTransportDetails();"1"===o.status&&(t.motDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingBlock(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billinBlockSer.getAllBillingBlockDetails();"1"===o.status&&(t.billingBlockDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingBlock(t){const o=this.billingBlockDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.billingBlockName.setValue(o.billingBlock)}getCustomerAcctAG(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerAcctAG.getAllCustomerAccountDetails();"1"===o.status&&(t.customerAccountAsstGroup=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getOrderType(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.salesOrderSer.getOrderType();"1"===o.status&&(t.orderTypeDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllProductDetails();"1"===o.status&&(t.productDeatail=o.data,t.productDeatail.map(r=>{r.disable=!1}))}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCurrencyDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCurrencyDetails();"1"===o.status?t.currencyDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerSer.getAllCustomerDetails();"1"===o.status&&(t.customerMasterDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCustomer(t){const o=this.customerMasterDetail.find(a=>a.customerId===t.target.value),r=o.plantData.find(a=>a.companyCode===this.salesFormGroup.value.companyCodeId);this.salesFormGroup.controls.transactionCurrency.setValue(r.currencyName);const s=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((a,d)=>{s.at(d).patchValue({transactionCurrency:r.currencyName?r.currencyName:""})}),this.salesFormGroup.patchValue({customerAddress:o?o.address:"",customerName:o?o.customerName:""})}handleMaterial(t,o){const r=this.productDeatail.find(d=>d.materialId===t.target.value);console.log(r),this.productDeatail.map(d=>d.disable=!1),this.salesFormGroup.value.itemList.map(d=>{this.productDeatail.map(c=>{d.materialId===c.materialId&&(c.disable=!0)})}),this.productPlant=r?r.plantData:[],this.customerplant=r?r.salesData:[],this.salesFormGroup.get("itemList").at(o).patchValue({materialDescription:r?r.materialDescription:"",plantName:r?r.deliveringPlantName:"",storageLocationId:r?r.storageLocation:""})}handleCurrency(t){const o=this.companyCodeDetails.find(r=>r.currencyId===t.target.value);console.log(o,"currency ")}handleOrderStatus(t,o){const r=this.orderStatusDetail.find(d=>d._id===t.target.value);this.salesFormGroup.get("itemList").at(o).patchValue({orderStatusName:r?r.orderStatus:""})}handlePlant(t,o,r){const s=this.productDeatail.find(u=>u.materialId===o);console.log(s);const d=this.salesFormGroup.get("itemList").at(r),c=s.salesData.find(u=>u.deliveringPlantId===t.target.value);console.log(c,"selectPlant"),d.patchValue({plantName:c?c.deliveringPlantName:""})}updateValue(t,o){t.target.value&&this.salesFormGroup.get("itemList").at(o).patchValue({openQty:+t.target.value})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(E),e.Y36(V.T),e.Y36(O.ux),e.Y36($.P),e.Y36(H.P),e.Y36(j.X),e.Y36(Ae.$),e.Y36(W.f),e.Y36(K.z),e.Y36(Ce.P),e.Y36(X.P),e.Y36(J.v),e.Y36(k.M),e.Y36(y.F0),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-sales-order"]],decls:294,vars:104,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"mt-2"],["routerLink","/sales/sales-order-list/",1,"back"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],[1,""],["aria-label","Default select example","formControlName","orderTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["aria-label","Default select example","formControlName","saleOrgId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","distributionChannelsId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","divisionId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","companyCodeId",1,"form-select",3,"change"],["type","text","placeholder","Autofetched","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select",3,"change"],["type","text","placeholder","Enter customer Address","formControlName","customerAddress",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select",3,"ngStyle"],["type","text","placeholder","Enter Sales Order","formControlName","salesOrder",1,"form-control"],["type","text","placeholder","Enter Customer PO","formControlName","customerPo",1,"form-control"],["type","date","placeholder","Enter PO Date","formControlName","customerPoDate",1,"form-control"],["type","date","placeholder","Enter Req Delivery Date","formControlName","requestedDeliveryDate",1,"form-control"],["type","text","placeholder"," Enter Text","formControlName","text",1,"form-control"],["aria-label","Default select example","formControlName","orderStatusId",1,"form-select",3,"change"],["type","text","placeholder","Enter Exchange Rate","formControlName","exchangeRate",1,"form-control"],["aria-label","Default select example","formControlName","modeOfTransport",1,"form-select"],["type","text","placeholder","Calculated Total Net Weight","formControlName","totalNetWeight",1,"form-control"],["type","text","placeholder","Calculated Total Gross Wt","formControlName","totalGrossWeight",1,"form-control"],["type","text","placeholder","Calculated Total Volume","formControlName","totalVolume",1,"form-control"],["aria-label","Default select example","formControlName","paymentTerms",1,"form-select"],["aria-label","Default select example","formControlName","billingBlockId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","customerAcctAss",1,"form-select"],["type","number","min","0","placeholder","Enter Net Price","formControlName","netPrice",1,"form-control"],["type","number","min","0","placeholder","Enter Net Tax","formControlName","netTax",1,"form-control"],["type","number","min","0","placeholder","Enter Net Discount","formControlName","netDiscount",1,"form-control"],["type","number","min","0","placeholder","enter Net Freight","formControlName","netFreight",1,"form-control"],["type","number","min","0","placeholder","Other Charges","formControlName","otherCharges",1,"form-control"],[1,"row","border","mt-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"py-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-12","d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["aria-label","Default select example","formControlName","materialId",1,"form-select",3,"change"],[3,"disabled","value",4,"ngFor","ngForOf"],["type","text","placeholder","Autofetched Product Description","formControlName","materialDescription",1,"form-control"],["type","number","min","0","placeholder","Oredr Qty","formControlName","ordQty",1,"form-control",3,"focusout"],["aria-label","Default select example","formControlName","uom",1,"form-select","w-100"],["aria-label","Default select example","formControlName","plantId",1,"form-select","w-100",3,"change"],[4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","storageLocationId",1,"form-select","w-100"],["type","text","placeholder","Enter Batch","formControlName","batchSerial",1,"form-control"],["type","number","min","0","placeholder","Enter Price Amount","formControlName","priceAmount",1,"form-control"],["type","number","min","0","placeholder","Enter Per Unit Price","formControlName","priceUnitPrice",1,"form-control"],["type","number","min","0","placeholder","Pricing Unit","formControlName","priceUnit",1,"form-control"],["aria-label","Default select example","formControlName","priceUOM",1,"form-select"],["value","1"],["value","2"],["value","3"],["type","text","placeholder"," Enter Tax","formControlName","tax",1,"form-control"],["type","number","min","0","placeholder","Per Unit Tax","formControlName","perUnitTax",1,"form-control"],["type","number","min","0","placeholder","Discount","formControlName","discount",1,"form-control"],["type","number","min","0","placeholder","Per Unit Discount","formControlName","perUnitDiscount",1,"form-control"],["type","number","min","0","placeholder","Freight","formControlName","freight",1,"form-control"],["type","number","min","0","placeholder","Per Unit Freight","formControlName","perUnitFreight",1,"form-control"],["type","text","placeholder","Auto Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["type","text","placeholder","Exchange Rate","formControlName","exchangeRate",1,"form-control"],["type","date","placeholder","price Date","formControlName","priceDate",1,"form-control"],["type","number","min","0","placeholder","Net Weight","formControlName","netWeight",1,"form-control"],["type","number","min","0","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control"],["type","number","min","0","placeholder","Volume","formControlName","volumn",1,"form-control"],[2,"cursor","pointer",3,"click"],[3,"disabled","value"],[3,"ngStyle","value",4,"ngFor","ngForOf"],[3,"ngStyle","value"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"h3",2)(3,"mat-icon",3),e._uU(4,"arrow_back"),e.qZA(),e._uU(5," Sales Order "),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return r.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Order Type"),e.qZA(),e.TgZ(13,"select",10),e.NdJ("change",function(a){return r.handleOrderType(a)}),e.TgZ(14,"option",11),e._uU(15,"Select Order Type "),e.qZA(),e.YNc(16,lt,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA(),e.YNc(18,dt,3,0,"div",13),e.YNc(19,ct,3,0,"div",13),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Sales Org"),e.qZA(),e.TgZ(23,"select",14),e.NdJ("change",function(a){return r.handleSales(a)}),e.TgZ(24,"option",11),e._uU(25,"Select Sales Org "),e.qZA(),e.YNc(26,ut,2,2,"option",12),e.ALo(27,"filterPipes"),e.qZA(),e.YNc(28,pt,3,0,"div",13),e.YNc(29,mt,3,0,"div",13),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Distribution Channel"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("change",function(a){return r.handleDistribution(a)}),e.TgZ(34,"option",11),e._uU(35," Select Distribution Channel"),e.qZA(),e.YNc(36,ht,2,2,"option",12),e.ALo(37,"filterPipes"),e.qZA(),e.YNc(38,gt,3,0,"div",13),e.YNc(39,ft,3,0,"div",13),e.qZA(),e.TgZ(40,"div",8)(41,"label",9),e._uU(42,"Division"),e.qZA(),e.TgZ(43,"select",16),e.NdJ("change",function(a){return r.handleDivision(a)}),e.TgZ(44,"option",11),e._uU(45,"Select Division "),e.qZA(),e.YNc(46,_t,2,2,"option",12),e.ALo(47,"filterPipes"),e.qZA(),e.YNc(48,vt,3,0,"div",13),e.YNc(49,yt,3,0,"div",13),e.qZA(),e.TgZ(50,"div",8)(51,"label",9),e._uU(52,"Company Code"),e.qZA(),e.TgZ(53,"select",17),e.NdJ("change",function(a){return r.handleCountry(a)}),e.TgZ(54,"option",11),e._uU(55,"Select Company Code "),e.qZA(),e.YNc(56,Zt,2,2,"option",12),e.ALo(57,"filterPipes"),e.qZA()(),e.TgZ(58,"div",8)(59,"label",9),e._uU(60,"Company Currency"),e.qZA(),e._UZ(61,"input",18),e.qZA(),e.TgZ(62,"div",8)(63,"label",9),e._uU(64,"Customer Id"),e.qZA(),e.TgZ(65,"select",19),e.NdJ("change",function(a){return r.handleCustomer(a)}),e.TgZ(66,"option",11),e._uU(67,"Select Customer Id "),e.qZA(),e.YNc(68,Tt,2,2,"option",12),e.ALo(69,"filterPipes"),e.qZA(),e.YNc(70,At,3,0,"div",13),e.YNc(71,Ct,3,0,"div",13),e.qZA(),e.TgZ(72,"div",8)(73,"label",9),e._uU(74,"Customer Address"),e.qZA(),e._UZ(75,"input",20),e.YNc(76,bt,3,0,"div",13),e.YNc(77,St,3,0,"div",13),e.qZA(),e.TgZ(78,"div",8)(79,"label",9),e._uU(80,"Transaction Currency"),e.qZA(),e.TgZ(81,"select",21)(82,"option",11),e._uU(83,"Select Transaction Currency"),e.qZA(),e.YNc(84,qt,2,2,"option",12),e.ALo(85,"filterPipes"),e.qZA()(),e.TgZ(86,"div",8)(87,"label"),e._uU(88,"Sales Order "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e._UZ(91,"input",22),e.YNc(92,Dt,3,0,"div",13),e.YNc(93,It,3,0,"div",13),e.qZA(),e.TgZ(94,"div",8)(95,"label",9),e._uU(96,"Customer PO "),e.TgZ(97,"sup"),e._uU(98,"*"),e.qZA()(),e._UZ(99,"input",23),e.YNc(100,Ut,3,0,"div",13),e.YNc(101,Nt,3,0,"div",13),e.qZA(),e.TgZ(102,"div",8)(103,"label",9),e._uU(104,"Customer PO Date "),e.TgZ(105,"sup"),e._uU(106,"*"),e.qZA()(),e._UZ(107,"input",24),e.YNc(108,Ot,3,0,"div",13),e.YNc(109,Ft,3,0,"div",13),e.qZA(),e.TgZ(110,"div",8)(111,"label",9),e._uU(112,"Req Delivery Date "),e.TgZ(113,"sup"),e._uU(114,"*"),e.qZA()(),e._UZ(115,"input",25),e.YNc(116,Pt,3,0,"div",13),e.YNc(117,Gt,3,0,"div",13),e.qZA(),e.TgZ(118,"div",8)(119,"label",9),e._uU(120," Text"),e.qZA(),e._UZ(121,"input",26),e.qZA(),e.TgZ(122,"div",8)(123,"label",9),e._uU(124,"Order Status"),e.qZA(),e.TgZ(125,"select",27),e.NdJ("change",function(a){return r.handleOrder(a)}),e.TgZ(126,"option",11),e._uU(127,"Select Order Status "),e.qZA(),e.YNc(128,Et,2,2,"option",12),e.ALo(129,"filterPipes"),e.qZA(),e.YNc(130,kt,3,0,"div",13),e.YNc(131,xt,3,0,"div",13),e.qZA(),e.TgZ(132,"div",8)(133,"label",9),e._uU(134,"Exchange Rate"),e.qZA(),e._UZ(135,"input",28),e.qZA(),e.TgZ(136,"div",8)(137,"label",9),e._uU(138,"Mode of Transport"),e.qZA(),e.TgZ(139,"select",29)(140,"option",11),e._uU(141,"Select Mode of Transport"),e.qZA(),e.YNc(142,Bt,2,2,"option",12),e.ALo(143,"filterPipes"),e.qZA()(),e.TgZ(144,"div",8)(145,"label",9),e._uU(146,"Total Net Weight"),e.qZA(),e._UZ(147,"input",30),e.qZA(),e.TgZ(148,"div",8)(149,"label",9),e._uU(150,"Total Gross Wt"),e.qZA(),e._UZ(151,"input",31),e.qZA(),e.TgZ(152,"div",8)(153,"label",9),e._uU(154,"Total Volume"),e.qZA(),e._UZ(155,"input",32),e.qZA(),e.TgZ(156,"div",8)(157,"label",9),e._uU(158,"Payment Term"),e.qZA(),e.TgZ(159,"select",33)(160,"option",11),e._uU(161,"Select Payment Term "),e.qZA(),e.YNc(162,Jt,2,2,"option",12),e.ALo(163,"filterPipes"),e.qZA()(),e.TgZ(164,"div",8)(165,"label",9),e._uU(166,"Billing Block"),e.qZA(),e.TgZ(167,"select",34),e.NdJ("change",function(a){return r.handleBillingBlock(a)}),e.TgZ(168,"option",11),e._uU(169,"Select Billing Block "),e.qZA(),e.YNc(170,wt,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA()(),e.TgZ(172,"div",8)(173,"label",9),e._uU(174,"Customer Account"),e.qZA(),e.TgZ(175,"select",35)(176,"option",11),e._uU(177,"Select Customer Account"),e.qZA(),e.YNc(178,Qt,2,2,"option",12),e.ALo(179,"filterPipes"),e.qZA(),e.YNc(180,Lt,3,0,"div",13),e.YNc(181,Yt,3,0,"div",13),e.qZA(),e.TgZ(182,"div",8)(183,"label",9),e._uU(184,"Net Price "),e.TgZ(185,"sup"),e._uU(186,"*"),e.qZA()(),e._UZ(187,"input",36),e.YNc(188,Mt,3,0,"div",13),e.YNc(189,zt,3,0,"div",13),e.qZA(),e.TgZ(190,"div",8)(191,"label",9),e._uU(192,"Net Tax "),e.TgZ(193,"sup"),e._uU(194,"*"),e.qZA()(),e._UZ(195,"input",37),e.YNc(196,Rt,3,0,"div",13),e.YNc(197,Vt,3,0,"div",13),e.qZA(),e.TgZ(198,"div",8)(199,"label",9),e._uU(200,"Net Discount "),e.TgZ(201,"sup"),e._uU(202,"*"),e.qZA()(),e._UZ(203,"input",38),e.YNc(204,$t,3,0,"div",13),e.YNc(205,Ht,3,0,"div",13),e.qZA(),e.TgZ(206,"div",8)(207,"label",9),e._uU(208,"Net Freight "),e.TgZ(209,"sup"),e._uU(210,"*"),e.qZA()(),e._UZ(211,"input",39),e.YNc(212,jt,3,0,"div",13),e.YNc(213,Wt,3,0,"div",13),e.qZA(),e.TgZ(214,"div",8)(215,"label",9),e._uU(216,"Other Charges "),e.TgZ(217,"sup"),e._uU(218,"*"),e.qZA()(),e._UZ(219,"input",40),e.YNc(220,Kt,3,0,"div",13),e.YNc(221,Xt,3,0,"div",13),e.qZA()(),e.TgZ(222,"div",41)(223,"div",5)(224,"div",4)(225,"div",42)(226,"h3",43),e._uU(227," Item Data "),e.qZA()(),e.TgZ(228,"div",44)(229,"button",45),e.NdJ("click",function(){return r.addSalesItem()}),e._uU(230,"Add"),e.qZA()()(),e.TgZ(231,"div",46)(232,"table",47)(233,"thead")(234,"tr"),e.YNc(235,er,2,0,"th",13),e.TgZ(236,"th"),e._uU(237,"Product Id"),e.qZA(),e.TgZ(238,"th"),e._uU(239,"Product Description"),e.qZA(),e.TgZ(240,"th"),e._uU(241,"Order Qty"),e.qZA(),e.TgZ(242,"th"),e._uU(243,"UOM"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Plant"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Storage Location"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Batch/Serial #"),e.qZA(),e.TgZ(250,"th"),e._uU(251,"Price Amount"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Per Unit Price"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Pricing Unit"),e.qZA(),e.TgZ(256,"th"),e._uU(257,"Pricing UOM"),e.qZA(),e.TgZ(258,"th"),e._uU(259,"Tax"),e.qZA(),e.TgZ(260,"th"),e._uU(261,"Per Unit Tax"),e.qZA(),e.TgZ(262,"th"),e._uU(263,"Discount"),e.qZA(),e.TgZ(264,"th"),e._uU(265,"Per Unit Discount"),e.qZA(),e.TgZ(266,"th"),e._uU(267,"Freight"),e.qZA(),e.TgZ(268,"th"),e._uU(269,"Per Unit Freight"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"Other Charges"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Company Currency"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Transaction Currency"),e.qZA(),e.TgZ(276,"th"),e._uU(277,"Exchange Rate"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Pricing Date"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Net Weight"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"Gross Weight"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Volume"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Order Status"),e.qZA()()(),e.TgZ(288,"tbody",48),e.YNc(289,cr,84,30,"tr",49),e.qZA()()()()(),e.TgZ(290,"div",50)(291,"div",51)(292,"button",52),e._uU(293,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(100,ur,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.salesFormGroup),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.order),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,64,r.orderTypeDetails,"description")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.orderTypeId.touched&&r.salesFormGroup.controls.orderTypeId.touched&&r.salesFormGroup.controls.orderTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.orderTypeId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.saleOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(27,67,r.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.saleOrgId.touched&&r.salesFormGroup.controls.saleOrgId.touched&&r.salesFormGroup.controls.saleOrgId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.saleOrgId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.distributionChannelsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,70,r.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.distributionChannelsId.touched&&r.salesFormGroup.controls.distributionChannelsId.touched&&r.salesFormGroup.controls.distributionChannelsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.distributionChannelsId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(47,73,r.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.divisionId.touched&&r.salesFormGroup.controls.divisionId.touched&&r.salesFormGroup.controls.divisionId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.divisionId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(57,76,r.companyCodeDetails,"companyCode")),e.xp6(10),e.Q6J("selected",""===r.salesFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",e.xi3(69,79,r.customerMasterDetail,"customerId")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.customerId.touched&&r.salesFormGroup.controls.customerId.touched&&r.salesFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.salesFormGroup.controls.customerAddress.touched&&r.salesFormGroup.controls.customerAddress.touched&&r.salesFormGroup.controls.customerAddress.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerAddress.hasError("required")),e.xp6(4),e.Q6J("ngStyle",e.VKq(102,Se,r.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===r.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(85,82,r.currencyDetails,"code")),e.xp6(8),e.Q6J("ngIf",r.salesFormGroup.controls.salesOrder.touched&&r.salesFormGroup.controls.salesOrder.touched&&r.salesFormGroup.controls.salesOrder.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.salesOrder.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.customerPo.touched&&r.salesFormGroup.controls.customerPo.touched&&r.salesFormGroup.controls.customerPo.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerPo.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.customerPoDate.touched&&r.salesFormGroup.controls.customerPoDate.touched&&r.salesFormGroup.controls.customerPoDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerPoDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.requestedDeliveryDate.touched&&r.salesFormGroup.controls.requestedDeliveryDate.touched&&r.salesFormGroup.controls.requestedDeliveryDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.requestedDeliveryDate.hasError("required")),e.xp6(9),e.Q6J("selected",""===r.salesFormGroup.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(129,85,r.orderStatusDetail,"orderStatus")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.orderStatusId.touched&&r.salesFormGroup.controls.orderStatusId.touched&&r.salesFormGroup.controls.orderStatusId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.orderStatusId.hasError("required")),e.xp6(9),e.Q6J("selected",""===r.salesFormGroup.value.modeOfTransport),e.xp6(2),e.Q6J("ngForOf",e.xi3(143,88,r.motDetails,"modeOfTransport")),e.xp6(18),e.Q6J("selected",""===r.salesFormGroup.value.paymentTerms),e.xp6(2),e.Q6J("ngForOf",e.xi3(163,91,r.paymentTermDetail,"paymentTerm")),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.billingBlockId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,94,r.billingBlockDetail,"billingBlock")),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.customerAcctAss),e.xp6(2),e.Q6J("ngForOf",e.xi3(179,97,r.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.customerAcctAss.touched&&r.salesFormGroup.controls.customerAcctAss.touched&&r.salesFormGroup.controls.customerAcctAss.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerAcctAss.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netPrice.touched&&r.salesFormGroup.controls.netPrice.touched&&r.salesFormGroup.controls.netPrice.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netPrice.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netTax.touched&&r.salesFormGroup.controls.netTax.touched&&r.salesFormGroup.controls.netTax.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netDiscount.touched&&r.salesFormGroup.controls.netDiscount.touched&&r.salesFormGroup.controls.netDiscount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netFreight.touched&&r.salesFormGroup.controls.netFreight.touched&&r.salesFormGroup.controls.netFreight.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.otherCharges.touched&&r.salesFormGroup.controls.otherCharges.touched&&r.salesFormGroup.controls.otherCharges.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.otherCharges.hasError("required")),e.xp6(14),e.Q6J("ngIf",r.salesOrderArray.controls.length>1),e.xp6(54),e.Q6J("ngForOf",r.salesFormGroup.get("itemList").controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.qQ,l.sg,l.u,l.x0,l.CE,P.s,w],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return i})(),Q=(()=>{class i{constructor(t){this.http=t}createDeliveryDetails(t){return this.http.post("http://54.151.187.67:4000/api/sales/delivery/create",t).toPromise()}getAllDeliveryDetails(){return this.http.get("http://54.151.187.67:4000/api/sales/delivery/getAll").toPromise()}getAllDeliveryDetailsPage(t,o){return this.http.get("http://54.151.187.67:4000/api/sales/delivery/getAll").toPromise()}singleDeliveryDetails(t){return this.http.get(`http://54.151.187.67:4000/api/sales/delivery/get/${t}`).toPromise()}updateDeliveryDetails(t){return this.http.put(`http://54.151.187.67:4000/api/sales/delivery/update/${t._id}`,t).toPromise()}updateDeliveryMany(t){return this.http.put("http://54.151.187.67:4000/api/sales/delivery/update",t).toPromise()}getAllDeliveryTypeDetails(){return this.http.get("http://54.151.187.67:4000/api/config/deliveryType/getAll").toPromise()}exportToExcel(t,o,r){const s=[];console.log(s),t.map(u=>{u.itemList.map(p=>{p.itemData=u.itemData,s.push(p)})}),t.map(u=>{delete u.isLock,delete u.isActive,delete u.__v,delete u.check,delete u.itemList});const a=S.P6.book_new(),d=S.P6.json_to_sheet(t);S.P6.book_append_sheet(a,d,"Delivery");const c=S.P6.json_to_sheet(s);S.P6.book_append_sheet(a,c,"Item_Data"),S.NC(a,`${o}.xlsx`)}getDeliveryDetails(){return this.http.get("http://54.151.187.67:4000/api/config/deliveryType/getAll").toPromise()}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(ae.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function mr(i,n){1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",26),e._uU(3,"No Records"),e.qZA()()())}function hr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",28)(13,"div")(14,"mat-icon",29),e._uU(15,"edit"),e.qZA()(),e.TgZ(16,"div")(17,"mat-icon",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteRecords(s))}),e._uU(18,"delete"),e.qZA()()()(),e.TgZ(19,"td")(20,"input",31),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.particularcheck(r,a))}),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.deliveryType),e.xp6(2),e.Oqu(t.plantName),e.xp6(2),e.Oqu(t.deliveryAddress),e.xp6(2),e.Oqu(t.deliveryPartner),e.xp6(4),e.Q6J("routerLink","/sales/edit-delivery/"+t._id),e.xp6(6),e.Q6J("checked",t.check)}}function gr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"pagination",33),e.NdJ("ngModelChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.currentPage=r)})("pageChanged",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.pageChanged(r))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("totalItems",t.totalItem)("ngModel",t.currentPage)}}const fr=function(i){return{"padding-left":i}};let _r=(()=>{class i{constructor(t,o,r,s,a){this.router=t,this.deliverySer=o,this._snackBar=r,this.idle=s,this.cd=a,this.isShowPadding=!1,this.deliveryDetail=[],this.selectAll=!1,this.allDeliveryDetails=[],this.totalItem=0,this.currentPage=1,this.page=0,this.itemsPerPage=10,this.sampleJson={deliveryType:"Domestic",saleOrgName:"SALES ORGANIZATION",distributionChannelsName:"D123",divisionName:"TEST DIVISION",customerName:"Test",customerAddress:"1",salesOrder:"1",createdOn:"02/01/2024",createdBy:"SuperAdmin",changedOn:"02/01/2024",changedBy:"SuperAdmin",customerPo:"1",customerPoDate:"03/01/2024",requestedDeliveryDate:"30/01/2024",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",modeOfTransport:"xyz",totalNetWeight:"1",totalGrossWeight:"1",totalVolume:"1",paymentTerms:"abx",billingBlockName:"block23",companyCodeName:"TCS234",customerAcctAss:"abc",netPrice:1,netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",text:"test",orderStatusName:"ord12",itemList:[{materialDescription:"Tv",ordQty:"2",uom:"one",plant:"1",storageLocation:"xyz",batchSerial:"1",priceAmount:1,priceUnitPrice:1,priceUnit:"1",priceUOM:"l",tax:"1",perUnitTax:"1",discount:"1",perUnitDiscount:"1",freight:"1",perUnitFreight:"1",otherCharges:"1",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",priceDate:"1",netWeight:"1",grossWeight:"1",volumn:"1"}]},this.idleState="Not Started",s.setIdle(450),s.setTimeout(900),s.setInterrupts(T.WO),s.onIdleEnd.subscribe(()=>{this.idleState="Started",a.detectChanges()}),s.onTimeout.subscribe(()=>{this.idleState="Timeout"}),s.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.getAllDeliveryDetail(this.page,this.itemsPerPage),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(t){this.router.navigate([`${t}`])}handleSideBar(t){this.isShowPadding=t}pageChanged(t){this.page=t.page,this.getAllDeliveryDetail((this.page-1)*this.itemsPerPage,this.itemsPerPage)}downloadExcel(){this.deliverySer.exportToExcel([this.sampleJson],"delivery","Sheet1")}exportExcel(){this.deliverySer.exportToExcel(this.deliveryDetail,"delivery","Sheet1"),console.log(this.exportExcel)}getAllDeliveryDetail(t,o){var r=this;return(0,m.Z)(function*(){try{const s=yield r.deliverySer.getAllDeliveryDetailsPage(t,o);"1"===s.status&&(r.deliveryDetail=s.data,r.allDeliveryDetails=s.data,s.data.map(a=>{a.check=!1}),r.deliveryDetail=s.data)}catch(s){if(s.error.message)return void r._snackBar.open(s.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleFilter(t){if(!t.target.value)return void(this.deliveryDetail=this.allDeliveryDetails);console.log(t.target.value);const o=this.allDeliveryDetails.filter(r=>r.deliveryType.toUpperCase().includes(t.target.value.toUpperCase()));this.deliveryDetail=o,console.log(o)}selectdata(t){console.log(t.target.checked),this.selectAll=t.target.checked,console.log(typeof this.selectAll),this.deliveryDetail.map(o=>{o.check=t.target.checked})}particularcheck(t,o){this.deliveryDetail[o].check=t.target.checked,this.selectAll=!this.deliveryDetail.find(s=>!1===s.check)}deleteRecords(t){var o=this;return(0,m.Z)(function*(){try{t.isActive="C";const r=yield o.deliverySer.updateDeliveryDetails(t);if(console.log(r),"1"===r.status)return o._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void o.getAllDeliveryDetail(o.page,o.itemsPerPage);"0"===r.status&&o._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(r){if(r.error.message)return void o._snackBar.open(r.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});o._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDeleteMuliple(){var t=this;return(0,m.Z)(function*(){try{const o=t.deliveryDetail.filter(s=>!0===s.check);o.map(s=>{s.isActive="C"});const r=yield t.deliverySer.updateDeliveryMany(o);if("1"===r.status)return t._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.getAllDeliveryDetail(t.page,t.itemsPerPage);"0"===r.status&&t._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){console.error(o),t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(y.F0),e.Y36(Q),e.Y36(O.ux),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-delivery-list"]],decls:56,vars:9,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","py-2"],[1,"form-group","form-row"],[1,"col-12","d-grid","gap-2","d-md-flex"],["type","text","placeholder","Enter delivery type",1,"form-control",3,"input"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",2,"color","white","background","#00acff",3,"click"],["type","button",1,"btn","btn-danger",2,"color","white",3,"click"],[2,"width","15px","height","15px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","selectAll",3,"checked","change"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","col-xs-12 col-12 d-flex justify-content-center",4,"ngIf"],["colspan","7",1,"text-center"],["scope","row"],[1,"d-flex"],[3,"routerLink"],[3,"click"],["type","checkbox",1,"checkbox",3,"checked","change"],[1,"col-xs-12","col-12","d-flex","justify-content-center"],[3,"totalItems","ngModel","ngModelChange","pageChanged"]],template:function(o,r){if(1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"input",8),e.NdJ("input",function(a){return r.handleFilter(a)}),e.qZA()()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){return r.nextPage("/sales/add-delivery/")}),e._uU(12,"Add Delivery"),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){return r.handleDeleteMuliple()}),e.TgZ(14,"mat-icon",13),e._uU(15,"delete"),e.qZA(),e._uU(16," Delete Selected Delivery"),e.qZA(),e.TgZ(17,"button",14)(18,"mat-icon"),e._uU(19,"more_vert"),e.qZA()(),e.TgZ(20,"mat-menu",null,15)(22,"button",16)(23,"span"),e._uU(24,"Import Delivery"),e.qZA()(),e.TgZ(25,"button",17),e.NdJ("click",function(){return r.exportExcel()}),e.TgZ(26,"span"),e._uU(27,"Export Delivery"),e.qZA()(),e.TgZ(28,"button",17),e.NdJ("click",function(){return r.downloadExcel()}),e.TgZ(29,"span"),e._uU(30,"Sample Delivery Sheet"),e.qZA()()()()()()()(),e.TgZ(31,"div",18)(32,"div",3)(33,"div",19)(34,"table",20)(35,"thead")(36,"tr")(37,"th"),e._uU(38,"SN"),e.qZA(),e.TgZ(39,"th",21),e._uU(40,"Delivery Type"),e.qZA(),e.TgZ(41,"th",21),e._uU(42,"Plant "),e.qZA(),e.TgZ(43,"th",21),e._uU(44,"Delivery Address"),e.qZA(),e.TgZ(45,"th",21),e._uU(46,"Delivery Partner"),e.qZA(),e.TgZ(47,"th",21),e._uU(48,"Action"),e.qZA(),e.TgZ(49,"th",21)(50,"input",22),e.NdJ("change",function(a){return r.selectdata(a)}),e.qZA(),e._uU(51," Select All "),e.qZA()()(),e.YNc(52,mr,4,0,"tbody",23),e.TgZ(53,"tbody"),e.YNc(54,hr,21,7,"tr",24),e.qZA()()()(),e.YNc(55,gr,2,2,"div",25),e.qZA()()),2&o){const s=e.MAs(21);e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,fr,r.isShowPadding?"280px":"100px")),e.xp6(16),e.Q6J("matMenuTriggerFor",s),e.xp6(33),e.Q6J("checked",r.selectAll),e.xp6(2),e.Q6J("ngIf",0===r.deliveryDetail.length),e.xp6(2),e.Q6J("ngForOf",r.deliveryDetail),e.xp6(1),e.Q6J("ngIf",r.deliveryDetail.length>10)}},dependencies:[v.sg,v.O5,v.PC,y.rH,R.RK,N.Hw,F.VK,F.OP,F.p6,l.JJ,P.s,l.On,le.Qt]})}return i})();var vr=f(3519),ee=f.n(vr),de=f(6292);class yr{constructor(n,t){this.open=n,this.close=t||n}isManual(){return"manual"===this.open||"manual"===this.close}}const Zr={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const C=typeof window<"u"&&window||{};var De=function(i){return i.isBs4="bs4",i.isBs5="bs5",i}(De||{});let G;function Ie(){const i=C.document.createElement("span");i.innerText="testing bs version",i.classList.add("d-none"),i.classList.add("pl-1"),C.document.head.appendChild(i);const n=C.getComputedStyle(i).paddingLeft;return n&&parseFloat(n)?(C.document.head.removeChild(i),"bs4"):(C.document.head.removeChild(i),"bs5")}function L(){return{isBs4:(G||(G=Ie()),"bs4"===G),isBs5:(G||(G=Ie()),"bs5"===G)}}class Ue{static reflow(n){}static getStyles(n){let t=n.ownerDocument.defaultView;return(!t||!t.opener)&&(t=C),t.getComputedStyle(n)}static stackOverflowConfig(){const n=function qr(){const i=L(),n=Object.keys(i).find(t=>i[t]);return De[n]}();return{crossorigin:"anonymous",integrity:"bs5"===n?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===n?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var Ir=f(8645),Ur=f(3019),Oe=f(2438),Nr=f(2096),Or=f(927),Fe=function(i){return i.top="top",i.bottom="bottom",i.left="left",i.right="right",i.auto="auto",i.end="right",i.start="left",i["top left"]="top left",i["top right"]="top right",i["right top"]="right top",i["right bottom"]="right bottom",i["bottom right"]="bottom right",i["bottom left"]="bottom left",i["left bottom"]="left bottom",i["left top"]="left top",i["top start"]="top left",i["top end"]="top right",i["end top"]="right top",i["end bottom"]="right bottom",i["bottom end"]="bottom right",i["bottom start"]="bottom left",i["start bottom"]="start bottom",i["start top"]="left top",i}(Fe||{}),ce=function(i){return i.top="top",i.bottom="bottom",i.left="start",i.right="end",i.auto="auto",i.end="end",i.start="start",i["top left"]="top start",i["top right"]="top end",i["right top"]="end top",i["right bottom"]="end bottom",i["bottom right"]="bottom end",i["bottom left"]="bottom start",i["left bottom"]="start bottom",i["left top"]="start top",i["top start"]="top start",i["top end"]="top end",i["end top"]="end top",i["end bottom"]="end bottom",i["bottom end"]="bottom end",i["bottom start"]="bottom start",i["start bottom"]="start bottom",i["start top"]="start top",i}(ce||{});function x(i,n){if(1!==i.nodeType)return[];const o=i.ownerDocument.defaultView?.getComputedStyle(i,null);return n?o&&o[n]:o}function ue(i){if(!i)return document.documentElement;let o,t=i?.offsetParent;for(;null===t&&i.nextElementSibling&&o!==i.nextElementSibling;)o=i.nextElementSibling,t=o.offsetParent;const r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===x(t,"position")?ue(t):t:o?o.ownerDocument.documentElement:document.documentElement}function pe(i){return null!==i.parentNode?pe(i.parentNode):i}function te(i,n){if(!(i&&i.nodeType&&n&&n.nodeType))return document.documentElement;const t=i.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,o=t?i:n,r=t?n:i,s=document.createRange();s.setStart(o,0),s.setEnd(r,0);const a=s.commonAncestorContainer;if(i!==a&&n!==a||o.contains(r))return function Fr(i){const{nodeName:n}=i;return"BODY"!==n&&("HTML"===n||ue(i.firstElementChild)===i)}(a)?a:ue(a);const d=pe(i);return d.host?te(d.host,n):te(i,pe(n).host)}function Pe(i){if(!i||!i.parentElement)return document.documentElement;let n=i.parentElement;for(;n?.parentElement&&"none"===x(n,"transform");)n=n.parentElement;return n||document.documentElement}function Ge(i,n){const t="x"===n?"Left":"Top",o="Left"===t?"Right":"Bottom";return parseFloat(i[`border${t}Width`])+parseFloat(i[`border${o}Width`])}function Ee(i,n,t,o){return Math.max(n[`offset${i}`],n[`scroll${i}`],t[`client${i}`],t[`offset${i}`],t[`scroll${i}`],0)}function ke(i){const n=i.body,t=i.documentElement;return{height:Ee("Height",n,t),width:Ee("Width",n,t)}}function Y(i){return{...i,right:(i.left||0)+i.width,bottom:(i.top||0)+i.height}}function Z(i){return"number"==typeof i||"[object Number]"===Object.prototype.toString.call(i)}function xe(i){const n=i.getBoundingClientRect();if(!(n&&Z(n.top)&&Z(n.left)&&Z(n.bottom)&&Z(n.right)))return n;const t={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},o="HTML"===i.nodeName?ke(i.ownerDocument):void 0,r=o?.width||i.clientWidth||Z(n.right)&&Z(t.left)&&n.right-t.left||0,s=o?.height||i.clientHeight||Z(n.bottom)&&Z(t.top)&&n.bottom-t.top||0;let a=i.offsetWidth-r,d=i.offsetHeight-s;if(a||d){const c=x(i);a-=Ge(c,"x"),d-=Ge(c,"y"),t.width-=a,t.height-=d}return Y(t)}function me(i){return"HTML"===i.nodeName?i:i.parentNode||i.host}function he(i){if(!i)return document.body;switch(i.nodeName){case"HTML":case"BODY":return i.ownerDocument.body;case"#document":return i.body}const{overflow:n,overflowX:t,overflowY:o}=x(i);return/(auto|scroll|overlay)/.test(String(n)+String(o)+String(t))?i:he(me(i))}function ge(i,n,t=!1){const o="HTML"===n.nodeName,r=xe(i),s=xe(n),d=(he(i),x(n)),c=parseFloat(d.borderTopWidth),u=parseFloat(d.borderLeftWidth);t&&o&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const p=Y({top:(r.top??0)-(s.top??0)-c,left:(r.left??0)-(s.left??0)-u,width:r.width,height:r.height});if(p.marginTop=0,p.marginLeft=0,o){const h=parseFloat(d.marginTop),g=parseFloat(d.marginLeft);Z(p.top)&&(p.top-=c-h),Z(p.bottom)&&(p.bottom-=c-h),Z(p.left)&&(p.left-=u-g),Z(p.right)&&(p.right-=u-g),p.marginTop=h,p.marginLeft=g}return p}function Be(i,n="top"){const t="top"===n?"scrollTop":"scrollLeft",o=i.nodeName;return"BODY"===o||"HTML"===o?(i.ownerDocument.scrollingElement||i.ownerDocument.documentElement)[t]:i[t]}function Je(i){const n=i.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===x(i,"position")||Je(me(i)))}function fe(i,n,t=0,o,r=!1){let s={top:0,left:0};const a=r?Pe(i):te(i,n);if("viewport"===o)s=function Gr(i,n=!1){const t=i.ownerDocument.documentElement,o=ge(i,t),r=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),a=n?0:Be(t),d=n?0:Be(t,"left");return Y({top:a-Number(o?.top)+Number(o?.marginTop),left:d-Number(o?.left)+Number(o?.marginLeft),width:r,height:s})}(a,r);else{let d;"scrollParent"===o?(d=he(me(n)),"BODY"===d.nodeName&&(d=i.ownerDocument.documentElement)):d="window"===o?i.ownerDocument.documentElement:o;const c=ge(d,a,r);if(c&&"HTML"===d.nodeName&&!Je(a)){const{height:u,width:p}=ke(i.ownerDocument);Z(s.top)&&Z(c.top)&&Z(c.marginTop)&&(s.top+=c.top-c.marginTop),Z(s.top)&&(s.bottom=Number(u)+Number(c.top)),Z(s.left)&&Z(c.left)&&Z(c.marginLeft)&&(s.left+=c.left-c.marginLeft),Z(s.top)&&(s.right=Number(p)+Number(c.left))}else c&&(s=c)}return Z(s.left)&&(s.left+=t),Z(s.top)&&(s.top+=t),Z(s.right)&&(s.right-=t),Z(s.bottom)&&(s.bottom-=t),s}function Er({width:i,height:n}){return i*n}function we(i,n,t,o,r=["top","bottom","right","left"],s="viewport",a=0){if(-1===i.indexOf("auto"))return i;const d=fe(t,o,a,s),c={top:{width:d?.width??0,height:(n?.top??0)-(d?.top??0)},right:{width:(d?.right??0)-(n?.right??0),height:d?.height??0},bottom:{width:d?.width??0,height:(d?.bottom??0)-(n?.bottom??0)},left:{width:(n.left??0)-(d?.left??0),height:d?.height??0}},u=Object.keys(c).map(_=>({position:_,...c[_],area:Er(c[_])})).sort((_,A)=>A.area-_.area);let p=u.filter(({width:_,height:A})=>_>=t.clientWidth&&A>=t.clientHeight);p=p.filter(({position:_})=>r.some(A=>A===_));const h=p.length>0?p[0].position:u[0].position,g=i.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${L().isBs5?ce[h]:h}`),h+(g?`-${g}`:"")}const re=(i,n=0)=>i?parseFloat(i):n;function Qe(i){const t=i.ownerDocument.defaultView?.getComputedStyle(i),o=re(t?.marginTop)+re(t?.marginBottom),r=re(t?.marginLeft)+re(t?.marginRight);return{width:Number(i.offsetWidth)+r,height:Number(i.offsetHeight)+o}}function Le(i,n,t){return ge(n,t?Pe(i):te(i,n),t)}function _e(i,n,t){const o=t.split(" ")[0],r=Qe(i),s={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(o),d=a?"top":"left",c=a?"left":"top",u=a?"height":"width",p=a?"width":"height";return s[d]=(n[d]??0)+n[u]/2-r[u]/2,s[c]=o===c?(n[c]??0)-r[p]:n[function xr(i){const n={left:"right",right:"left",bottom:"top",top:"bottom"};return i.replace(/left|right|bottom|top/g,t=>n[t])}(c)]??0,s}function Ye(i,n){return!!i.modifiers[n]?.enabled}const Jr={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function oe(i,n){return!!L().isBs5&&Jr[n].includes(i)}function Me(i,n,t){!i||!n||Object.keys(n).forEach(o=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&function Pr(i){return""!==i&&!isNaN(parseFloat(i))&&isFinite(Number(i))}(n[o])&&(r="px"),t?t.setStyle(i,o,`${String(n[o])}${r}`):i.style[o]=String(n[o])+r})}function Lr(i){let n=i.offsets.target;const t=i.instance.target.querySelector(".arrow");if(!t)return i;const o=-1!==["left","right"].indexOf(i.placement.split(" ")[0]),r=o?"height":"width",s=o?"Top":"Left",a=s.toLowerCase(),d=o?"left":"top",c=o?"bottom":"right",u=Qe(t)[r],p=i.placement.split(" ")[1];(i.offsets.host[c]??0)-u<(n[a]??0)&&(n[a]-=(n[a]??0)-((i.offsets.host[c]??0)-u)),Number(i.offsets.host[a])+Number(u)>(n[c]??0)&&(n[a]+=Number(i.offsets.host[a])+Number(u)-Number(n[c])),n=Y(n);const h=x(i.instance.target),g=parseFloat(h[`margin${s}`])||0,_=parseFloat(h[`border${s}Width`])||0;let A;if(p){const U=parseFloat(h.borderRadius)||0,b=Number(g+_+U);A=a===p?Number(i.offsets.host[a])+b:Number(i.offsets.host[a])+Number(i.offsets.host[r]-b)}else A=Number(i.offsets.host[a])+Number(i.offsets.host[r]/2-u/2);let q=A-(n[a]??0)-g-_;return q=Math.max(Math.min(n[r]-(u+5),q),0),i.offsets.arrow={[a]:Math.round(q),[d]:""},i.instance.arrow=t,i}function Yr(i){if(i.offsets.target=Y(i.offsets.target),!Ye(i.options,"flip"))return i.offsets.target={...i.offsets.target,..._e(i.instance.target,i.offsets.host,i.placement)},i;const n=fe(i.instance.target,i.instance.host,0,"viewport",!1);let t=i.placement.split(" ")[0],o=i.placement.split(" ")[1]||"";const d=we("auto",i.offsets.host,i.instance.target,i.instance.host,i.options.allowedPositions),c=[t,d];return c.forEach((u,p)=>{if(t!==u||c.length===p+1)return;t=i.placement.split(" ")[0];const h="left"===t&&Math.floor(i.offsets.target.right??0)>Math.floor(i.offsets.host.left??0)||"right"===t&&Math.floor(i.offsets.target.left??0)<Math.floor(i.offsets.host.right??0)||"top"===t&&Math.floor(i.offsets.target.bottom??0)>Math.floor(i.offsets.host.top??0)||"bottom"===t&&Math.floor(i.offsets.target.top??0)<Math.floor(i.offsets.host.bottom??0),g=Math.floor(i.offsets.target.left??0)<Math.floor(n.left??0),_=Math.floor(i.offsets.target.right??0)>Math.floor(n.right??0),A=Math.floor(i.offsets.target.top??0)<Math.floor(n.top??0),q=Math.floor(i.offsets.target.bottom??0)>Math.floor(n.bottom??0),U="left"===t&&g||"right"===t&&_||"top"===t&&A||"bottom"===t&&q,b=-1!==["top","bottom"].indexOf(t),I=b&&"left"===o&&g||b&&"right"===o&&_||!b&&"left"===o&&A||!b&&"right"===o&&q;(h||U||I)&&((h||U)&&(t=c[p+1]),I&&(o=function Br(i){return"right"===i?"left":"left"===i?"right":i}(o)),i.placement=t+(o?` ${o}`:""),i.offsets.target={...i.offsets.target,..._e(i.instance.target,i.offsets.host,i.placement)})}),i}function zr(i){if(!Ye(i.options,"preventOverflow"))return i;const n="transform",t=i.instance.target.style,{top:o,left:r,[n]:s}=t;t.top="",t.left="",t[n]="";const a=fe(i.instance.target,i.instance.host,0,i.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=o,t.left=r,t[n]=s;const c={primary(u){let p=i.offsets.target[u];return(i.offsets.target[u]??0)<(a[u]??0)&&(p=Math.max(i.offsets.target[u]??0,a[u]??0)),{[u]:p}},secondary(u){const p="right"===u,h=p?"left":"top";let _=i.offsets.target[h];return(i.offsets.target[u]??0)>(a[u]??0)&&(_=Math.min(i.offsets.target[h]??0,(a[u]??0)-i.offsets.target[p?"width":"height"])),{[h]:_}}};return["left","right","top","bottom"].forEach(u=>{const p=-1!==["left","top","start"].indexOf(u)?c.primary:c.secondary;i.offsets.target={...i.offsets.target,...p(u)}}),i}function Rr(i){const n=i.placement,t=n.split(" ")[0],o=n.split(" ")[1];if(o){const{host:r,target:s}=i.offsets,a=-1!==["bottom","top"].indexOf(t),d=a?"left":"top",c=a?"width":"height",u={start:{[d]:r[d]},end:{[d]:(r[d]??0)+r[c]-s[c]}};i.offsets.target={...s,[d]:d===o?u.start[d]:u.end[d]}}return i}const $r=new class Vr{position(n,t){return this.offset(n,t)}offset(n,t){return Le(t,n)}positionElements(n,t,o,r,s){const a=[Yr,Rr,zr,Lr],c=function Mr(i,n,t,o){if(!i||!n)return;const r=Le(i,n);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let a=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const d=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return d&&(a=d[1]+(d[2]?` ${d[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),a=we(a,r,i,n,o?o.allowedPositions:void 0),{options:o||{modifiers:{}},instance:{target:i,host:n,arrow:void 0},offsets:{target:_e(i,r,a),host:r,arrow:void 0},positionFixed:!1,placement:a,placementAuto:s}}(t,n,Fe[o],s);if(c)return a.reduce((u,p)=>p(u),c)}};function Hr(i,n,t,o,r,s){const a=$r.positionElements(i,n,t,o,r);if(!a)return;const d=function kr(i){return{width:i.offsets.target.width,height:i.offsets.target.height,left:Math.floor(i.offsets.target.left??0),top:Math.round(i.offsets.target.top??0),bottom:Math.round(i.offsets.target.bottom??0),right:Math.floor(i.offsets.target.right??0)}}(a);Me(n,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${d.left}px, ${d.top}px, 0px)`},s),a.instance.arrow&&Me(a.instance.arrow,a.offsets.arrow,s),function Qr(i,n){const t=i.instance.target;let o=t.className;const r=L().isBs5?ce[i.placement]:i.placement;i.placementAuto&&(o=o.replace(/bs-popover-auto/g,`bs-popover-${r}`),o=o.replace(/ms-2|me-2|mb-2|mt-2/g,""),o=o.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),o=o.replace(/\sauto/g,` ${r}`),-1!==o.indexOf("popover")&&(o=o+" "+function wr(i){return L().isBs5?oe(i,"end")?"ms-2":oe(i,"start")?"me-2":oe(i,"top")?"mb-2":oe(i,"bottom")?"mt-2":"":""}(r)),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),n?n.setAttribute(t,"class",o):t.className=o}(a,s)}let ve=(()=>{class i{constructor(t,o,r){this.update$$=new Ir.x,this.positionElements=new Map,this.isDisabled=!1,(0,v.NF)(r)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,Ur.T)((0,Oe.R)(window,"scroll",{passive:!0}),(0,Oe.R)(window,"resize",{passive:!0}),(0,Nr.of)(0,Or.Z),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{Hr(ie(s.target),ie(s.element),s.attachment,s.appendToBody,this.options,o.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(ie(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(ie(t))}setOptions(t){this.options=t}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(e.R0b),e.LFG(e.FYo),e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ie(i){return"string"==typeof i?document.querySelector(i):i instanceof e.SBq?i.nativeElement:i??null}var jr=f(7394),ye=f(2664),ze=f(6232),Wr=f(9666),D=f(6825);class M{constructor(n,t,o){this.nodes=n,this.viewRef=t,this.componentRef=o}}class Kr{constructor(n,t,o,r,s,a,d,c,u){this._viewContainerRef=n,this._renderer=t,this._elementRef=o,this._injector=r,this._componentFactoryResolver=s,this._ngZone=a,this._applicationRef=d,this._posService=c,this._document=u,this.onBeforeShow=new e.vpe,this.onShown=new e.vpe,this.onBeforeHide=new e.vpe,this.onHidden=new e.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(n){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(n),this}to(n){return this.container=n||this.container,this}position(n){return n?(this.attachment=n.attachment||this.attachment,this._elementRef=n.target||this._elementRef,this):this}provide(n){return this._providers.push(n),this}show(n={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(n.content,n.context,n.initialState);const t=e.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,n),this.container instanceof e.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const o=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!o)return;o.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(n.id?{id:n.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(n){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(n?{id:n}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(n){this.triggers=n.triggers||this.triggers,this._listenOpts.outsideClick=n.outsideClick,this._listenOpts.outsideEsc=n.outsideEsc,n.target=n.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>n.hide?n.hide():void this.hide(),o=this._listenOpts.show=s=>{n.show?n.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function Tr(i,n){const t=function qe(i,n=Zr){const t=(i||"").trim();if(0===t.length)return[];const o=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const a=n[s[0]]||s;return new yr(a[0],a[1])}),r=o.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&o.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return o}(n.triggers),o=n.target;if(1===t.length&&t[0].isManual())return Function.prototype;const r=[],s=[],a=()=>{s.forEach(d=>r.push(d())),s.length=0};return t.forEach(d=>{const c=d.open===d.close,u=c?n.toggle:n.show;if(!c&&d.close&&n.hide){const p=d.close,h=n.hide;s.push(()=>i.listen(o,p,h))}u&&r.push(i.listen(o,d.open,()=>u(a)))}),()=>{r.forEach(d=>d())}}(this._renderer,{target:n.target,triggers:n.triggers,show:o,hide:t,toggle:s=>{this.isShown?t():o(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(n,t){return n&&t&&(this._inlineViewRef=n.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const n=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function Ar(i,n){return n.outsideClick?i.listen("document","click",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(o=>o.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Cr(i,n){return n.outsideEsc?i.listen("document","keyup.esc",t=>{n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(o=>o.contains(t.target))||n.hide&&n.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(n,t,o){if(!n)return new M([]);if(n instanceof e.Rgc){if(this._viewContainerRef){const a=this._viewContainerRef.createEmbeddedView(n,t);return a.markForCheck(),new M([a.rootNodes],a)}const s=n.createEmbeddedView({});return this._applicationRef.attachView(s),new M([s.rootNodes],s)}if("function"==typeof n){const s=this._componentFactoryResolver.resolveComponentFactory(n),a=e.zs3.create({providers:this._providers,parent:this._injector}),d=s.create(a);return Object.assign(d.instance,o),this._applicationRef.attachView(d.hostView),new M([[d.location.nativeElement]],d.hostView,d)}const r=this._renderer?[this._renderer.createText(`${n}`)]:[];return new M([r])}}let Re=(()=>{class i{constructor(t,o,r,s,a,d){this._componentFactoryResolver=t,this._ngZone=o,this._injector=r,this._posService=s,this._applicationRef=a,this._document=d}createLoader(t,o,r){return new Kr(o,r,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(e._Vd),e.LFG(e.R0b),e.LFG(e.zs3),e.LFG(ve),e.LFG(e.z2F),e.LFG(v.K0))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ve=f(3620),Xr=f(9397),eo=f(4664),to=f(1631),ro=f(2181),oo=f(9732),$e=f(9360);const no=(i,n)=>(i.push(n),i);const ao=["ulElement"],lo=["liElements"];function co(i,n){}function uo(i,n){if(1&i&&e._UZ(0,"span",3),2&i){const t=n.match,o=n.query,r=e.oxw();e.Q6J("innerHtml",r.highlight(t,o),e.oJD)}}function po(i,n){if(1&i&&(e.TgZ(0,"h6",7),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function mo(i,n){}const ho=function(i,n,t,o){return{item:i,index:n,match:t,query:o}};function go(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",8,9),e.NdJ("click",function(r){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.selectMatch(s,r))})("mouseenter",function(){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.selectActive(r))}),e.YNc(2,mo,0,0,"ng-template",0),e.qZA()}if(2&i){const t=e.oxw(),o=t.$implicit,r=t.index,s=e.oxw(2),a=e.MAs(2);e.ekj("active",s.isActive(o)),e.Q6J("id",s.popupId+"-"+r)("@typeaheadAnimation",s.animationState),e.xp6(2),e.Q6J("ngTemplateOutlet",s.itemTemplate||a)("ngTemplateOutletContext",e.l5B(6,ho,o.item,r,o,s.query))}}function fo(i,n){if(1&i&&(e.YNc(0,po,2,1,"h6",5),e.YNc(1,go,3,11,"ng-template",6)),2&i){const t=n.$implicit;e.Q6J("ngIf",t.isHeader()),e.xp6(1),e.Q6J("ngIf",!t.isHeader())}}function _o(i,n){if(1&i&&e.YNc(0,fo,2,2,"ng-template",4),2&i){const t=e.oxw();e.Q6J("ngForOf",t.matches)}}const vo=function(i,n,t,o){return{matches:i,itemTemplate:n,query:t,$implicit:o}},yo={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class ne{constructor(n,t=n,o=!1){this.item=n,this.value=t,this.header=o}isHeader(){return this.header}toString(){return this.value}}function z(i){return i?i.replace(/[^A-Za-z0-9[\] ]/g,function(n){return yo[n]||n}):""}function Ze(i,n=" ",t="",o){let r=[];if(o){const a=i.split(new RegExp(`([${o}]+)`,"g")),d=a[a.length-1];d>""&&(n&&t?r=He(d,n,t):r.push(d))}else r=He(i,n,t);return r}function He(i,n,t){const o=[],s=i.split(new RegExp(`(?:[${t}])([^${t}]+)(?:[${t}])|([^${n}]+)`,"g")),a=s.length;let d;const c=new RegExp(`[${t}]+`,"g");for(let u=0;u<a;u+=1)d=s[u],d&&d.length&&d!==n&&o.push(d.replace(c,""));return o}function B(i,n){if(!n||"object"!=typeof i)return i.toString();if(n.endsWith("()"))return i[n.slice(0,n.length-2)]().toString();const o=n.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const r of o)r in i&&(i=i[r]);return i?i.toString():""}const je="220ms cubic-bezier(0, 0, 0.2, 1)",Zo=(0,D.X$)("typeaheadAnimation",[(0,D.SB)("animated-down",(0,D.oB)({height:"*",overflow:"hidden"})),(0,D.eR)("* => animated-down",[(0,D.oB)({height:0,overflow:"hidden"}),(0,D.jt)(je)]),(0,D.SB)("animated-up",(0,D.oB)({height:"*",overflow:"hidden"})),(0,D.eR)("* => animated-up",[(0,D.oB)({height:"*",overflow:"hidden"}),(0,D.jt)(je)]),(0,D.eR)("* => unanimated",(0,D.jt)("0s"))]);let To=0,Ao=(()=>{class i{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(t,o,r,s){this.positionService=t,this.renderer=o,this.element=r,this.changeDetectorRef=s,this.activeChangeEvent=new e.vpe,this.isFocused=!1,this.positionServiceSubscription=new jr.w0,this.height=0,this.popupId="ngb-typeahead-"+To++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(t){this._active=t,this.activeChanged()}get matches(){return this._matches}set matches(t){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=t,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const o=this._matches.find(r=>r.value===this._active?.value);if(o)return void this.selectActive(o);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(t){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&t&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${t}`)}prevActiveMatch(){if(!this._active)return;const t=this.matches.indexOf(this._active);this.setActive(this.matches[t-1<0?this.matches.length-1:t-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(t)}nextActiveMatch(){const t=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[t+1>this.matches.length-1?0:t+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(t)}selectActive(t){this.isFocused=!0,this.setActive(t)}highlight(t,o){let a,d,r=t.value,s=(this.parent&&this.parent.typeaheadLatinize?z(r):r).toLowerCase();if("object"==typeof o){const c=o.length;for(let u=0;u<c;u+=1)a=s.indexOf(o[u]),d=o[u].length,a>=0&&d>0&&(r=`${r.substring(0,a)}<strong>${r.substring(a,a+d)}</strong>${r.substring(a+d)}`,s=`${s.substring(0,a)}        ${" ".repeat(d)}         ${s.substring(a+d)}`)}else o&&(a=s.indexOf(o),d=o.length,a>=0&&d>0&&(r=`${r.substring(0,a)}<strong>${r.substring(a,a+d)}</strong>${r.substring(a+d)}`));return r}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(t){return this.active===t}selectMatch(t,o){return o&&(o.stopPropagation(),o.preventDefault()),this.parent?.changeModel(t),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(t),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const t=Ue.getStyles(this.ulElement.nativeElement),o=Ue.getStyles(this.liElements.first.nativeElement),r=parseFloat((t["padding-bottom"]?t["padding-bottom"]:"").replace("px","")),s=parseFloat((t["padding-top"]?t["padding-top"]:"0").replace("px","")),a=parseFloat((o.height?o.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*a+s+r}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(t){if(0!==t){if(this.liElements&&this.ulElement){const o=this.liElements.toArray()[t-1];o&&!this.isScrolledIntoView(o.nativeElement)&&(this.ulElement.nativeElement.scrollTop=o.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(t){if(t+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const o=this.liElements.toArray()[t+1];o&&!this.isScrolledIntoView(o.nativeElement)&&(this.ulElement.nativeElement.scrollTop=o.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(o.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(t){let o;this._active=t,null==this._active||this._active.isHeader()||(o=t),this.parent?.typeaheadOnPreview.emit(o)}isScrolledIntoView(t){if(!this.ulElement)return!1;const o=this.ulElement.nativeElement.scrollTop,r=o+Number(this.ulElement.nativeElement.offsetHeight),s=t.offsetTop;return s+t.offsetHeight<=r&&s>=o}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(ve),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["typeahead-container"]],viewQuery:function(o,r){if(1&o&&(e.Gf(ao,5),e.Gf(lo,5)),2&o){let s;e.iGM(s=e.CRH())&&(r.ulElement=s.first),e.iGM(s=e.CRH())&&(r.liElements=s)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(o,r){1&o&&e.NdJ("mouseleave",function(){return r.focusLost()})("blur",function(){return r.focusLost()}),2&o&&(e.uIk("role","listbox"),e.Udp("height",r.needScrollbar?r.guiHeight:"auto")("visibility","inherit"),e.ekj("dropup",r.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bsItemTemplate",""],["bs4Template",""],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"id","click","mouseenter"],["liElements",""]],template:function(o,r){if(1&o&&(e.YNc(0,co,0,0,"ng-template",0),e.YNc(1,uo,1,1,"ng-template",null,1,e.W1O),e.YNc(3,_o,1,1,"ng-template",null,2,e.W1O)),2&o){const s=e.MAs(2),a=e.MAs(4);e.Q6J("ngTemplateOutlet",r.optionsListTemplate||a)("ngTemplateOutletContext",e.l5B(2,vo,r.matches,r.itemTemplate||s,r.query,r.typeaheadTemplateMethods))}},dependencies:[v.sg,v.O5,v.tP],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Zo]}})}return i})(),We=(()=>{class i{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Co=(()=>{class i{constructor(t,o,r,s,a,d,c){this.changeDetection=r,this.element=s,this.ngControl=a,this.renderer=d,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new e.vpe,this.typeaheadNoResults=new e.vpe,this.typeaheadOnSelect=new e.vpe,this.typeaheadOnPreview=new e.vpe,this.typeaheadOnBlur=new e.vpe,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new e.vpe,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=t.createLoader(s,c,d).provide({provide:We,useValue:o}),Object.assign(this,{typeaheadHideResultsOnBlur:o.hideResultsOnBlur,cancelRequestOnFocusLost:o.cancelRequestOnFocusLost,typeaheadSelectFirstItem:o.selectFirstItem,typeaheadIsFirstItemActive:o.isFirstItemActive,typeaheadMinLength:o.minLength,adaptivePosition:o.adaptivePosition,isAnimated:o.isAnimated,selectItemOnBlur:o.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,ye.b)(this.typeahead)&&(this.typeaheadAsync=!1),(0,ye.b)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(t){const o=void 0!==t.target.value?t.target.value:void 0!==t.target.textContent?t.target.textContent:t.target.innerText;null!=o&&o.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(t.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(t){if(this._container){if(27===t.keyCode||"Escape"===t.key)return void this.hide();if(38===t.keyCode||"ArrowUp"===t.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===t.keyCode||"ArrowDown"===t.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===t.keyCode||"Enter"===t.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new ne(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(t){if(this._container&&((9===t.keyCode||"Tab"===t.key)&&this.onBlur(),9===t.keyCode||"Tab"===t.key||13===t.keyCode||"Enter"===t.key)){if(t.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(t){if(!t)return;let o;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const r=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=r.slice(0,r.length-1).concat(t.value).join(""),o=this._allEnteredValue}else o=t.value;this.ngControl.viewToModelUpdate(o),this.ngControl.control?.setValue(o),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(Ao).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",o=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(o.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(o.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const t=(this.typeaheadLatinize?z(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(t),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(o=>{this.activeDescendant=o,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,Ve.b)(this.typeaheadWaitMs),(0,Xr.b)(t=>this._allEnteredValue=t),(0,eo.w)(()=>this.typeahead?this.typeahead:ze.E)).subscribe(t=>{this.finalizeAsyncCall(t)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,Ve.b)(this.typeaheadWaitMs),(0,to.z)(t=>{this._allEnteredValue=t;const o=this.normalizeQuery(t);return this.typeahead?((0,ye.b)(this.typeahead)?this.typeahead:(0,Wr.D)(this.typeahead)).pipe((0,ro.h)(s=>!!s&&this.testMatch(this.normalizeOption(s),o)),function so(){return(0,$e.e)((i,n)=>{(function io(i,n){return(0,$e.e)((0,oo.U)(i,n,arguments.length>=2,!1,!0))})(no,[])(i).subscribe(n)})}()):ze.E})).subscribe(t=>{this.finalizeAsyncCall(t)}))}normalizeOption(t){const o=B(t,this.typeaheadOptionField);return(this.typeaheadLatinize?z(o):o).toLowerCase()}tokenizeQuery(t){let o=t;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(o=Ze(o,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):o=this.typeaheadSingleWords?Ze(o,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Ze(o,void 0,void 0,this.typeaheadMultipleSearchDelimiters),o}normalizeQuery(t){let o=(this.typeaheadLatinize?z(t):t).toString().toLowerCase();return o=this.tokenizeQuery(o),o}testMatch(t,o){let r;if("object"==typeof o){r=o.length;for(let s=0;s<r;s+=1)if(o[s].length>0&&t.indexOf(o[s])<0)return!1;return!0}return t.indexOf(o)>=0}finalizeAsyncCall(t){if(this.prepareMatches(t||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const r=((this.typeaheadLatinize?z(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(r),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(t){const o=t.slice(0,this.typeaheadOptionsLimit),r=this.typeaheadOrderBy?this.orderMatches(o):o;if(this.typeaheadGroupField){let s=[];r.map(d=>B(d,this.typeaheadGroupField)).filter((d,c,u)=>u.indexOf(d)===c).forEach(d=>{s.push(new ne(d,d,!0)),s=s.concat(r.filter(c=>B(c,this.typeaheadGroupField)===d).map(c=>new ne(c,B(c,this.typeaheadOptionField))))}),this._matches=s}else this._matches=r.map(s=>new ne(s,B(s,this.typeaheadOptionField)))}orderMatches(t){if(!t.length)return t;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),t;const{field:o,direction:r}=this.typeaheadOrderBy||{};return!r||"asc"!==r&&"desc"!==r?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),t):"string"==typeof t[0]?"asc"===r?t.sort():t.sort().reverse():o&&"string"==typeof o?t.sort((s,a)=>{const d=B(s,o),c=B(a,o);return d<c?"asc"===r?-1:1:d>c?"asc"===r?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),t)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(t,o){for(let r=0;r<t.length;r++)if(t.charAt(r).indexOf(o)>-1)return!0;return!1}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Re),e.Y36(We),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(l.a5),e.Y36(e.Qsj),e.Y36(e.s_b))};static#t=this.\u0275dir=e.lG2({type:i,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(o,r){1&o&&e.NdJ("input",function(a){return r.onInput(a)})("keyup",function(a){return r.onChange(a)})("click",function(){return r.onFocus()})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("keydown",function(a){return r.onKeydown(a)}),2&o&&e.uIk("aria-activedescendant",r.activeDescendant)("aria-owns",r.isOpen?r._container.popupId:null)("aria-expanded",r.isOpen)("aria-autocomplete",r.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}return i})(),bo=(()=>{class i{static forRoot(){return{ngModule:i,providers:[Re,ve]}}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#r=this.\u0275inj=e.cJS({imports:[v.ez]})}return i})();function So(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.code)}}function qo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function Do(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function Io(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Plant is mandatory"),e.qZA()())}function Uo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Plant is mandatory"),e.qZA()())}function No(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Oo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Fo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Po(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Go(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Eo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function ko(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function xo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",37),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Bo(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.code," ")}}function Jo(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.description,"")}}function wo(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",38)(1,"td"),e._UZ(2,"input",16),e.qZA(),e.TgZ(3,"td")(4,"input",39),e.NdJ("input",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handleQty(r,a.value.deliveryQty,d))}),e.qZA()(),e.TgZ(5,"td"),e._UZ(6,"input",40),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"input",41),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"input",42),e.qZA(),e.TgZ(11,"td")(12,"select",43),e.NdJ("click",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleUOM(r,a))}),e.TgZ(13,"option",13),e._uU(14,"Select UOM"),e.qZA(),e.YNc(15,Bo,2,2,"option",14),e.qZA()(),e.TgZ(16,"td")(17,"select",44)(18,"option",13),e._uU(19,"Select Storage Location"),e.qZA(),e.YNc(20,Jo,2,2,"option",14),e.qZA()(),e.TgZ(21,"td"),e._UZ(22,"input",45),e.qZA(),e.TgZ(23,"td"),e._UZ(24,"input",46),e.qZA()()}if(2&i){const t=n.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(12),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===o.deliveryFormGroup.value.uomId),e.xp6(2),e.Q6J("ngForOf",o.uomDetail),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===o.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",o.storageLocationDetail)}}const Qo=function(i){return{"padding-left":i}};let Lo=(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h){this.fb=t,this.deliverySer=o,this.router=r,this._snackBar=s,this.productSer=a,this.plantDataSer=d,this.customerSer=c,this.salesOrderSer=u,this.idle=p,this.cd=h,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=l.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.productDetails=[],this.customerMasterDetail=[],this.deliveryTypeDetails=[],this.idleState="Not Started",this.deliveryDetails=[],this.salesOrderDetails=[],this.selectedSalesDetail="",p.setIdle(450),p.setTimeout(900),p.setInterrupts(T.WO),p.onIdleEnd.subscribe(()=>{this.idleState="Started",h.detectChanges()}),p.onTimeout.subscribe(()=>{this.idleState="Timeout"}),p.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.createDeliveryFormFields(),this.getSalesOrderDetail(),this.getAllUomDetail(),this.getStorageLocation(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getAllDetailsDetails(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createDeliveryFormFields(t){if(t)return console.log(t,"kkkk"),void(this.deliveryFormGroup=this.fb.group({salesOrderId:[this.selectedSalesDetail,l.kI.required],deliveryType:["",l.kI.required],deliveryTypeId:["",l.kI.required],plantId:[t.itemList[0].plantId,l.kI.required],plantName:[t.itemList[0].plantName],deliveryDate:[t.requestedDeliveryDate,l.kI.required],customerId:[t.customerId,l.kI.required],customerName:[t.customerName],deliveryAddress:[t.customerAddress,l.kI.required],deliveryPartner:["",l.kI.required],itemList:this.fb.array(t.itemList.map(o=>this.getdeliveryFields(o,t)))}));this.deliveryFormGroup=this.fb.group({salesOrderId:["",l.kI.required],deliveryType:["",l.kI.required],deliveryTypeId:["",l.kI.required],plantId:["",l.kI.required],plantName:["",l.kI.required],deliveryDate:["",l.kI.required],customerId:["",l.kI.required],customerName:["",l.kI.required],deliveryAddress:["",l.kI.required],deliveryPartner:["",l.kI.required],itemList:this.fb.array([this.getdeliveryFields()])})}getdeliveryFields(t,o){return t?(console.log(t,"kkkk"),this.fb.group({plantId:[t.plantId],plantName:[t.plantName],deliveryItem:[""],deliveryDate:[""],productId:[t.materialId],productName:[t.materialDescription],deliveryQty:[t.openQty],uomId:[""],uomName:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[o._id],referenceSalesOrderItem:[o.salesOrder]})):this.fb.group({plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomId:[""],uomName:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(t){this.deliveryListArray.removeAt(t)}submitData(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0;const o=new Date,r=o.getFullYear(),s=o.getMonth()+1,a=o.getDate(),d=o.getHours(),c=o.getMinutes(),u=o.getSeconds(),p=`${r}-${s.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")} ${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,h=localStorage.getItem("userName");if(t.deliveryFormGroup.value.createdOn=p,t.deliveryFormGroup.value.createdBy=h,t.deliveryFormGroup.value.changedOn=p,t.deliveryFormGroup.value.changedBy=h,console.log(t.deliveryFormGroup.value),t.deliveryFormGroup.invalid)return;const g=yield t.deliverySer.createDeliveryDetails(t.deliveryFormGroup.value);if(console.log(g),"1"===g.status)return t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/delivery-list"]);if("0"===g.status)return void t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllDetailsDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.deliverySer.getDeliveryDetails();"1"===o.status&&(t.deliveryDetails=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllUOMDetails();"1"===o.status&&(t.uomDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.plantDataSer.getAllStorageLocationsDetails();"1"===o.status&&(t.storageLocationDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllProductDetails();"1"===o.status&&(t.productDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerSer.getAllCustomerDetails();"1"===o.status&&(t.customerMasterDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleQty(t,o,r){console.log(typeof o,+o<t.target.value),t.target.value&&+o<t.target.value&&(ee().fire({icon:"info",title:"info...",text:"Please give the input less than or equal to orderQty"}),this.deliveryFormGroup.get("itemList").at(r).patchValue({deliveryItem:""}))}handleDeliveryType(t){const o=this.deliveryDetails.find(r=>r._id===t.target.value);this.deliveryFormGroup.controls.deliveryType.setValue(o.code)}handleUOM(t,o){const r=this.uomDetail.find(d=>d._id===t.target.value);this.deliveryFormGroup.get("itemList").at(o).patchValue({uomName:r?r.code:""})}getSalesOrderDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.salesOrderSer.getAllSalesOrderDetails();console.log(o),"1"===o.status&&(t.salesOrderDetails=o.data.filter(r=>"FULLY DELIVERED"!==r.orderStatusName),console.log(t.salesOrderDetails))}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}typeaheadOnSelect(t){console.log("Selected value: ",t.value),this.selectedSalesDetail=t.value;const o=this.salesOrderDetails.find(r=>r.salesOrder===t.value);this.createDeliveryFormFields(o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(Q),e.Y36(y.F0),e.Y36(O.ux),e.Y36(k.M),e.Y36(de.v),e.Y36(J.v),e.Y36(E),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-delivery"]],decls:107,vars:25,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],["formControlName","salesOrderId","typeaheadOptionField","salesOrder",1,"form-control",3,"typeahead","typeaheadOnSelect"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryTypeId",1,"form-select",3,"disabled","change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","formControlName","plantName","readonly","",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date","readonly","",1,"form-control"],["type","text","formControlName","customerName","placeholder","Enter Customer Id","readonly","",1,"form-control"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address","readonly","",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select",3,"disabled"],["value","1"],["value","2"],["value","3"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control",3,"input"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["type","text","formControlName","productName","readonly","",1,"form-control"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty","readonly","",1,"form-control"],["formControlName","uomId",1,"form-select",3,"disabled","click"],["formControlName","storageLocationName",1,"form-select",3,"disabled"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order","readonly","",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item","readonly","",1,"form-control"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label"),e._uU(12,"Sales Order"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("typeaheadOnSelect",function(a){return r.typeaheadOnSelect(a)}),e.qZA()(),e.TgZ(14,"div",10)(15,"label",11),e._uU(16,"Delivery Type "),e.TgZ(17,"sup"),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",12),e.NdJ("change",function(a){return r.handleDeliveryType(a)}),e.TgZ(20,"option",13),e._uU(21,"Select Delivery Type"),e.qZA(),e.YNc(22,So,2,2,"option",14),e.qZA(),e.YNc(23,qo,3,0,"div",15),e.YNc(24,Do,3,0,"div",15),e.qZA(),e.TgZ(25,"div",10)(26,"label",11),e._uU(27,"Plant"),e.TgZ(28,"sup"),e._uU(29,"*"),e.qZA()(),e._UZ(30,"input",16),e.YNc(31,Io,3,0,"div",15),e.YNc(32,Uo,3,0,"div",15),e.qZA(),e.TgZ(33,"div",10)(34,"label",11),e._uU(35,"Delivery Date"),e.TgZ(36,"sup"),e._uU(37,"*"),e.qZA()(),e._UZ(38,"input",17),e.YNc(39,No,3,0,"div",15),e.YNc(40,Oo,3,0,"div",15),e.qZA(),e.TgZ(41,"div",10)(42,"label",11),e._uU(43,"Customer Id "),e.TgZ(44,"sup"),e._uU(45,"*"),e.qZA()(),e._UZ(46,"input",18),e.YNc(47,Fo,3,0,"div",15),e.YNc(48,Po,3,0,"div",15),e.qZA(),e.TgZ(49,"div",19)(50,"label",20),e._uU(51,"Delivery Address "),e.TgZ(52,"sup"),e._uU(53,"*"),e.qZA()(),e._UZ(54,"input",21),e.YNc(55,Go,3,0,"div",15),e.YNc(56,Eo,3,0,"div",15),e.qZA(),e.TgZ(57,"div",22)(58,"label",11),e._uU(59,"Delivery Partner "),e.TgZ(60,"sup"),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"select",23)(63,"option",13),e._uU(64,"Select delivery Partner"),e.qZA(),e.TgZ(65,"option",24),e._uU(66,"One"),e.qZA(),e.TgZ(67,"option",25),e._uU(68,"Two"),e.qZA(),e.TgZ(69,"option",26),e._uU(70,"Three"),e.qZA()(),e.YNc(71,ko,3,0,"div",15),e.YNc(72,xo,3,0,"div",15),e.qZA()(),e.TgZ(73,"div",27)(74,"div",28)(75,"div",2)(76,"div",29)(77,"h3",4),e._uU(78," Item Data "),e.qZA()()(),e.TgZ(79,"div",30)(80,"table",31)(81,"thead")(82,"tr")(83,"th"),e._uU(84,"Plant"),e.qZA(),e.TgZ(85,"th"),e._uU(86,"Delivery Item"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Delivery Date"),e.qZA(),e.TgZ(89,"th"),e._uU(90,"Product Id"),e.qZA(),e.TgZ(91,"th"),e._uU(92,"Delivery QTY"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"UoM"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Storage Location"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Reference sales order #"),e.qZA(),e.TgZ(99,"th"),e._uU(100,"Reference sales order item #"),e.qZA()()(),e.TgZ(101,"tbody",32),e.YNc(102,wo,25,7,"tr",33),e.qZA()()()()(),e.TgZ(103,"div",27)(104,"div",34)(105,"button",35),e._uU(106,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(23,Qo,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.deliveryFormGroup),e.xp6(5),e.Q6J("typeahead",r.salesOrderDetails),e.xp6(6),e.Q6J("disabled",!0)("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryTypeId),e.xp6(2),e.Q6J("ngForOf",r.deliveryDetails),e.xp6(1),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.plantId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(6),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(30),e.Q6J("ngForOf",r.deliveryFormGroup.get("itemList").controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,P.s,Co],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return i})(),se=(()=>{class i{constructor(t){this.http=t}createBillingOrder(t){return this.http.post("http://54.151.187.67:4000/api/sales/billing/create",t).toPromise()}getBillingTypeDetails(){return this.http.get("http://54.151.187.67:4000/api/config/billingType/getALL").toPromise()}getBillingDetailsPage(t,o){return this.http.get(`http://54.151.187.67:4000/api/sales/billing/getAll/${t}/${o}`).toPromise()}singlebillingDetails(t){return this.http.get(`http://54.151.187.67:4000/api/sales/billing/get/${t}`).toPromise()}updatedbillingDetails(t){return this.http.put(`http://54.151.187.67:4000/api/sales/billing/update/${t._id}`,t).toPromise()}updatebillingMany(t){return this.http.put("http://54.151.187.67:4000/api/sales/billing/update",t).toPromise()}exportToExcel(t,o,r){const s=[];console.log(s),t.map(u=>{u.itemList.map(p=>{p.itemData=u.itemData,s.push(p)})}),t.map(u=>{delete u.isLock,delete u.isActive,delete u.__v,delete u.check,delete u.itemList});const a=S.P6.book_new(),d=S.P6.json_to_sheet(t);S.P6.book_append_sheet(a,d,"Header");const c=S.P6.json_to_sheet(s);S.P6.book_append_sheet(a,c,"Item Data"),S.NC(a,`${o}.xlsx`)}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(ae.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Yo(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function Mo(i,n){1&i&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",25),e._uU(3,"No Records"),e.qZA()()())}function zo(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"div",26)(11,"div")(12,"mat-icon",27),e._uU(13,"edit"),e.qZA()(),e.TgZ(14,"div")(15,"mat-icon",28),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteRecords(s))}),e._uU(16,"delete"),e.qZA()()()(),e.TgZ(17,"td")(18,"input",29),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.particularcheck(r,a))}),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.billingType),e.xp6(2),e.Oqu(t.billingDate),e.xp6(2),e.Oqu(t.customerId),e.xp6(4),e.Q6J("routerLink","/sales/edit-billing/"+t._id),e.xp6(6),e.Q6J("checked",t.check)}}const Ro=function(i){return{"padding-left":i}};let Vo=(()=>{class i{constructor(t,o,r,s,a){this.router=t,this.billingSer=o,this.idle=r,this.cd=s,this._snackBar=a,this.isShowPadding=!1,this.sampleJson={billingType:"Domestic",billingDate:"SALES ORGANIZATION",referenceDocument:"D123",customerName:"Test",netValue:"1",taxAmount:"1",currency:"02/01/2024",exchangeRate:"SuperAdmin",companyCodeName:"1",customerAcctAssignName:"xyz",postingStatus:"1",paymentsTermsName:"1",IncoTermsName:"1",salesOrgName:"abx",distrubutionName:"block23",divisionName:"TCS234",modeofTransportName:"abc",netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",itemList:[{billiedQTY:"Tv",uom:"one",netWeight:"1",grossWeight:"xyz",uomWeight:"1",volumn:1,uomVolumn:1,salesOrder:"1",slaesOrderItem:"l",referenceDocument:"1",referenceDocumentItem:"1",priceDate:"1",serviceRenderedDate:"1",pricingAmount:"1",tax:"1",perUnitTax:"1",discount:"dollar",perUnitDiscount:"dollar",freight:"1",perUnitfreight:"1",otherCharges:"1",companyCurrency:"1",transactionCurrency:"1",exchangeRate:"1",hsnCode:"1",countryOrigin:"1",poNumber:"1",poDate:"1"}]},this.idleState="Not Started",this.billingDetails=[],this.allBillingDetails=[],this.selectAll=!1,this.totalItem=0,this.currentPage=1,this.page=0,this.itemsPerPage=10,this.billingTypeList=[],r.setIdle(450),r.setTimeout(900),r.setInterrupts(T.WO),r.onIdleEnd.subscribe(()=>{this.idleState="Started",s.detectChanges()}),r.onTimeout.subscribe(()=>{this.idleState="Timeout"}),r.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.setStates(),this.getBillingDetials(this.page,this.itemsPerPage),this.getBillingType()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(t){this.router.navigate([`${t}`])}handleSideBar(t){this.isShowPadding=t}downloadExcel(){this.billingSer.exportToExcel([this.sampleJson],"Billing_Sample","Sheet1")}exportExcel(){this.billingSer.exportToExcel([this.sampleJson],"Billing_Details","Sheet1"),console.log(this.exportExcel)}getBillingDetials(t,o){var r=this;return(0,m.Z)(function*(){try{const s=yield r.billingSer.getBillingDetailsPage(t,o);console.log(s),"1"===s.status&&(r.billingDetails=s.data,r.allBillingDetails=s.data,s.data.map(a=>{a.check=!1}))}catch(s){if(s.error.message)return void r._snackBar.open(s.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}deleteRecords(t){var o=this;return(0,m.Z)(function*(){try{t.isActive="C";const r=yield o.billingSer.updatedbillingDetails(t);if(console.log(r),"1"===r.status)return o._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void o.getBillingDetials(o.page,o.itemsPerPage);"0"===r.status&&o._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(r){if(r.error.message)return void o._snackBar.open(r.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});o._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}pageChanged(t){this.page=t.page,this.getBillingDetials((this.page-1)*this.itemsPerPage,this.itemsPerPage)}handleDeleteMuliple(){var t=this;return(0,m.Z)(function*(){try{const o=t.billingDetails.filter(s=>!0===s.check);o.map(s=>{s.isActive="C"});const r=yield t.billingSer.updatebillingMany(o);if("1"===r.status)return t._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.getBillingDetials(t.page,t.itemsPerPage);"0"===r.status&&t._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){console.error(o),t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}particularcheck(t,o){this.billingDetails[o].check=t.target.checked,this.selectAll=!this.billingDetails.find(s=>!1===s.check)}selectdata(t){console.log(t.target.checked),this.selectAll=t.target.checked,console.log(typeof this.selectAll),this.billingDetails.map(o=>{o.check=t.target.checked})}getBillingType(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billingSer.getBillingTypeDetails();"1"===o.status?t.billingTypeList=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleFilter(t){t.target.value||(this.billingDetails=this.allBillingDetails),console.log(t.target.value);const o=this.allBillingDetails.filter(r=>r.billingType.toUpperCase().includes(t.target.value.toUpperCase()));this.billingDetails=o}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(y.F0),e.Y36(se),e.Y36(T.hX),e.Y36(e.sBO),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-billing-list"]],decls:55,vars:12,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","mt-2"],["aria-label","Default select example",1,"form-select",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",2,"color","white","background","#00acff",3,"click"],[1,"btn","btn-danger",3,"click"],[2,"line-height","34px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","selectAll",3,"checked","change"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],["colspan","8",1,"text-center"],[1,"d-flex"],[3,"routerLink"],[3,"click"],["type","checkbox",1,"checkbox",3,"checked","change"]],template:function(o,r){if(1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"select",5),e.NdJ("change",function(a){return r.handleFilter(a)}),e.TgZ(7,"option",6),e._uU(8,"Select Billing Type"),e.qZA(),e.YNc(9,Yo,2,2,"option",7),e.ALo(10,"filterPipes"),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9)(13,"button",10),e.NdJ("click",function(){return r.nextPage("/sales/add-billing")}),e._uU(14,"Add Billing"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return r.handleDeleteMuliple()}),e.TgZ(16,"mat-icon",12),e._uU(17,"delete"),e.qZA(),e._uU(18," Delete Selected Billing"),e.qZA(),e.TgZ(19,"button",13)(20,"mat-icon"),e._uU(21,"more_vert"),e.qZA()(),e.TgZ(22,"mat-menu",null,14)(24,"button",15)(25,"span"),e._uU(26,"Import Billing"),e.qZA()(),e.TgZ(27,"button",16),e.NdJ("click",function(){return r.exportExcel()}),e.TgZ(28,"span"),e._uU(29,"Export Billing"),e.qZA()(),e.TgZ(30,"button",16),e.NdJ("click",function(){return r.downloadExcel()}),e.TgZ(31,"span"),e._uU(32,"Sample Billing Sheet"),e.qZA()()()()()(),e.TgZ(33,"div",17)(34,"div",3)(35,"div",18)(36,"table",19)(37,"thead")(38,"tr")(39,"th"),e._uU(40,"SN"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Billing Type"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Billing Date"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Customer Id"),e.qZA(),e.TgZ(47,"th",20),e._uU(48,"Action"),e.qZA(),e.TgZ(49,"th",20)(50,"input",21),e.NdJ("change",function(a){return r.selectdata(a)}),e.qZA(),e._uU(51," Select All "),e.qZA()()(),e.YNc(52,Mo,4,0,"tbody",22),e.TgZ(53,"tbody"),e.YNc(54,zo,19,6,"tr",23),e.qZA()()()()()()()()),2&o){const s=e.MAs(23);e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(10,Ro,r.isShowPadding?"280px":"100px")),e.xp6(8),e.Q6J("ngForOf",e.xi3(10,7,r.billingTypeList,"code")),e.xp6(10),e.Q6J("matMenuTriggerFor",s),e.xp6(31),e.Q6J("checked",r.selectAll),e.xp6(2),e.Q6J("ngIf",0===r.billingDetails.length),e.xp6(2),e.Q6J("ngForOf",r.billingDetails)}},dependencies:[v.sg,v.O5,v.PC,y.rH,R.RK,N.Hw,F.VK,F.OP,F.p6,l.YN,l.Kr,P.s,w]})}return i})();var Ke=f(4735);function $o(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.code,"")}}function Ho(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function jo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function Wo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Date is mandatory"),e.qZA()())}function Ko(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Date is mandatory"),e.qZA()())}function Xo(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Reference Document is mandatory"),e.qZA()())}function ei(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Reference Document is mandatory"),e.qZA()())}function ti(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function ri(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function oi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Value is mandatory"),e.qZA()())}function ii(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Value is mandatory"),e.qZA()())}function ni(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function si(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function ai(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.code,"")}}function li(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Currency is mandatory"),e.qZA()())}function di(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Currency is mandatory"),e.qZA()())}function ci(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function ui(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function pi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.companyCode,"")}}function mi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Company Code is mandatory"),e.qZA()())}function hi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Company Code is mandatory"),e.qZA()())}function gi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.customerAccountAG,"")}}function fi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function _i(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function vi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function yi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function Zi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.paymentTerm," ")}}function Ti(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function Ai(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function Ci(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.inc_terms_code),e.xp6(1),e.hij("",t.description," ")}}function bi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function Si(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function qi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.salesOrg,"")}}function Di(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Ii(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Ui(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.distributionChannel," ")}}function Ni(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function Oi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function Fi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.divion,"")}}function Pi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Division is mandatory"),e.qZA()())}function Gi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Division is mandatory"),e.qZA()())}function Ei(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.modeOfTransport,"")}}function ki(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function xi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function Bi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Ji(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function wi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Qi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Li(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Yi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Mi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function zi(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function Ri(i,n){1&i&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function Vi(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"mat-icon",95),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.deleteFinancial(r))}),e._uU(2,"delete"),e.qZA()()}}function $i(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.code," ")}}function Hi(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function ji(i,n){if(1&i&&(e.TgZ(0,"tr",62),e.YNc(1,Vi,3,0,"td",13),e.TgZ(2,"td"),e._UZ(3,"input",63),e.qZA(),e.TgZ(4,"td")(5,"select",64)(6,"option",11),e._uU(7," Select UoM"),e.qZA(),e.YNc(8,$i,2,2,"option",12),e.ALo(9,"filterPipes"),e.qZA()(),e.TgZ(10,"td"),e._UZ(11,"input",65),e.qZA(),e.TgZ(12,"td"),e._UZ(13,"input",66),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"input",67),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"input",68),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"input",69),e.qZA(),e.TgZ(20,"td"),e._UZ(21,"input",70),e.qZA(),e.TgZ(22,"td"),e._UZ(23,"input",71),e.qZA(),e.TgZ(24,"td"),e._UZ(25,"input",72),e.qZA(),e.TgZ(26,"td"),e._UZ(27,"input",73),e.qZA(),e.TgZ(28,"td"),e._UZ(29,"input",74),e.qZA(),e.TgZ(30,"td"),e._UZ(31,"input",75),e.qZA(),e.TgZ(32,"td"),e._UZ(33,"input",76),e.qZA(),e.TgZ(34,"td")(35,"select",77),e._UZ(36,"option",78),e.TgZ(37,"option",32),e._uU(38,"One"),e.qZA(),e.TgZ(39,"option",33),e._uU(40,"Two"),e.qZA(),e.TgZ(41,"option",34),e._uU(42,"Three"),e.qZA()()(),e.TgZ(43,"td"),e._UZ(44,"input",79),e.qZA(),e.TgZ(45,"td"),e._UZ(46,"input",80),e.qZA(),e.TgZ(47,"td"),e._UZ(48,"input",81),e.qZA(),e.TgZ(49,"td"),e._UZ(50,"input",82),e.qZA(),e.TgZ(51,"td"),e._UZ(52,"input",83),e.qZA(),e.TgZ(53,"td"),e._UZ(54,"input",84),e.qZA(),e.TgZ(55,"td"),e._UZ(56,"input",85),e.qZA(),e.TgZ(57,"td"),e._UZ(58,"input",86),e.qZA(),e.TgZ(59,"td")(60,"select",87)(61,"option",88),e._uU(62,"Select Transaction Currency"),e.qZA(),e.YNc(63,Hi,2,2,"option",12),e.ALo(64,"filterPipes"),e.qZA()(),e.TgZ(65,"td"),e._UZ(66,"input",89),e.qZA(),e.TgZ(67,"td"),e._UZ(68,"input",90),e.qZA(),e.TgZ(69,"td")(70,"select",91),e._UZ(71,"option",78),e.TgZ(72,"option",32),e._uU(73,"One"),e.qZA(),e.TgZ(74,"option",33),e._uU(75,"Two"),e.qZA(),e.TgZ(76,"option",34),e._uU(77,"Three"),e.qZA()()(),e.TgZ(78,"td")(79,"select",92),e._UZ(80,"option",78),e.TgZ(81,"option",32),e._uU(82,"One"),e.qZA(),e.TgZ(83,"option",33),e._uU(84,"Two"),e.qZA(),e.TgZ(85,"option",34),e._uU(86,"Three"),e.qZA()()(),e.TgZ(87,"td"),e._UZ(88,"input",93),e.qZA(),e.TgZ(89,"td"),e._UZ(90,"input",94),e.qZA()()),2&i){const t=n.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("ngIf",o.financialListArray.controls.length>1),e.xp6(5),e.Q6J("selected",""===o.billingFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,5,o.uomDetail,"code")),e.xp6(55),e.Q6J("ngForOf",e.xi3(64,8,o.currencyDetails,"code"))}}const Wi=function(i){return{"padding-left":i}};let Ki=(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g,_,A,q,U){this.fb=t,this.idle=o,this.cd=r,this.billingSer=s,this.companyCodeSer=a,this._snackBar=d,this.customerAcctAG=c,this.paymentTermSer=u,this.incrementTermSer=p,this.distibutionSer=h,this.divisionSer=g,this.SalesSer=_,this.modeOfTransportSer=A,this.productSer=q,this.router=U,this.isSubmitted=!1,this.isShowPadding=!1,this.billingFormGroup=l.cw,this.countryLists="",this.idleState="Not Started",this.billingTypeList=[],this.currencyDetails=[],this.companyCodeDetails=[],this.customerAccountAsstGroup=[],this.paymentTermDetail=[],this.incrementTermsDetails=[],this.divisionDetail=[],this.distributionDetail=[],this.motDetails=[],this.salesData=[],this.uomDetail=[],o.setIdle(450),o.setTimeout(900),o.setInterrupts(T.WO),o.onIdleEnd.subscribe(()=>{this.idleState="Started",r.detectChanges()}),o.onTimeout.subscribe(()=>{this.idleState="Timeout"}),o.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.createBillingFormFields(),this.setStates(),this.getBillingType(),this.getCurrencyDetails(),this.getCompanyCodeDetail(),this.getCustomerAcctAG(),this.getPaymentTerm(),this.getIncrementTermsDetails(),this.getDivisionDetail(),this.getDistributionDetail(),this.getSalesDetail(),this.getModeOfTransport(),this.getAllUomDetail()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createBillingFormFields(){this.billingFormGroup=this.fb.group({billingTypeId:["",l.kI.required],billingType:["",l.kI.required],billingDate:["",l.kI.required],referenceDocument:["",l.kI.required],customerId:["",l.kI.required],customerName:["222",l.kI.required],netValue:["",l.kI.required],taxAmount:["",l.kI.required],currencyId:["",l.kI.required],currencyName:["",l.kI.required],exchangeRate:["",l.kI.required],companyCodeId:["",l.kI.required],companyCode:["",l.kI.required],customerAsstAccountId:["",l.kI.required],customerAsstAccountName:["",l.kI.required],createdOn:[""],createdBy:[""],postingStatus:["",l.kI.required],changedBy:[""],changedOn:[""],paymentTermsId:["",l.kI.required],paymentTerms:["",l.kI.required],incoTermsId:["",l.kI.required],incoTerms:["",l.kI.required],salesOrgId:["",l.kI.required],salesOrgName:["",l.kI.required],distributionChannelId:["",l.kI.required],distributionChannelName:["",l.kI.required],divisionId:["",l.kI.required],divisionName:["",l.kI.required],modeOfTarnsportId:["",l.kI.required],modeOfTarnsportName:["",l.kI.required],netTax:["",l.kI.required],netDiscount:["",l.kI.required],netFreight:["",l.kI.required],otherCharges:["",l.kI.required],itemList:this.fb.array([this.getFinancialFields()])})}getFinancialFields(){return this.fb.group({billedQTY:[""],uom:[""],grossWeight:[""],netWeight:[""],grossUOM:[""],salesOrder:[""],salesOrderItem:[""],referenceDocument:[""],referenceDocumentItem:[""],priceDate:[""],serviceRenderedDate:[""],priceAmount:[""],perUnitPrice:[""],pricingUnit:[""],pricingUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],hsnCode:[""],countryOrigin:[""],destinationCountry:[""],poNumber:[""],poDate:[""]})}get financialListArray(){return this.billingFormGroup.get("itemList")}addFinancial(){this.financialListArray.push(this.getFinancialFields());const t=this.billingFormGroup.get("itemList");this.billingFormGroup.value.itemList.map((o,r)=>{t.at(r).patchValue({companyCurrency:o[0].companyCurrency})})}deleteFinancial(t){this.financialListArray.removeAt(t)}addAllBilling(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0,localStorage.getItem("userName");const r=new Date,s=r.getFullYear(),a=r.getMonth()+1,d=r.getDate(),c=r.getHours(),u=r.getMinutes(),p=r.getSeconds(),h=`${s}-${a.toString().padStart(2,"0")}-${d.toString().padStart(2,"0")} ${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`,g=localStorage.getItem("userName");if(t.billingFormGroup.value.createdOn=h,t.billingFormGroup.value.createdBy=g,t.billingFormGroup.value.changedOn=h,t.billingFormGroup.value.changedBy=g,console.log(t.billingFormGroup.value,t.billingFormGroup.invalid),t.billingFormGroup.invalid)return;const _=yield t.billingSer.createBillingOrder(t.billingFormGroup.value);if(console.log(_),"1"===_.status)return t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/billing-list"]);if("0"===_.status)return void t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(console.error(o),o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingType(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billingSer.getBillingTypeDetails();"1"===o.status?t.billingTypeList=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingType(t){if(t.target.value){const o=this.billingTypeList.find(r=>r._id===t.target.value);this.billingFormGroup.controls.billingType.setValue(o.code)}}getCurrencyDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCurrencyDetails();"1"===o.status?t.currencyDetails=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCurrency(t){if(t.target.value){const o=this.currencyDetails.find(r=>r._id===t.target.value);this.billingFormGroup.controls.currencyName.setValue(o.code)}}getCompanyCodeDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCompanyCodeDetails();console.log(o,"company data"),"1"===o.status?t.companyCodeDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCompanyCode(t){if(t.target.value){const o=this.companyCodeDetails.find(s=>s._id===t.target.value);this.billingFormGroup.controls.companyCode.setValue(o.companyCode);const r=this.billingFormGroup.get("itemList");this.billingFormGroup.value.itemList.map((s,a)=>{r.at(a).patchValue({companyCurrency:o.currencyName?o.currencyName:""})})}}getCustomerAcctAG(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerAcctAG.getAllCustomerAccountDetails();"1"===o.status&&(t.customerAccountAsstGroup=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCustomerAcctAssign(t){if(t.target.value){const o=this.customerAccountAsstGroup.find(r=>r._id===t.target.value);this.billingFormGroup.controls.customerAsstAccountName.setValue(o.customerAccountAG)}}getPaymentTerm(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.paymentTermSer.getAllPaymentTerm();"1"===o.status&&(t.paymentTermDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handlePaymentTerms(t){if(t.target.value){const o=this.paymentTermDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.paymentTerms.setValue(o.paymentTerm)}}getIncrementTermsDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.incrementTermSer.getAllIncTermsDetails();"1"===o.status&&(t.incrementTermsDetails=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleIncrementTerms(t){if(t.target.value){const o=this.incrementTermsDetails.find(r=>r.inc_terms_code===+t.target.value);this.billingFormGroup.controls.incoTerms.setValue(o.description)}}getDistributionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.distibutionSer.getAllDistibutionChannelDetails();"1"===o.status&&(t.distributionDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(t){const o=this.distributionDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.distributionChannelName.setValue(o.distributionChannel)}getDivisionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.divisionSer.getAllDivionDetails();"1"===o.status&&(t.divisionDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(t){const o=this.divisionDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.divisionName.setValue(o.divion)}getModeOfTransport(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.modeOfTransportSer.getAllModeOfTransportDetails();"1"===o.status&&(t.motDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handlemodeofTransport(t){if(t.target.value){const o=this.motDetails.find(r=>r._id===t.target.value);this.billingFormGroup.controls.modeOfTarnsportName.setValue(o.modeOfTransport)}}getSalesDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.SalesSer.getAllSalesOrgDetails();console.log(o),"1"===o.status?t.salesData=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(t){if(t.target.value){const o=this.salesData.find(r=>r._id===t.target.value);this.billingFormGroup.controls.salesOrgName.setValue(o.salesOrg)}}getAllUomDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllUOMDetails();"1"===o.status&&(t.uomDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(T.hX),e.Y36(e.sBO),e.Y36(se),e.Y36(j.X),e.Y36(O.ux),e.Y36(X.P),e.Y36(W.f),e.Y36(Ke.y),e.Y36($.P),e.Y36(H.P),e.Y36(V.T),e.Y36(K.z),e.Y36(k.M),e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-billing"]],decls:298,vars:100,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/billing-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],["for",""],["formControlName","billingTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","BillingDate"],["type","date","formControlName","billingDate",1,"form-control"],["for","ReferenceDoc"],["type","text","formControlName","referenceDocument","placeholder","Enter Reference Document",1,"form-control"],["for","CustomerId"],["type","text","formControlName","customerId","placeholder","Enter Customer Id",1,"form-control"],["for","NetValue"],["type","number","formControlName","netValue","placeholder","Enter Net Value",1,"form-control"],[1,"col-6","py-2","mb-2"],["for","TaxAmount"],["type","number","formControlName","taxAmount","placeholder","Enter Tax Amount",1,"form-control"],["formControlName","currencyId",1,"form-select",3,"change"],["for","ExchaneRate"],["type","number","formControlName","exchangeRate","placeholder","Exchange Rate",1,"form-control"],["for","Company"],["formControlName","companyCodeId",1,"form-select",3,"change"],["formControlName","customerAsstAccountId",1,"form-select",3,"change"],["formControlName","postingStatus",1,"form-select"],["value","1"],["value","2"],["value","3"],["formControlName","paymentTermsId",1,"form-select",3,"change"],["formControlName","incoTermsId",1,"form-select",3,"change"],["formControlName","salesOrgId",1,"form-select",3,"change"],["formControlName","distributionChannelId",1,"form-select",3,"change"],["formControlName","divisionId",1,"form-select",3,"change"],["formControlName","modeOfTarnsportId",1,"form-select",3,"change"],["for","NetTax"],["type","number","formControlName","netTax","placeholder","Net Tax",1,"form-control"],["for","NetDiscount"],["type","number","formControlName","netDiscount","placeholder","Net Discount",1,"form-control"],["for","netFreight"],["type","number","formControlName","netFreight","placeholder","Net Freight",1,"form-control"],["for","OtherCharge"],["type","number","formControlName","otherCharges","placeholder","Other Charge",1,"form-control"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","formControlName","billedQTY","placeholder","enter Build Qty",1,"form-control"],["formControlName","uom",1,"form-select"],["type","number","formControlName","netWeight","placeholder","enter net weight",1,"form-control"],["type","text","formControlName","grossWeight","placeholder","enter gross weight.",1,"form-control"],["type","text","formControlName","grossUOM","placeholder","enter gross UOM.",1,"form-control"],["type","text","formControlName","salesOrder","placeholder","enter sales order.",1,"form-control"],["type","text","formControlName","salesOrderItem","placeholder","enter sales item",1,"form-control"],["type","text","formControlName","referenceDocument","placeholder","enter reference document",1,"form-control"],["type","text","formControlName","referenceDocumentItem","placeholder","enter reference document Item",1,"form-control"],["type","date","formControlName","priceDate",1,"form-control"],["type","date","formControlName","serviceRenderedDate",1,"form-control"],["type","number","formControlName","priceAmount","placeholder","enter price Amount",1,"form-control"],["type","number","formControlName","perUnitPrice",1,"form-control"],["type","number","formControlName","pricingUnit",1,"form-control"],["formControlName","pricingUOM",1,"form-select"],["selected",""],["type","number","formControlName","tax",1,"form-control"],["type","number","formControlName","perUnitTax",1,"form-control"],["type","number","formControlName","discount",1,"form-control"],["type","number","formControlName","perUnitDiscount",1,"form-control"],["type","number","formControlName","freight",1,"form-control"],["type","number","formControlName","perUnitFreight",1,"form-control"],["type","number","formControlName","otherCharges",1,"form-control"],["type","text","placeholder","Auto Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select"],["selected","","value","","hidden",""],["type","number","formControlName","exchangeRate",1,"form-control"],["type","text","formControlName","hsnCode",1,"form-control"],["formControlName","countryOrigin",1,"form-select"],["formControlName","destinationCountry",1,"form-select"],["type","text","formControlName","poNumber",1,"form-control"],["type","date","formControlName","poDate",1,"form-control"],[2,"cursor","pointer",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Billing Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.addAllBilling()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Billing Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(a){return r.handleBillingType(a)}),e.TgZ(16,"option",11),e._uU(17,"Select Billing Type"),e.qZA(),e.YNc(18,$o,2,2,"option",12),e.ALo(19,"filterPipes"),e.qZA(),e.YNc(20,Ho,3,0,"div",13),e.YNc(21,jo,3,0,"div",13),e.qZA(),e.TgZ(22,"div",8)(23,"label",14),e._uU(24,"Billing Date"),e.qZA(),e._UZ(25,"input",15),e.YNc(26,Wo,3,0,"div",13),e.YNc(27,Ko,3,0,"div",13),e.qZA(),e.TgZ(28,"div",8)(29,"label",16),e._uU(30,"Reference Doc"),e.qZA(),e._UZ(31,"input",17),e.YNc(32,Xo,3,0,"div",13),e.YNc(33,ei,3,0,"div",13),e.qZA(),e.TgZ(34,"div",8)(35,"label",18),e._uU(36,"Customer Id "),e.TgZ(37,"sup"),e._uU(38,"*"),e.qZA()(),e._UZ(39,"input",19),e.YNc(40,ti,3,0,"div",13),e.YNc(41,ri,3,0,"div",13),e.qZA(),e.TgZ(42,"div",8)(43,"label",20),e._uU(44,"Net Value"),e.qZA(),e._UZ(45,"input",21),e.YNc(46,oi,3,0,"div",13),e.YNc(47,ii,3,0,"div",13),e.qZA(),e.TgZ(48,"div",22)(49,"label",23),e._uU(50,"Tax Amount"),e.qZA(),e._UZ(51,"input",24),e.YNc(52,ni,3,0,"div",13),e.YNc(53,si,3,0,"div",13),e.qZA(),e.TgZ(54,"div",22)(55,"label",9),e._uU(56,"Currency "),e.TgZ(57,"sup"),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"select",25),e.NdJ("change",function(a){return r.handleCurrency(a)}),e.TgZ(60,"option",11),e._uU(61,"Select Currency "),e.qZA(),e.YNc(62,ai,2,2,"option",12),e.ALo(63,"filterPipes"),e.qZA(),e.YNc(64,li,3,0,"div",13),e.YNc(65,di,3,0,"div",13),e.qZA(),e.TgZ(66,"div",8)(67,"label",26),e._uU(68,"Exchange Rate "),e.TgZ(69,"sup"),e._uU(70,"*"),e.qZA()(),e._UZ(71,"input",27),e.YNc(72,ci,3,0,"div",13),e.YNc(73,ui,3,0,"div",13),e.qZA(),e.TgZ(74,"div",22)(75,"label",28),e._uU(76,"Company Code "),e.TgZ(77,"sup"),e._uU(78,"*"),e.qZA()(),e.TgZ(79,"select",29),e.NdJ("change",function(a){return r.handleCompanyCode(a)}),e.TgZ(80,"option",11),e._uU(81,"Select Company Code"),e.qZA(),e.YNc(82,pi,2,2,"option",12),e.ALo(83,"filterPipes"),e.qZA(),e.YNc(84,mi,3,0,"div",13),e.YNc(85,hi,3,0,"div",13),e.qZA(),e.TgZ(86,"div",22)(87,"label",9),e._uU(88,"Customer Account AG "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e.TgZ(91,"select",30),e.NdJ("change",function(a){return r.handleCustomerAcctAssign(a)}),e.TgZ(92,"option",11),e._uU(93," Enter Customer Account AG"),e.qZA(),e.YNc(94,gi,2,2,"option",12),e.ALo(95,"filterPipes"),e.qZA(),e.YNc(96,fi,3,0,"div",13),e.YNc(97,_i,3,0,"div",13),e.qZA(),e.TgZ(98,"div",22)(99,"label",9),e._uU(100,"Posting Status "),e.TgZ(101,"sup"),e._uU(102,"*"),e.qZA()(),e.TgZ(103,"select",31)(104,"option",11),e._uU(105,"Enter Posting Status"),e.qZA(),e.TgZ(106,"option",32),e._uU(107,"One"),e.qZA(),e.TgZ(108,"option",33),e._uU(109,"Two"),e.qZA(),e.TgZ(110,"option",34),e._uU(111,"Three"),e.qZA()(),e.YNc(112,vi,3,0,"div",13),e.YNc(113,yi,3,0,"div",13),e.qZA(),e.TgZ(114,"div",22)(115,"label",9),e._uU(116,"Payment Terms "),e.TgZ(117,"sup"),e._uU(118,"*"),e.qZA()(),e.TgZ(119,"select",35),e.NdJ("change",function(a){return r.handlePaymentTerms(a)}),e.TgZ(120,"option",11),e._uU(121,"Select Payment Term"),e.qZA(),e.YNc(122,Zi,2,2,"option",12),e.ALo(123,"filterPipes"),e.qZA(),e.YNc(124,Ti,3,0,"div",13),e.YNc(125,Ai,3,0,"div",13),e.qZA(),e.TgZ(126,"div",22)(127,"label",9),e._uU(128,"Inco Terms "),e.TgZ(129,"sup"),e._uU(130,"*"),e.qZA()(),e.TgZ(131,"select",36),e.NdJ("change",function(a){return r.handleIncrementTerms(a)}),e.TgZ(132,"option",11),e._uU(133,"Select Inco Term"),e.qZA(),e.YNc(134,Ci,2,2,"option",12),e.ALo(135,"filterPipes"),e.qZA(),e.YNc(136,bi,3,0,"div",13),e.YNc(137,Si,3,0,"div",13),e.qZA(),e.TgZ(138,"div",22)(139,"label",9),e._uU(140,"Sales Org "),e.TgZ(141,"sup"),e._uU(142,"*"),e.qZA()(),e.TgZ(143,"select",37),e.NdJ("change",function(a){return r.handleSales(a)}),e.TgZ(144,"option",11),e._uU(145,"Select Sales Org "),e.qZA(),e.YNc(146,qi,2,2,"option",12),e.ALo(147,"filterPipes"),e.qZA(),e.YNc(148,Di,3,0,"div",13),e.YNc(149,Ii,3,0,"div",13),e.qZA(),e.TgZ(150,"div",22)(151,"label",9),e._uU(152,"Distribution Channel "),e.TgZ(153,"sup"),e._uU(154,"*"),e.qZA()(),e.TgZ(155,"select",38),e.NdJ("change",function(a){return r.handleDistribution(a)}),e.TgZ(156,"option",11),e._uU(157," Select Distribution Channel "),e.qZA(),e.YNc(158,Ui,2,2,"option",12),e.ALo(159,"filterPipes"),e.qZA(),e.YNc(160,Ni,3,0,"div",13),e.YNc(161,Oi,3,0,"div",13),e.qZA(),e.TgZ(162,"div",22)(163,"label",9),e._uU(164,"Division "),e.TgZ(165,"sup"),e._uU(166,"*"),e.qZA()(),e.TgZ(167,"select",39),e.NdJ("change",function(a){return r.handleDivision(a)}),e.TgZ(168,"option",11),e._uU(169,"Select Division "),e.qZA(),e.YNc(170,Fi,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA(),e.YNc(172,Pi,3,0,"div",13),e.YNc(173,Gi,3,0,"div",13),e.qZA(),e.TgZ(174,"div",22)(175,"label",9),e._uU(176,"Mode Of Transport "),e.TgZ(177,"sup"),e._uU(178,"*"),e.qZA()(),e.TgZ(179,"select",40),e.NdJ("change",function(a){return r.handlemodeofTransport(a)}),e.TgZ(180,"option",11),e._uU(181,"Select Mode Of Transport"),e.qZA(),e.YNc(182,Ei,2,2,"option",12),e.ALo(183,"filterPipes"),e.qZA(),e.YNc(184,ki,3,0,"div",13),e.YNc(185,xi,3,0,"div",13),e.qZA(),e.TgZ(186,"div",22)(187,"label",41),e._uU(188,"Net Tax "),e.TgZ(189,"sup"),e._uU(190,"*"),e.qZA()(),e._UZ(191,"input",42),e.YNc(192,Bi,3,0,"div",13),e.YNc(193,Ji,3,0,"div",13),e.qZA(),e.TgZ(194,"div",22)(195,"label",43),e._uU(196,"Net Discount "),e.TgZ(197,"sup"),e._uU(198,"*"),e.qZA()(),e._UZ(199,"input",44),e.YNc(200,wi,3,0,"div",13),e.YNc(201,Qi,3,0,"div",13),e.qZA(),e.TgZ(202,"div",22)(203,"label",45),e._uU(204,"Net Freight "),e.TgZ(205,"sup"),e._uU(206,"*"),e.qZA()(),e._UZ(207,"input",46),e.YNc(208,Li,3,0,"div",13),e.YNc(209,Yi,3,0,"div",13),e.qZA(),e.TgZ(210,"div",22)(211,"label",47),e._uU(212,"Other Charges "),e.TgZ(213,"sup"),e._uU(214,"*"),e.qZA()(),e._UZ(215,"input",48),e.YNc(216,Mi,3,0,"div",13),e.YNc(217,zi,3,0,"div",13),e.qZA()(),e.TgZ(218,"div",49)(219,"div",50)(220,"div",2)(221,"div",51)(222,"h3",4),e._uU(223," Item Data "),e.qZA()(),e.TgZ(224,"div",52)(225,"button",53),e.NdJ("click",function(){return r.addFinancial()}),e._uU(226,"Add"),e.qZA()()(),e.TgZ(227,"div",54)(228,"table",55)(229,"thead")(230,"tr"),e.YNc(231,Ri,2,0,"th",13),e.TgZ(232,"th"),e._uU(233,"Billed Qty"),e.qZA(),e.TgZ(234,"th"),e._uU(235,"UOM"),e.qZA(),e.TgZ(236,"th"),e._uU(237,"Net Weight"),e.qZA(),e.TgZ(238,"th"),e._uU(239,"Gross Weight"),e.qZA(),e.TgZ(240,"th"),e._uU(241,"Gross UOM"),e.qZA(),e.TgZ(242,"th"),e._uU(243,"Sales Order"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Sales Order Item"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Reference Doc"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Reference Doc Item"),e.qZA(),e.TgZ(250,"th"),e._uU(251,"Pricing Date"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Service rendered date"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Price Amount"),e.qZA(),e.TgZ(256,"th"),e._uU(257,"Per unit Price"),e.qZA(),e.TgZ(258,"th"),e._uU(259,"Pricing unit"),e.qZA(),e.TgZ(260,"th"),e._uU(261,"Pricing UoM"),e.qZA(),e.TgZ(262,"th"),e._uU(263,"Tax"),e.qZA(),e.TgZ(264,"th"),e._uU(265,"Per Unit Tax"),e.qZA(),e.TgZ(266,"th"),e._uU(267,"Discount"),e.qZA(),e.TgZ(268,"th"),e._uU(269,"Per Unit Discount"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"Freight"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Per Unit Freight"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Other Charges"),e.qZA(),e.TgZ(276,"th"),e._uU(277,"Company Currency"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Transaction Currency"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Exchange Rate"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"HSN Code"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Country Of Origin"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Destination Country"),e.qZA(),e.TgZ(288,"th"),e._uU(289,"PO Number"),e.qZA(),e.TgZ(290,"th"),e._uU(291,"PO Date"),e.qZA()()(),e.TgZ(292,"tbody",56),e.YNc(293,ji,91,11,"tr",57),e.qZA()()()()(),e.TgZ(294,"div",49)(295,"div",58)(296,"button",59),e._uU(297,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(98,Wi,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.billingFormGroup),e.xp6(8),e.Q6J("selected",""===r.billingFormGroup.value.billingTypeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(19,68,r.billingTypeList,"code")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.billingTypeId.touched&&r.billingFormGroup.controls.billingTypeId.touched&&r.billingFormGroup.controls.billingTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.billingTypeId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.billingDate.touched&&r.billingFormGroup.controls.billingDate.touched&&r.billingFormGroup.controls.billingDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.billingDate.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.referenceDocument.touched&&r.billingFormGroup.controls.referenceDocument.touched&&r.billingFormGroup.controls.referenceDocument.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.referenceDocument.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.customerId.touched&&r.billingFormGroup.controls.customerId.touched&&r.billingFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.netValue.touched&&r.billingFormGroup.controls.netValue.touched&&r.billingFormGroup.controls.netValue.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netValue.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.taxAmount.touched&&r.billingFormGroup.controls.taxAmount.touched&&r.billingFormGroup.controls.taxAmount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.taxAmount.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.currencyId),e.xp6(2),e.Q6J("ngForOf",e.xi3(63,71,r.currencyDetails,"code")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.currencyId.touched&&r.billingFormGroup.controls.currencyId.touched&&r.billingFormGroup.controls.currencyId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.currencyId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.exchangeRate.touched&&r.billingFormGroup.controls.exchangeRate.touched&&r.billingFormGroup.controls.exchangeRate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.exchangeRate.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(83,74,r.companyCodeDetails,"companyCode")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.companyCodeId.touched&&r.billingFormGroup.controls.companyCodeId.touched&&r.billingFormGroup.controls.companyCodeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.companyCodeId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.customerAsstAccountId),e.xp6(2),e.Q6J("ngForOf",e.xi3(95,77,r.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.customerAsstAccountId.touched&&r.billingFormGroup.controls.customerAsstAccountId.touched&&r.billingFormGroup.controls.customerAsstAccountId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.customerAsstAccountId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.postingStatus),e.xp6(8),e.Q6J("ngIf",r.billingFormGroup.controls.postingStatus.touched&&r.billingFormGroup.controls.postingStatus.touched&&r.billingFormGroup.controls.postingStatus.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.postingStatus.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.paymentTermsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(123,80,r.paymentTermDetail,"paymentTerm")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.paymentTermsId.touched&&r.billingFormGroup.controls.paymentTermsId.touched&&r.billingFormGroup.controls.paymentTermsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.paymentTermsId.hasError("required")),e.xp6(7),e.Q6J("selected",""==r.billingFormGroup.value.incoTermsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(135,83,r.incrementTermsDetails,"description")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.incoTermsId.touched&&r.billingFormGroup.controls.incoTermsId.touched&&r.billingFormGroup.controls.incoTermsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.incoTermsId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.salesOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(147,86,r.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.salesOrgId.touched&&r.billingFormGroup.controls.salesOrgId.touched&&r.billingFormGroup.controls.salesOrgId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.salesOrgId.hasError("required")),e.xp6(7),e.Q6J("selected",""==r.billingFormGroup.value.distributionChannelId),e.xp6(2),e.Q6J("ngForOf",e.xi3(159,89,r.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.distributionChannelId.touched&&r.billingFormGroup.controls.distributionChannelId.touched&&r.billingFormGroup.controls.distributionChannelId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.distributionChannelId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,92,r.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.divisionId.touched&&r.billingFormGroup.controls.divisionId.touched&&r.billingFormGroup.controls.divisionId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.divisionId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.modeOfTarnsportId),e.xp6(2),e.Q6J("ngForOf",e.xi3(183,95,r.motDetails,"modeOfTransport")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.modeOfTarnsportId.touched&&r.billingFormGroup.controls.modeOfTarnsportId.touched&&r.billingFormGroup.controls.modeOfTarnsportId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.modeOfTarnsportId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netTax.touched&&r.billingFormGroup.controls.netTax.touched&&r.billingFormGroup.controls.netTax.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netDiscount.touched&&r.billingFormGroup.controls.netDiscount.touched&&r.billingFormGroup.controls.netDiscount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netFreight.touched&&r.billingFormGroup.controls.netFreight.touched&&r.billingFormGroup.controls.netFreight.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.otherCharges.touched&&r.billingFormGroup.controls.otherCharges.touched&&r.billingFormGroup.controls.otherCharges.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.otherCharges.hasError("required")),e.xp6(14),e.Q6J("ngIf",r.financialListArray.controls.length>1),e.xp6(62),e.Q6J("ngForOf",r.financialListArray.controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,P.s,w],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return i})();function Xi(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.description,"")}}function en(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Type is mandatory"),e.qZA()())}function tn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Type is mandatory"),e.qZA()())}function rn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.salesOrg,"")}}function on(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function nn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function sn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.distributionChannel," ")}}function an(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function ln(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function dn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.divion,"")}}function cn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Division is mandatory"),e.qZA()())}function un(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Division is mandatory"),e.qZA()())}function pn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.companyCode,"")}}function mn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.customerId),e.xp6(1),e.hij(" ",t.customerId,"")}}function hn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function gn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function fn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function _n(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function vn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function yn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function Zn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function Tn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function An(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function Cn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO Date is mandatory"),e.qZA()())}function bn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"PO Date is mandatory"),e.qZA()())}function Sn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function qn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function Dn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.orderStatus," ")}}function In(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Status is mandatory"),e.qZA()())}function Un(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Status is mandatory"),e.qZA()())}function Nn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.modeOfTransport,"")}}function On(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.paymentTerm," ")}}function Fn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.billingBlock," ")}}function Pn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.customerAccountAG,"")}}function Gn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function En(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function kn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Price is mandatory"),e.qZA()())}function xn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Price is mandatory"),e.qZA()())}function Bn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Jn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function wn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Qn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Ln(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Yn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Mn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function zn(i,n){1&i&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function Rn(i,n){if(1&i&&(e.TgZ(0,"option",90),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("disabled",t.disable)("value",t.materialId),e.xp6(1),e.hij(" ",t.materialId,"")}}function Vn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.baseUnitMeasure,"")}}const Xe=function(i){return{display:i}};function $n(i,n){if(1&i&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Xe,r.value.materialId===o.materialId?"block":"none"))("value",t.deliveringPlantId),e.xp6(1),e.hij(" ",t.deliveringPlantName," ")}}function Hn(i,n){if(1&i&&(e.ynx(0),e.YNc(1,$n,2,5,"option",91),e.ALo(2,"filterPipes"),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.salesData,"deliveringPlantName"))}}function jn(i,n){if(1&i&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&i){const t=n.$implicit,o=e.oxw().$implicit,r=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,Xe,r.value.materialId===o.materialId?"block":"none"))("value",t.storageLocationId),e.xp6(1),e.hij(" ",t.storageLocationName," ")}}function Wn(i,n){if(1&i&&(e.ynx(0),e.YNc(1,jn,2,5,"option",91),e.ALo(2,"filterPipes"),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.plantData,"storageLocationName"))}}function Kn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.code)}}function Xn(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.orderStatus," ")}}const et=function(i){return{cursor:i}},es=function(i){return{"pointer-events":i}};function ts(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",56)(1,"td")(2,"div",57)(3,"div")(4,"mat-icon",58),e.NdJ("click",function(){const r=e.CHM(t),s=r.index,a=r.$implicit,d=e.oxw();return e.KtG(d.deleteSalesItem(s,a.value.orderStatusName))}),e._uU(5,"delete"),e.qZA()(),e.TgZ(6,"div",59)(7,"input",60),e.NdJ("change",function(r){const s=e.CHM(t),a=s.index,d=s.$implicit,c=e.oxw();return e.KtG(c.handleDeliveryDetails(r,a,d.value.orderStatusName))}),e.qZA()()()(),e.TgZ(8,"td")(9,"select",61),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleMaterial(r,a))}),e.TgZ(10,"option",11),e._uU(11," Select Product Id"),e.qZA(),e.YNc(12,Rn,2,3,"option",62),e.ALo(13,"filterPipes"),e.qZA()(),e.TgZ(14,"td"),e._UZ(15,"input",63),e.qZA(),e.TgZ(16,"td")(17,"input",64),e.NdJ("focusout",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.updateValue(r,a))}),e.qZA()(),e.TgZ(18,"td")(19,"select",65)(20,"option",11),e._uU(21," Select UOM"),e.qZA(),e.YNc(22,Vn,2,2,"option",12),e.ALo(23,"filterPipes"),e.qZA()(),e.TgZ(24,"td")(25,"select",66),e.NdJ("change",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handlePlant(r,a.value.materialId,d))}),e.TgZ(26,"option",11),e._uU(27," Select Plant "),e.qZA(),e.YNc(28,Hn,3,4,"ng-container",67),e.qZA()(),e.TgZ(29,"td")(30,"select",68),e.NdJ("change",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handleStorage(r,a.value.materialId,d))}),e.TgZ(31,"option",11),e._uU(32," Select storage Location "),e.qZA(),e.YNc(33,Wn,3,4,"ng-container",67),e.qZA()(),e.TgZ(34,"td"),e._UZ(35,"input",69),e.qZA(),e.TgZ(36,"td"),e._UZ(37,"input",70),e.qZA(),e.TgZ(38,"td"),e._UZ(39,"input",71),e.qZA(),e.TgZ(40,"td"),e._UZ(41,"input",72),e.qZA(),e.TgZ(42,"td")(43,"select",73)(44,"option",11),e._uU(45," Select Pricing UOM"),e.qZA(),e.TgZ(46,"option",74),e._uU(47,"One"),e.qZA(),e.TgZ(48,"option",75),e._uU(49,"Two"),e.qZA(),e.TgZ(50,"option",76),e._uU(51,"Three"),e.qZA()()(),e.TgZ(52,"td"),e._UZ(53,"input",77),e.qZA(),e.TgZ(54,"td"),e._UZ(55,"input",78),e.qZA(),e.TgZ(56,"td"),e._UZ(57,"input",79),e.qZA(),e.TgZ(58,"td"),e._UZ(59,"input",80),e.qZA(),e.TgZ(60,"td"),e._UZ(61,"input",81),e.qZA(),e.TgZ(62,"td"),e._UZ(63,"input",82),e.qZA(),e.TgZ(64,"td"),e._UZ(65,"input",40),e.qZA(),e.TgZ(66,"td"),e._UZ(67,"input",83),e.qZA(),e.TgZ(68,"td")(69,"select",84)(70,"option",11),e._uU(71,"Select Transaction Currency"),e.qZA(),e.YNc(72,Kn,2,2,"option",12),e.ALo(73,"filterPipes"),e.qZA()(),e.TgZ(74,"td"),e._UZ(75,"input",85),e.qZA(),e.TgZ(76,"td"),e._UZ(77,"input",86),e.qZA(),e.TgZ(78,"td"),e._UZ(79,"input",87),e.qZA(),e.TgZ(80,"td"),e._UZ(81,"input",88),e.qZA(),e.TgZ(82,"td"),e._UZ(83,"input",89),e.qZA(),e.TgZ(84,"td")(85,"select",27),e.NdJ("change",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleOrderStatus(r,a))}),e.TgZ(86,"option",11),e._uU(87," Select Order Status "),e.qZA(),e.YNc(88,Xn,2,2,"option",12),e.ALo(89,"filterPipes"),e.qZA()()()}if(2&i){const t=n.$implicit,o=n.index,r=e.oxw();e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngStyle",e.VKq(31,et,"FULLY DELIVERED"===t.value.orderStatusName?"no-drop":"pointer")),e.xp6(3),e.Q6J("ngStyle",e.VKq(33,et,"FULLY DELIVERED"===t.value.orderStatusName?"no-drop":"pointer"))("disabled","FULLY DELIVERED"===t.value.orderStatusName)("checked",t.value.deliveryCheck),e.xp6(3),e.Q6J("selected",""===r.salesFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,19,r.productDeatail,"materialId")),e.xp6(8),e.Q6J("selected",""===r.salesFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(23,22,r.productDeatail,"baseUnitMeasure")),e.xp6(4),e.Q6J("selected",""===r.salesFormGroup.value.plantId),e.xp6(2),e.Q6J("ngForOf",r.productDeatail),e.xp6(3),e.Q6J("selected",""===r.salesFormGroup.value.storageLocationId),e.xp6(2),e.Q6J("ngForOf",r.productDeatail),e.xp6(11),e.Q6J("selected",""===r.salesFormGroup.value.priceUOM),e.xp6(25),e.Q6J("ngStyle",e.VKq(35,es,r.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===r.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(73,25,r.currencyDetails,"code")),e.xp6(14),e.Q6J("selected",""===t.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(89,28,r.orderStatusDetail,"orderStatus"))}}function rs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",93)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handleDeliveryMessage())}),e._uU(2,"Delivery"),e.qZA()()}}const os=function(i){return{"padding-left":i}};let is=(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g,_,A,q,U,b,I,tt){this.fb=t,this.activeRouter=o,this.salesOrderSer=r,this.SalesSer=s,this._snackBar=a,this.distibutionSer=d,this.divisionSer=c,this.companyCodeSer=u,this.orderStatusSer=p,this.paymentTermSer=h,this.modeOfTransportSer=g,this.billinBlockSer=_,this.customerAcctAG=A,this.customerSer=q,this.productSer=U,this.router=b,this.idle=I,this.cd=tt,this.salesFormGroup=l.cw,this.isSubmitted=!1,this.isShowPadding=!1,this.salesData=[],this.distributionDetail=[],this.divisionDetail=[],this.companyCodeDetails=[],this.orderStatusDetail=[],this.paymentTermDetail=[],this.motDetails=[],this.billingBlockDetail=[],this.customerAccountAsstGroup=[],this.customerMasterDetail=[],this.productDeatail=[],this.salesOrderId="",this.customerCurrency=[],this.customerplant=[],this.productPlant=[],this.isShowDeliveryButton=!1,this.idleState="Not Started",this.orderTypeDetails=[],I.setIdle(450),I.setTimeout(900),I.setInterrupts(T.WO),I.onIdleEnd.subscribe(()=>{this.idleState="Started",tt.detectChanges()}),I.onTimeout.subscribe(()=>{this.idleState="Timeout"}),I.onIdleStart.subscribe(()=>{this.idleState="idle"}),this.getCustomerMaster()}ngOnInit(){this.salesOrderId=this.activeRouter.snapshot.paramMap.get("id"),this.createSalesFormFields(),this.getSalesDetail(),this.getDistributionDetail(),this.getDivisionDetail(),this.getCompanyCodeDetail(),this.getOrderStatus(),this.getOrderType(),this.getPaymentTerm(),this.getModeOfTransport(),this.getBillingBlock(),this.getCustomerAcctAG(),this.getProductMasterDetail(),this.getCurrencyDetails(),this.singleSalesDetail(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createSalesFormFields(t){if(t){console.log(this.customerCurrency,"currency"),this.salesFormGroup=this.fb.group({_id:[t._id,l.kI.required],orderTypeId:[t.orderTypeId,l.kI.required],orderType:[t.orderType,l.kI.required],saleOrgId:[t.saleOrgId,l.kI.required],saleOrgName:[t.saleOrgName],distributionChannelsId:[t.distributionChannelsId,l.kI.required],distributionChannelsName:[t.distributionChannelsName,l.kI.required],divisionId:[t.divisionId,l.kI.required],divisionName:[t.divisionName,l.kI.required],customerId:[t.customerId,l.kI.required],customerName:[t.customerName],customerAddress:[t.customerAddress,l.kI.required],salesOrder:[t.salesOrder,l.kI.required],customerPo:[t.customerPo,l.kI.required],customerPoDate:[t.customerPoDate,l.kI.required],requestedDeliveryDate:[t.requestedDeliveryDate,l.kI.required],companyCurrency:[t.companyCurrency,l.kI.required],transactionCurrency:[t.transactionCurrency,l.kI.required],text:[t.text,l.kI.required],exchangeRate:[t.exchangeRate,l.kI.required],modeOfTransport:[t.modeOfTransport,l.kI.required],totalNetWeight:[t.totalNetWeight,l.kI.required],totalGrossWeight:[t.totalGrossWeight,l.kI.required],totalVolume:[t.totalVolume,l.kI.required],paymentTerms:[t.paymentTerms,l.kI.required],billingBlockId:[t.billingBlockId,l.kI.required],billingBlockName:[t.billingBlockName],companyCodeId:[t.companyCodeId,l.kI.required],companyCodeName:[t.companyCodeName],customerAcctAss:[t.customerAcctAss,l.kI.required],netPrice:[t.netPrice,l.kI.required],netTax:[t.netTax,l.kI.required],netDiscount:[t.netDiscount,l.kI.required],netFreight:[t.netFreight,l.kI.required],orderStatusId:[t.orderStatusId,l.kI.required],orderStatusName:[t.orderStatusName],otherCharges:[t.otherCharges,l.kI.required],itemList:this.fb.array(t.itemList.map(r=>this.getSalesFields(r)))});const o=this.customerMasterDetail.find(r=>r.customerId===t.customerId);return console.log(o,"k"),void(this.customerCurrency=o.plantData)}this.salesFormGroup=this.fb.group({_id:["",l.kI.required],orderTypeId:["",l.kI.required],orderType:["",l.kI.required],saleOrgId:["",l.kI.required],saleOrgName:[""],distributionChannelsId:["",l.kI.required],distributionChannelsName:["",l.kI.required],divisionId:["",l.kI.required],divisionName:["",l.kI.required],customerId:["",l.kI.required],customerName:[""],customerAddress:["",l.kI.required],salesOrder:["",l.kI.required],customerPo:["",l.kI.required],customerPoDate:["",l.kI.required],requestedDeliveryDate:["",l.kI.required],companyCurrency:["",l.kI.required],transactionCurrency:["",l.kI.required],text:["",l.kI.required],exchangeRate:["",l.kI.required],modeOfTransport:["",l.kI.required],totalNetWeight:["",l.kI.required],totalGrossWeight:["",l.kI.required],totalVolume:["",l.kI.required],paymentTerms:["",l.kI.required],billingBlockId:["",l.kI.required],billingBlockName:[""],companyCodeId:["",l.kI.required],companyCodeName:[""],customerAcctAss:["",l.kI.required],netPrice:["",l.kI.required],netTax:["",l.kI.required],netDiscount:["",l.kI.required],netFreight:["",l.kI.required],orderStatusId:["",l.kI.required],orderStatusName:[""],otherCharges:["",l.kI.required],itemList:this.fb.array([this.getSalesFields()])})}getSalesFields(t){return t?(this.productDeatail.map(o=>{o.materialId===t.materialId&&(o.disable=!0)}),this.fb.group({materialId:[t.materialId],materialDescription:[t.materialDescription],ordQty:[t.ordQty],uom:[t.uom],plantId:[t.plantId],plantName:[t.plantName],storageLocationId:[t.storageLocationId],storageLocationName:[t.storageLocationName],batchSerial:[t.batchSerial],priceAmount:[t.priceAmount],priceUnitPrice:[t.priceUnitPrice],priceUnit:[t.priceUnit],priDate:[t.priDate],vol:[t.vol],priceUOM:[t.priceUOM],tax:[t.tax],perUnitTax:[t.perUnitTax],discount:[t.discount],perUnitDiscount:[t.perUnitDiscount],freight:[t.freight],perUnitFreight:[t.perUnitFreight],otherCharges:[t.otherCharges],companyCurrency:[t.companyCurrency],transactionCurrency:[t.transactionCurrency],exchangeRate:[t.exchangeRate],priceDate:[t.priceDate],netWeight:[t.netWeight],grossWeight:[t.grossWeight],volumn:[t.volumn],orderStatusId:[t.orderStatusId],orderStatusName:[t.orderStatusName],deliveryCheck:[t.deliveryCheck],openQty:[t.openQty]})):this.fb.group({materialId:[""],materialDescription:[""],ordQty:[""],uom:[""],plantId:[""],plantName:[""],storageLocationId:[""],storageLocationName:[""],batchSerial:[""],priceAmount:[""],priceUnitPrice:[""],priceUnit:[""],priDate:[""],vol:[""],priceUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],priceDate:[""],netWeight:[""],grossWeight:[""],volumn:[""],orderStatusId:[""],orderStatusName:[""],deliveryCheck:[""],openQty:[""]})}get salesOrderArray(){return this.salesFormGroup.get("itemList")}addSalesItem(){this.salesOrderArray.push(this.getSalesFields());const t=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((o,r)=>{t.at(r).patchValue({companyCurrency:this.salesFormGroup.value.companyCurrency?this.salesFormGroup.value.companyCurrency:"",transactionCurrency:this.salesFormGroup.value.transactionCurrency?this.salesFormGroup.value.transactionCurrency:"",orderStatusId:"65a6853968f1c2318e6aa61c",orderStatusName:"NON DELIVERED"})})}deleteSalesItem(t,o){"FULLY DELIVERED"!==o&&this.salesOrderArray.removeAt(t)}singleSalesDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.salesOrderSer.singleSalesOrderDetails(t.salesOrderId);"1"===o.status&&(console.log(o),t.createSalesFormFields(o.data))}catch(o){console.error(o)}})()}submitData(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0;const o=new Date,r=o.getFullYear(),s=o.getMonth()+1,a=o.getDate(),d=o.getHours(),c=o.getMinutes(),u=o.getSeconds(),p=`${r}-${s.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")} ${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,h=localStorage.getItem("userName");if(t.salesFormGroup.value.createdOn=p,t.salesFormGroup.value.createdBy=h,t.salesFormGroup.value.changedOn=p,t.salesFormGroup.value.changedBy=h,console.log(t.salesFormGroup.value),t.salesFormGroup.invalid)return;const g=yield t.salesOrderSer.updatedSalesOrderDetails(t.salesFormGroup.value);if(console.log(g),"1"===g.status)return t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/sales-order-list"]);if("0"===g.status)return void t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(console.error(o),o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getSalesDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.SalesSer.getAllSalesOrgDetails();console.log(o),"1"===o.status?t.salesData=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(t){const o=this.salesData.find(r=>r._id===t.target.value);this.salesFormGroup.controls.saleOrgName.setValue(o.salesOrg)}getDistributionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.distibutionSer.getAllDistibutionChannelDetails();"1"===o.status&&(t.distributionDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(t){const o=this.distributionDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.distributionChannelsName.setValue(o.distributionChannel)}getDivisionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.divisionSer.getAllDivionDetails();"1"===o.status&&(t.divisionDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(t){const o=this.divisionDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.divisionName.setValue(o.divion)}getCompanyCodeDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCompanyCodeDetails();console.log(o),"1"===o.status?t.companyCodeDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCountry(t){const o=this.companyCodeDetails.find(s=>s._id===t.target.value);this.salesFormGroup.controls.companyCodeName.setValue(o.companyCode),this.salesFormGroup.controls.companyCurrency.setValue(o.currencyName);const r=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((s,a)=>{r.at(a).patchValue({companyCurrency:o.currencyName?o.currencyName:""})})}getOrderStatus(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.orderStatusSer.getAllOrderStatusDetails();"1"===o.status&&(t.orderStatusDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrder(t){const o=this.orderStatusDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.orderStatusName.setValue(o.orderStatus)}getPaymentTerm(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.paymentTermSer.getAllPaymentTerm();"1"===o.status&&(t.paymentTermDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getModeOfTransport(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.modeOfTransportSer.getAllModeOfTransportDetails();"1"===o.status&&(t.motDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingBlock(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billinBlockSer.getAllBillingBlockDetails();"1"===o.status&&(t.billingBlockDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingBlock(t){const o=this.billingBlockDetail.find(r=>r._id===t.target.value);this.salesFormGroup.controls.billingBlockName.setValue(o.billingBlock)}getCustomerAcctAG(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerAcctAG.getAllCustomerAccountDetails();"1"===o.status&&(t.customerAccountAsstGroup=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllProductDetails();"1"===o.status&&(t.productDeatail=o.data,t.productDeatail.map(r=>{r.disable=!1}))}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCurrencyDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCurrencyDetails();"1"===o.status?t.currencyDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerSer.getAllCustomerDetails();console.log(o),"1"===o.status&&(t.customerMasterDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrderType(t){const o=this.orderTypeDetails.find(r=>r._id===t.target.value);this.salesFormGroup.controls.orderType.setValue(o.description)}handleCustomer(t){const o=this.customerMasterDetail.find(a=>a.customerId===t.target.value),r=o.plantData.find(a=>a.companyCode===this.salesFormGroup.value.companyCodeId);console.log(this.customerCurrency),this.salesFormGroup.controls.transactionCurrency.setValue(r.currencyName);const s=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((a,d)=>{s.at(d).patchValue({transactionCurrency:r.currencyName?r.currencyName:""})}),this.salesFormGroup.patchValue({customerAddress:o?o.address:""})}handleMaterial(t,o){const r=this.productDeatail.find(d=>d.materialId===t.target.value);console.log(r),this.productDeatail.map(d=>{d.materialId===t.target.value&&(d.disable=!0)}),this.productPlant=r?r.plantData:[],this.customerplant=r?r.salesData:[],this.salesFormGroup.get("itemList").at(o).patchValue({materialDescription:r?r.materialDescription:""})}handleCurrency(t){const o=this.companyCodeDetails.find(r=>r.currencyId===t.target.value);console.log(o,"currency ")}handlePlant(t,o,r){const s=this.productDeatail.find(u=>u.materialId===o);console.log(s);const d=this.salesFormGroup.get("itemList").at(r),c=s.salesData.find(u=>u.deliveringPlantId===t.target.value);console.log(c,"selectPlant"),d.patchValue({plantName:c?c.deliveringPlantName:""})}handleStorage(t,o,r){const s=this.productDeatail.find(u=>u.materialId===o);console.log(s);const d=this.salesFormGroup.get("itemList").at(r),c=s.plantData.find(u=>u.storageLocationId===t.target.value);console.log(c,"selectPlant"),d.patchValue({storageLocationName:c?c.storageLocationName:""}),console.log(d.value.storageLocationName)}handleOrderStatus(t,o){const r=this.orderStatusDetail.find(d=>d._id===t.target.value);this.salesFormGroup.get("itemList").at(o).patchValue({orderStatusName:r?r.orderStatus:""})}handleDeliveryDetails(t,o,r){if("FULLY DELIVERED"===r)return;const a=this.salesFormGroup.get("itemList").at(o);a.patchValue({deliveryCheck:!a.value.deliveryCheck}),this.isShowDeliveryButton=!!this.salesFormGroup.value.itemList.find(c=>!0===c.deliveryCheck)}handleDeliveryMessage(){var t=!1;const o=this.salesFormGroup.value.itemList.filter(r=>!0===r.deliveryCheck);o.map(r=>{r.plantName!==o[0].plantName&&(t=!0)}),o.length>1&&t?ee().fire({icon:"info",title:"info...",text:"Plant on selected items are different hence delivery cannot be processed"}):(this.salesFormGroup.value.itemList=o,this.salesOrderSer.passSalesDetails.next(this.salesFormGroup.value),console.log(this.salesFormGroup.value),this.router.navigate(["/sales/add-delivery-sales"]))}getOrderType(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.salesOrderSer.getOrderType();"1"===o.status&&(t.orderTypeDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}updateValue(t,o){t.target.value&&this.salesFormGroup.get("itemList").at(o).patchValue({openQty:+t.target.value})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(y.gz),e.Y36(E),e.Y36(V.T),e.Y36(O.ux),e.Y36($.P),e.Y36(H.P),e.Y36(j.X),e.Y36(Ae.$),e.Y36(W.f),e.Y36(K.z),e.Y36(Ce.P),e.Y36(X.P),e.Y36(J.v),e.Y36(k.M),e.Y36(y.F0),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-sales-order"]],decls:297,vars:101,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"mt-2"],["routerLink","/sales/sales-order-list/",1,"back"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],[1,""],["aria-label","Default select example","formControlName","orderTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["aria-label","Default select example","formControlName","saleOrgId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","distributionChannelsId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","divisionId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","companyCodeId",1,"form-select",3,"change"],["type","text","placeholder","Autofetched","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select",3,"change"],["type","text","placeholder","Enter customer Address","formControlName","customerAddress",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select"],["type","text","placeholder","Enter Sales Order","formControlName","salesOrder",1,"form-control"],["type","text","placeholder","Enter Customer PO","formControlName","customerPo",1,"form-control"],["type","date","placeholder","Enter PO Date","formControlName","customerPoDate",1,"form-control"],["type","date","placeholder","Enter Req Delivery Date","formControlName","requestedDeliveryDate",1,"form-control"],["type","text","placeholder"," Enter Text","formControlName","text",1,"form-control"],["aria-label","Default select example","formControlName","orderStatusId",1,"form-select",3,"change"],["type","text","placeholder","Enter Exchange Rate","formControlName","exchangeRate",1,"form-control"],["aria-label","Default select example","formControlName","modeOfTransport",1,"form-select"],["type","text","placeholder","Calculated Total Net Weight","formControlName","totalNetWeight",1,"form-control"],["type","text","placeholder","Calculated Total Gross Wt","formControlName","totalGrossWeight",1,"form-control"],["type","text","placeholder","Calculated Total Volume","formControlName","totalVolume",1,"form-control"],["aria-label","Default select example","formControlName","paymentTerms",1,"form-select"],["aria-label","Default select example","formControlName","billingBlockId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","customerAcctAss",1,"form-select"],["type","number","min","0","placeholder","Enter Net Price","formControlName","netPrice",1,"form-control"],["type","number","min","0","placeholder","Enter Net Tax","formControlName","netTax",1,"form-control"],["type","number","min","0","placeholder","Enter Net Discount","formControlName","netDiscount",1,"form-control"],["type","number","min","0","placeholder","enter Net Freight","formControlName","netFreight",1,"form-control"],["type","number","min","0","placeholder","Other Charges","formControlName","otherCharges",1,"form-control"],[1,"row","border","mt-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"py-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-12","d-flex","justify-content-end"],["style","position: relative; right: 10px;",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],[1,"d-flex","gap-2","d-grid"],[3,"ngStyle","click"],[1,"mt-1"],["type","checkbox",3,"ngStyle","disabled","checked","change"],["aria-label","Default select example","formControlName","materialId",1,"form-select",3,"change"],[3,"disabled","value",4,"ngFor","ngForOf"],["type","text","placeholder","Autofetched Product Description","formControlName","materialDescription",1,"form-control"],["type","number","min","0","placeholder","Oredr Qty","formControlName","ordQty",1,"form-control",3,"focusout"],["aria-label","Default select example","formControlName","uom",1,"form-select","w-100"],["aria-label","Default select example","formControlName","plantId",1,"form-select","w-100",3,"change"],[4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","storageLocationId",1,"form-select","w-100",3,"change"],["type","text","placeholder","Enter Batch","formControlName","batchSerial",1,"form-control"],["type","number","min","0","placeholder","Enter Price Amount","formControlName","priceAmount",1,"form-control"],["type","number","min","0","placeholder","Enter Per Unit Price","formControlName","priceUnitPrice",1,"form-control"],["type","number","min","0","placeholder","Pricing Unit","formControlName","priceUnit",1,"form-control"],["aria-label","Default select example","formControlName","priceUOM",1,"form-select"],["value","1"],["value","2"],["value","3"],["type","text","placeholder"," Enter Tax","formControlName","tax",1,"form-control"],["type","number","min","0","placeholder","Per Unit Tax","formControlName","perUnitTax",1,"form-control"],["type","number","min","0","placeholder","Discount","formControlName","discount",1,"form-control"],["type","number","min","0","placeholder","Per Unit Discount","formControlName","perUnitDiscount",1,"form-control"],["type","number","min","0","placeholder","Freight","formControlName","freight",1,"form-control"],["type","number","min","0","placeholder","Per Unit Freight","formControlName","perUnitFreight",1,"form-control"],["type","text","placeholder","Autofetched Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select",3,"ngStyle"],["type","text","placeholder","Exchange Rate","formControlName","exchangeRate",1,"form-control"],["type","date","placeholder","price Date","formControlName","priceDate",1,"form-control"],["type","number","min","0","placeholder","Net Weight","formControlName","netWeight",1,"form-control"],["type","number","min","0","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control"],["type","number","min","0","placeholder","Volume","formControlName","volumn",1,"form-control"],[3,"disabled","value"],[3,"ngStyle","value",4,"ngFor","ngForOf"],[3,"ngStyle","value"],[2,"position","relative","right","10px"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"h3",2)(3,"mat-icon",3),e._uU(4,"arrow_back"),e.qZA(),e._uU(5," Sales Order "),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return r.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Order Type"),e.qZA(),e.TgZ(13,"select",10),e.NdJ("change",function(a){return r.handleOrderType(a)}),e.TgZ(14,"option",11),e._uU(15,"Select Order Type "),e.qZA(),e.YNc(16,Xi,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA(),e.YNc(18,en,3,0,"div",13),e.YNc(19,tn,3,0,"div",13),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Sales Org"),e.qZA(),e.TgZ(23,"select",14),e.NdJ("change",function(a){return r.handleSales(a)}),e.TgZ(24,"option",11),e._uU(25,"Select Sales Org "),e.qZA(),e.YNc(26,rn,2,2,"option",12),e.ALo(27,"filterPipes"),e.qZA(),e.YNc(28,on,3,0,"div",13),e.YNc(29,nn,3,0,"div",13),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Distribution Channel"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("change",function(a){return r.handleDistribution(a)}),e.TgZ(34,"option",11),e._uU(35," Select Distribution Channel"),e.qZA(),e.YNc(36,sn,2,2,"option",12),e.ALo(37,"filterPipes"),e.qZA(),e.YNc(38,an,3,0,"div",13),e.YNc(39,ln,3,0,"div",13),e.qZA(),e.TgZ(40,"div",8)(41,"label",9),e._uU(42,"Division"),e.qZA(),e.TgZ(43,"select",16),e.NdJ("change",function(a){return r.handleDivision(a)}),e.TgZ(44,"option",11),e._uU(45,"Select Division "),e.qZA(),e.YNc(46,dn,2,2,"option",12),e.ALo(47,"filterPipes"),e.qZA(),e.YNc(48,cn,3,0,"div",13),e.YNc(49,un,3,0,"div",13),e.qZA(),e.TgZ(50,"div",8)(51,"label",9),e._uU(52,"Company Code"),e.qZA(),e.TgZ(53,"select",17),e.NdJ("change",function(a){return r.handleCountry(a)}),e.TgZ(54,"option",11),e._uU(55,"Select Company Code "),e.qZA(),e.YNc(56,pn,2,2,"option",12),e.ALo(57,"filterPipes"),e.qZA()(),e.TgZ(58,"div",8)(59,"label",9),e._uU(60,"Company Currency"),e.qZA(),e._UZ(61,"input",18),e.qZA(),e.TgZ(62,"div",8)(63,"label",9),e._uU(64,"Customer Id"),e.qZA(),e.TgZ(65,"select",19),e.NdJ("change",function(a){return r.handleCustomer(a)}),e.TgZ(66,"option",11),e._uU(67,"Select Customer Id "),e.qZA(),e.YNc(68,mn,2,2,"option",12),e.ALo(69,"filterPipes"),e.qZA(),e.YNc(70,hn,3,0,"div",13),e.YNc(71,gn,3,0,"div",13),e.qZA(),e.TgZ(72,"div",8)(73,"label",9),e._uU(74,"Customer Address"),e.qZA(),e._UZ(75,"input",20),e.YNc(76,fn,3,0,"div",13),e.YNc(77,_n,3,0,"div",13),e.qZA(),e.TgZ(78,"div",8)(79,"label",9),e._uU(80,"Transaction Currency"),e.qZA(),e.TgZ(81,"select",21)(82,"option",11),e._uU(83,"Select Transaction Currency"),e.qZA(),e.YNc(84,vn,2,2,"option",12),e.ALo(85,"filterPipes"),e.qZA()(),e.TgZ(86,"div",8)(87,"label"),e._uU(88,"Sales Order "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e._UZ(91,"input",22),e.YNc(92,yn,3,0,"div",13),e.YNc(93,Zn,3,0,"div",13),e.qZA(),e.TgZ(94,"div",8)(95,"label",9),e._uU(96,"Customer PO "),e.TgZ(97,"sup"),e._uU(98,"*"),e.qZA()(),e._UZ(99,"input",23),e.YNc(100,Tn,3,0,"div",13),e.YNc(101,An,3,0,"div",13),e.qZA(),e.TgZ(102,"div",8)(103,"label",9),e._uU(104,"Customer PO Date "),e.TgZ(105,"sup"),e._uU(106,"*"),e.qZA()(),e._UZ(107,"input",24),e.YNc(108,Cn,3,0,"div",13),e.YNc(109,bn,3,0,"div",13),e.qZA(),e.TgZ(110,"div",8)(111,"label",9),e._uU(112,"Req Delivery Date "),e.TgZ(113,"sup"),e._uU(114,"*"),e.qZA()(),e._UZ(115,"input",25),e.YNc(116,Sn,3,0,"div",13),e.YNc(117,qn,3,0,"div",13),e.qZA(),e.TgZ(118,"div",8)(119,"label",9),e._uU(120," Text"),e.qZA(),e._UZ(121,"input",26),e.qZA(),e.TgZ(122,"div",8)(123,"label",9),e._uU(124,"Order Status"),e.qZA(),e.TgZ(125,"select",27),e.NdJ("change",function(a){return r.handleOrder(a)}),e.TgZ(126,"option",11),e._uU(127,"Select Order Status "),e.qZA(),e.YNc(128,Dn,2,2,"option",12),e.ALo(129,"filterPipes"),e.qZA(),e.YNc(130,In,3,0,"div",13),e.YNc(131,Un,3,0,"div",13),e.qZA(),e.TgZ(132,"div",8)(133,"label",9),e._uU(134,"Exchange Rate"),e.qZA(),e._UZ(135,"input",28),e.qZA(),e.TgZ(136,"div",8)(137,"label",9),e._uU(138,"Mode of Transport"),e.qZA(),e.TgZ(139,"select",29)(140,"option",11),e._uU(141,"Select Mode of Transport"),e.qZA(),e.YNc(142,Nn,2,2,"option",12),e.ALo(143,"filterPipes"),e.qZA()(),e.TgZ(144,"div",8)(145,"label",9),e._uU(146,"Total Net Weight"),e.qZA(),e._UZ(147,"input",30),e.qZA(),e.TgZ(148,"div",8)(149,"label",9),e._uU(150,"Total Gross Wt"),e.qZA(),e._UZ(151,"input",31),e.qZA(),e.TgZ(152,"div",8)(153,"label",9),e._uU(154,"Total Volume"),e.qZA(),e._UZ(155,"input",32),e.qZA(),e.TgZ(156,"div",8)(157,"label",9),e._uU(158,"Payment Term"),e.qZA(),e.TgZ(159,"select",33)(160,"option",11),e._uU(161,"Select Payment Term "),e.qZA(),e.YNc(162,On,2,2,"option",12),e.ALo(163,"filterPipes"),e.qZA()(),e.TgZ(164,"div",8)(165,"label",9),e._uU(166,"Billing Block"),e.qZA(),e.TgZ(167,"select",34),e.NdJ("change",function(a){return r.handleBillingBlock(a)}),e.TgZ(168,"option",11),e._uU(169,"Select Billing Block "),e.qZA(),e.YNc(170,Fn,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA()(),e.TgZ(172,"div",8)(173,"label",9),e._uU(174,"Customer Account"),e.qZA(),e.TgZ(175,"select",35)(176,"option",11),e._uU(177,"Select Customer Account"),e.qZA(),e.YNc(178,Pn,2,2,"option",12),e.ALo(179,"filterPipes"),e.qZA(),e.YNc(180,Gn,3,0,"div",13),e.YNc(181,En,3,0,"div",13),e.qZA(),e.TgZ(182,"div",8)(183,"label",9),e._uU(184,"Net Price "),e.TgZ(185,"sup"),e._uU(186,"*"),e.qZA()(),e._UZ(187,"input",36),e.YNc(188,kn,3,0,"div",13),e.YNc(189,xn,3,0,"div",13),e.qZA(),e.TgZ(190,"div",8)(191,"label",9),e._uU(192,"Net Tax "),e.TgZ(193,"sup"),e._uU(194,"*"),e.qZA()(),e._UZ(195,"input",37),e.YNc(196,Bn,3,0,"div",13),e.YNc(197,Jn,3,0,"div",13),e.qZA(),e.TgZ(198,"div",8)(199,"label",9),e._uU(200,"Net Discount "),e.TgZ(201,"sup"),e._uU(202,"*"),e.qZA()(),e._UZ(203,"input",38),e.YNc(204,wn,3,0,"div",13),e.YNc(205,Qn,3,0,"div",13),e.qZA(),e.TgZ(206,"div",8)(207,"label",9),e._uU(208,"Net Freight "),e.TgZ(209,"sup"),e._uU(210,"*"),e.qZA()(),e._UZ(211,"input",39),e.YNc(212,Ln,3,0,"div",13),e.YNc(213,Yn,3,0,"div",13),e.qZA(),e.TgZ(214,"div",8)(215,"label",9),e._uU(216,"Other Charges "),e.TgZ(217,"sup"),e._uU(218,"*"),e.qZA()(),e._UZ(219,"input",40),e.YNc(220,Mn,3,0,"div",13),e.YNc(221,zn,3,0,"div",13),e.qZA()(),e.TgZ(222,"div",41)(223,"div",5)(224,"div",4)(225,"div",42)(226,"h3",43),e._uU(227," Item Data "),e.qZA()(),e.TgZ(228,"div",44)(229,"button",45),e.NdJ("click",function(){return r.addSalesItem()}),e._uU(230,"Add"),e.qZA()()(),e.TgZ(231,"div",46)(232,"table",47)(233,"thead")(234,"tr")(235,"th"),e._uU(236,"Actions"),e.qZA(),e.TgZ(237,"th"),e._uU(238,"Product Id"),e.qZA(),e.TgZ(239,"th"),e._uU(240,"Product Description"),e.qZA(),e.TgZ(241,"th"),e._uU(242,"Order Qty"),e.qZA(),e.TgZ(243,"th"),e._uU(244,"UOM"),e.qZA(),e.TgZ(245,"th"),e._uU(246,"Plant"),e.qZA(),e.TgZ(247,"th"),e._uU(248,"Storage Location"),e.qZA(),e.TgZ(249,"th"),e._uU(250,"Batch/Serial #"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"Price Amount"),e.qZA(),e.TgZ(253,"th"),e._uU(254,"Per Unit Price"),e.qZA(),e.TgZ(255,"th"),e._uU(256,"Pricing Unit"),e.qZA(),e.TgZ(257,"th"),e._uU(258,"Pricing UOM"),e.qZA(),e.TgZ(259,"th"),e._uU(260,"Tax"),e.qZA(),e.TgZ(261,"th"),e._uU(262,"Per Unit Tax"),e.qZA(),e.TgZ(263,"th"),e._uU(264,"Discount"),e.qZA(),e.TgZ(265,"th"),e._uU(266,"Per Unit Discount"),e.qZA(),e.TgZ(267,"th"),e._uU(268,"Freight"),e.qZA(),e.TgZ(269,"th"),e._uU(270,"Per Unit Freight"),e.qZA(),e.TgZ(271,"th"),e._uU(272,"Other Charges"),e.qZA(),e.TgZ(273,"th"),e._uU(274,"Company Currency"),e.qZA(),e.TgZ(275,"th"),e._uU(276,"Transaction Currency"),e.qZA(),e.TgZ(277,"th"),e._uU(278,"Exchange Rate"),e.qZA(),e.TgZ(279,"th"),e._uU(280,"Pricing Date"),e.qZA(),e.TgZ(281,"th"),e._uU(282,"Net Weight"),e.qZA(),e.TgZ(283,"th"),e._uU(284,"Gross Weight"),e.qZA(),e.TgZ(285,"th"),e._uU(286,"Volume"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"Order Status"),e.qZA()()(),e.TgZ(289,"tbody",48),e.YNc(290,ts,90,37,"tr",49),e.qZA()()()()(),e.TgZ(291,"div",50)(292,"div",51),e.YNc(293,rs,3,0,"div",52),e.TgZ(294,"div",9)(295,"button",53),e._uU(296,"Save"),e.qZA()()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(99,os,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.salesFormGroup),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.orderTypeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,63,r.orderTypeDetails,"description")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.orderTypeId.touched&&r.salesFormGroup.controls.orderTypeId.touched&&r.salesFormGroup.controls.orderTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.orderTypeId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.saleOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(27,66,r.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.saleOrgId.touched&&r.salesFormGroup.controls.saleOrgId.touched&&r.salesFormGroup.controls.saleOrgId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.saleOrgId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.distributionChannelsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,69,r.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.distributionChannelsId.touched&&r.salesFormGroup.controls.distributionChannelsId.touched&&r.salesFormGroup.controls.distributionChannelsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.distributionChannelsId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(47,72,r.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.divisionId.touched&&r.salesFormGroup.controls.divisionId.touched&&r.salesFormGroup.controls.divisionId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.divisionId.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(57,75,r.companyCodeDetails,"companyCode")),e.xp6(10),e.Q6J("selected",""===r.salesFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",e.xi3(69,78,r.customerMasterDetail,"customerId")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.customerId.touched&&r.salesFormGroup.controls.customerId.touched&&r.salesFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.salesFormGroup.controls.customerAddress.touched&&r.salesFormGroup.controls.customerAddress.touched&&r.salesFormGroup.controls.customerAddress.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerAddress.hasError("required")),e.xp6(5),e.Q6J("selected",""===r.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(85,81,r.currencyDetails,"code")),e.xp6(8),e.Q6J("ngIf",r.salesFormGroup.controls.salesOrder.touched&&r.salesFormGroup.controls.salesOrder.touched&&r.salesFormGroup.controls.salesOrder.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.salesOrder.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.customerPo.touched&&r.salesFormGroup.controls.customerPo.touched&&r.salesFormGroup.controls.customerPo.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerPo.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.customerPoDate.touched&&r.salesFormGroup.controls.customerPoDate.touched&&r.salesFormGroup.controls.customerPoDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerPoDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.requestedDeliveryDate.touched&&r.salesFormGroup.controls.requestedDeliveryDate.touched&&r.salesFormGroup.controls.requestedDeliveryDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.requestedDeliveryDate.hasError("required")),e.xp6(9),e.Q6J("selected",""===r.salesFormGroup.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(129,84,r.orderStatusDetail,"orderStatus")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.orderStatusId.touched&&r.salesFormGroup.controls.orderStatusId.touched&&r.salesFormGroup.controls.orderStatusId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.orderStatusId.hasError("required")),e.xp6(9),e.Q6J("selected",""===r.salesFormGroup.value.modeOfTransport),e.xp6(2),e.Q6J("ngForOf",e.xi3(143,87,r.motDetails,"modeOfTransport")),e.xp6(18),e.Q6J("selected",""===r.salesFormGroup.value.paymentTerms),e.xp6(2),e.Q6J("ngForOf",e.xi3(163,90,r.paymentTermDetail,"paymentTerm")),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.billingBlockId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,93,r.billingBlockDetail,"billingBlock")),e.xp6(6),e.Q6J("selected",""===r.salesFormGroup.value.customerAcctAss),e.xp6(2),e.Q6J("ngForOf",e.xi3(179,96,r.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",r.salesFormGroup.controls.customerAcctAss.touched&&r.salesFormGroup.controls.customerAcctAss.touched&&r.salesFormGroup.controls.customerAcctAss.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.customerAcctAss.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netPrice.touched&&r.salesFormGroup.controls.netPrice.touched&&r.salesFormGroup.controls.netPrice.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netPrice.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netTax.touched&&r.salesFormGroup.controls.netTax.touched&&r.salesFormGroup.controls.netTax.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netDiscount.touched&&r.salesFormGroup.controls.netDiscount.touched&&r.salesFormGroup.controls.netDiscount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.netFreight.touched&&r.salesFormGroup.controls.netFreight.touched&&r.salesFormGroup.controls.netFreight.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.salesFormGroup.controls.otherCharges.touched&&r.salesFormGroup.controls.otherCharges.touched&&r.salesFormGroup.controls.otherCharges.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.salesFormGroup.controls.otherCharges.hasError("required")),e.xp6(69),e.Q6J("ngForOf",r.salesFormGroup.get("itemList").controls),e.xp6(3),e.Q6J("ngIf",r.isShowDeliveryButton))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.qQ,l.sg,l.u,l.x0,l.CE,P.s,w],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return i})();function ns(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.code)}}function ss(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function as(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function ls(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function ds(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function cs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function us(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function ps(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function ms(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function hs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function gs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function fs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function _s(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function vs(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.code," ")}}function ys(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.description,"")}}function Zs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",36)(1,"td"),e._UZ(2,"input",14),e.qZA(),e.TgZ(3,"td")(4,"input",37),e.NdJ("input",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handleQty(r,a.value.deliveryQty,d))}),e.qZA()(),e.TgZ(5,"td"),e._UZ(6,"input",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"input",39),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"input",40),e.qZA(),e.TgZ(11,"td")(12,"select",41),e.NdJ("click",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleUOM(r,a))}),e.TgZ(13,"option",11),e._uU(14,"Select UOM"),e.qZA(),e.YNc(15,vs,2,2,"option",12),e.qZA()(),e.TgZ(16,"td")(17,"select",42)(18,"option",11),e._uU(19,"Select Storage Location"),e.qZA(),e.YNc(20,ys,2,2,"option",12),e.qZA()(),e.TgZ(21,"td"),e._UZ(22,"input",43),e.qZA(),e.TgZ(23,"td"),e._UZ(24,"input",44),e.qZA()()}if(2&i){const t=n.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(13),e.Q6J("selected",""===o.deliveryFormGroup.value.uomId),e.xp6(2),e.Q6J("ngForOf",o.uomDetail),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===o.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",o.storageLocationDetail)}}const Ts=function(i){return{"padding-left":i}};let As=(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g){this.fb=t,this.deliverySer=o,this.router=r,this._snackBar=s,this.productSer=a,this.plantDataSer=d,this.customerSer=c,this.salesOrderSer=u,this.activeRouter=p,this.idle=h,this.cd=g,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=l.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.productDetails=[],this.customerMasterDetail=[],this.deliveryTypeDetails=[],this.idleState="Not Started",this.deliveryDetails=[],this.salesOrderDetails=[],this.selectedSalesDetail="",this.deliveryId="",h.setIdle(450),h.setTimeout(900),h.setInterrupts(T.WO),h.onIdleEnd.subscribe(()=>{this.idleState="Started",g.detectChanges()}),h.onTimeout.subscribe(()=>{this.idleState="Timeout"}),h.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.deliveryId=this.activeRouter.snapshot.paramMap.get("id"),console.log(this.deliveryId),this.createDeliveryFormFields(),this.getAllUomDetail(),this.getStorageLocation(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getAllDetailsDetails(),this.setStates(),this.singleDeliveryDetails()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createDeliveryFormFields(t){this.deliveryFormGroup=this.fb.group(t?{_id:[t._id,l.kI.required],deliveryType:[t.deliveryType,l.kI.required],deliveryId:[t.deliveryId,[l.kI.required]],deliveryTypeId:[t.deliveryTypeId,l.kI.required],plantId:[t.plantId,l.kI.required],plantName:[t.plantName],deliveryDate:[t.deliveryDate,l.kI.required],customerId:[t.customerId,l.kI.required],customerName:[t.customerName],deliveryAddress:[t.deliveryAddress,l.kI.required],deliveryPartner:[t.deliveryPartner,l.kI.required],itemList:this.fb.array(t.itemList.map(o=>this.getdeliveryFields(o,t)))}:{salesOrderId:["",l.kI.required],deliveryType:["",l.kI.required],deliveryTypeId:["",l.kI.required],plantId:["",l.kI.required],plantName:["",l.kI.required],deliveryDate:["",l.kI.required],customerId:["",l.kI.required],customerName:["",l.kI.required],deliveryAddress:["",l.kI.required],deliveryPartner:["",l.kI.required],itemList:this.fb.array([this.getdeliveryFields()])})}getdeliveryFields(t,o){return this.fb.group(t?{plantId:[t.plantId],plantName:[t.plantName],deliveryItem:[t.deliveryItem],deliveryDate:[t.deliveryDate],productId:[t.productId],productName:[t.productName],deliveryQty:[t.openQty],uomId:[t.uomId],uomName:[t.uomName],storageLocationId:[t.storageLocationId],storageLocationName:[t.storageLocationName],referenceSalesOrder:[t.referenceSalesOrder],referenceSalesOrderItem:[t.referenceSalesOrderItem]}:{plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomId:[""],uomName:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(t){this.deliveryListArray.removeAt(t)}submitData(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0;const o=new Date,r=o.getFullYear(),s=o.getMonth()+1,a=o.getDate(),d=o.getHours(),c=o.getMinutes(),u=o.getSeconds(),p=`${r}-${s.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")} ${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,h=localStorage.getItem("userName");if(t.deliveryFormGroup.value.createdOn=p,t.deliveryFormGroup.value.createdBy=h,t.deliveryFormGroup.value.changedOn=p,t.deliveryFormGroup.value.changedBy=h,console.log(t.deliveryFormGroup.value),t.deliveryFormGroup.invalid)return;const g=yield t.deliverySer.updateDeliveryDetails(t.deliveryFormGroup.value);if(console.log(g),"1"===g.status)return t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/delivery-list"]);if("0"===g.status)return void t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllDetailsDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.deliverySer.getDeliveryDetails();"1"===o.status&&(t.deliveryDetails=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllUOMDetails();"1"===o.status&&(t.uomDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.plantDataSer.getAllStorageLocationsDetails();"1"===o.status&&(t.storageLocationDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllProductDetails();"1"===o.status&&(t.productDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerSer.getAllCustomerDetails();"1"===o.status&&(t.customerMasterDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleQty(t,o,r){console.log(typeof o,+o<t.target.value),t.target.value&&+o<t.target.value&&(ee().fire({icon:"info",title:"info...",text:"Please give the input less than or equal to orderQty"}),this.deliveryFormGroup.get("itemList").at(r).patchValue({deliveryItem:""}))}handleDeliveryType(t){const o=this.deliveryDetails.find(r=>r._id===t.target.value);this.deliveryFormGroup.controls.deliveryType.setValue(o.code)}handleUOM(t,o){const r=this.uomDetail.find(d=>d._id===t.target.value);this.deliveryFormGroup.get("itemList").at(o).patchValue({uomName:r?r.code:""})}singleDeliveryDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.deliverySer.singleDeliveryDetails(t.deliveryId);console.log(o),"1"===o.status&&t.createDeliveryFormFields(o.data)}catch(o){if(console.log(o),o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(Q),e.Y36(y.F0),e.Y36(O.ux),e.Y36(k.M),e.Y36(de.v),e.Y36(J.v),e.Y36(E),e.Y36(y.gz),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-delivery"]],decls:103,vars:23,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryTypeId",1,"form-select",3,"disabled","change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","formControlName","plantName","readonly","",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date","readonly","",1,"form-control"],["type","text","formControlName","customerName","placeholder","Enter Customer Id","readonly","",1,"form-control"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address","readonly","",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select",3,"disabled"],["value","1"],["value","2"],["value","3"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control",3,"input"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["type","text","formControlName","productName","readonly","",1,"form-control"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty","readonly","",1,"form-control"],["formControlName","uomId",1,"form-select",3,"click"],["formControlName","storageLocationName",1,"form-select",3,"disabled"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order","readonly","",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item","readonly","",1,"form-control"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Delivery Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(a){return r.handleDeliveryType(a)}),e.TgZ(16,"option",11),e._uU(17,"Select Delivery Type"),e.qZA(),e.YNc(18,ns,2,2,"option",12),e.qZA(),e.YNc(19,ss,3,0,"div",13),e.YNc(20,as,3,0,"div",13),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Plant"),e.TgZ(24,"sup"),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",14),e.YNc(27,ls,3,0,"div",13),e.YNc(28,ds,3,0,"div",13),e.qZA(),e.TgZ(29,"div",8)(30,"label",9),e._uU(31,"Delivery Date"),e.TgZ(32,"sup"),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",15),e.YNc(35,cs,3,0,"div",13),e.YNc(36,us,3,0,"div",13),e.qZA(),e.TgZ(37,"div",8)(38,"label",9),e._uU(39,"Customer Id "),e.TgZ(40,"sup"),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",16),e.YNc(43,ps,3,0,"div",13),e.YNc(44,ms,3,0,"div",13),e.qZA(),e.TgZ(45,"div",17)(46,"label",18),e._uU(47,"Delivery Address "),e.TgZ(48,"sup"),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",19),e.YNc(51,hs,3,0,"div",13),e.YNc(52,gs,3,0,"div",13),e.qZA(),e.TgZ(53,"div",20)(54,"label",9),e._uU(55,"Delivery Partner "),e.TgZ(56,"sup"),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"select",21)(59,"option",11),e._uU(60,"Select delivery Partner"),e.qZA(),e.TgZ(61,"option",22),e._uU(62,"One"),e.qZA(),e.TgZ(63,"option",23),e._uU(64,"Two"),e.qZA(),e.TgZ(65,"option",24),e._uU(66,"Three"),e.qZA()(),e.YNc(67,fs,3,0,"div",13),e.YNc(68,_s,3,0,"div",13),e.qZA()(),e.TgZ(69,"div",25)(70,"div",26)(71,"div",2)(72,"div",27)(73,"h3",4),e._uU(74," Item Data "),e.qZA()()(),e.TgZ(75,"div",28)(76,"table",29)(77,"thead")(78,"tr")(79,"th"),e._uU(80,"Plant"),e.qZA(),e.TgZ(81,"th"),e._uU(82,"Delivery Item"),e.qZA(),e.TgZ(83,"th"),e._uU(84,"Delivery Date"),e.qZA(),e.TgZ(85,"th"),e._uU(86,"Product Id"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Delivery QTY"),e.qZA(),e.TgZ(89,"th"),e._uU(90,"UoM"),e.qZA(),e.TgZ(91,"th"),e._uU(92,"Storage Location"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"Reference sales order #"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Reference sales order item #"),e.qZA()()(),e.TgZ(97,"tbody",30),e.YNc(98,Zs,25,6,"tr",31),e.qZA()()()()(),e.TgZ(99,"div",25)(100,"div",32)(101,"button",33),e._uU(102,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(21,Ts,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.deliveryFormGroup),e.xp6(7),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryTypeId),e.xp6(2),e.Q6J("ngForOf",r.deliveryDetails),e.xp6(1),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.plantId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(6),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(30),e.Q6J("ngForOf",r.deliveryFormGroup.get("itemList").controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,P.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return i})();function Cs(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.code)}}function bs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function Ss(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function qs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function Ds(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function Is(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Us(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Ns(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Os(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Fs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Ps(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Gs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Es(i,n){1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function ks(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.code," ")}}function xs(i,n){if(1&i&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.description,"")}}function Bs(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",36)(1,"td"),e._UZ(2,"input",14),e.qZA(),e.TgZ(3,"td")(4,"input",37),e.NdJ("input",function(r){const s=e.CHM(t),a=s.$implicit,d=s.index,c=e.oxw();return e.KtG(c.handleQty(r,a.value.deliveryQty,d))}),e.qZA()(),e.TgZ(5,"td"),e._UZ(6,"input",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"input",39),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"input",40),e.qZA(),e.TgZ(11,"td")(12,"select",41),e.NdJ("click",function(r){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.handleUOM(r,a))}),e.TgZ(13,"option",11),e._uU(14,"Select UOM"),e.qZA(),e.YNc(15,ks,2,2,"option",12),e.qZA()(),e.TgZ(16,"td")(17,"select",42)(18,"option",11),e._uU(19,"Select Storage Location"),e.qZA(),e.YNc(20,xs,2,2,"option",12),e.qZA()(),e.TgZ(21,"td"),e._UZ(22,"input",43),e.qZA(),e.TgZ(23,"td"),e._UZ(24,"input",44),e.qZA()()}if(2&i){const t=n.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(12),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===o.deliveryFormGroup.value.uomId),e.xp6(2),e.Q6J("ngForOf",o.uomDetail),e.xp6(2),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===o.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",o.storageLocationDetail)}}const Js=function(i){return{"padding-left":i}};function Qs(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.code,"")}}function Ls(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function Ys(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function Ms(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Date is mandatory"),e.qZA()())}function zs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Billing Date is mandatory"),e.qZA()())}function Rs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Reference Document is mandatory"),e.qZA()())}function Vs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Reference Document is mandatory"),e.qZA()())}function $s(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function Hs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function js(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Value is mandatory"),e.qZA()())}function Ws(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Value is mandatory"),e.qZA()())}function Ks(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function Xs(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function ea(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.code,"")}}function ta(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Currency is mandatory"),e.qZA()())}function ra(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Currency is mandatory"),e.qZA()())}function oa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function ia(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function na(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.companyCode,"")}}function sa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Company Code is mandatory"),e.qZA()())}function aa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Company Code is mandatory"),e.qZA()())}function la(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.customerAccountAG,"")}}function da(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function ca(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function ua(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function pa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function ma(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.paymentTerm," ")}}function ha(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function ga(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function fa(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.inc_terms_code),e.xp6(1),e.hij("",t.description," ")}}function _a(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function va(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function ya(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.salesOrg,"")}}function Za(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Ta(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Aa(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.distributionChannel," ")}}function Ca(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function ba(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function Sa(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.divion,"")}}function qa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Division is mandatory"),e.qZA()())}function Da(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Division is mandatory"),e.qZA()())}function Ia(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.modeOfTransport,"")}}function Ua(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function Na(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function Oa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Fa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Pa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Ga(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Ea(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function ka(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function xa(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function Ba(i,n){1&i&&(e.TgZ(0,"div")(1,"p",61),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function Ja(i,n){1&i&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function wa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"mat-icon",95),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.deleteFinancial(r))}),e._uU(2,"delete"),e.qZA()()}}function Qa(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.code," ")}}function La(i,n){if(1&i&&(e.TgZ(0,"option",60),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.code,"")}}function Ya(i,n){if(1&i&&(e.TgZ(0,"tr",62),e.YNc(1,wa,3,0,"td",13),e.TgZ(2,"td"),e._UZ(3,"input",63),e.qZA(),e.TgZ(4,"td")(5,"select",64)(6,"option",11),e._uU(7," Select UoM"),e.qZA(),e.YNc(8,Qa,2,2,"option",12),e.ALo(9,"filterPipes"),e.qZA()(),e.TgZ(10,"td"),e._UZ(11,"input",65),e.qZA(),e.TgZ(12,"td"),e._UZ(13,"input",66),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"input",67),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"input",68),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"input",69),e.qZA(),e.TgZ(20,"td"),e._UZ(21,"input",70),e.qZA(),e.TgZ(22,"td"),e._UZ(23,"input",71),e.qZA(),e.TgZ(24,"td"),e._UZ(25,"input",72),e.qZA(),e.TgZ(26,"td"),e._UZ(27,"input",73),e.qZA(),e.TgZ(28,"td"),e._UZ(29,"input",74),e.qZA(),e.TgZ(30,"td"),e._UZ(31,"input",75),e.qZA(),e.TgZ(32,"td"),e._UZ(33,"input",76),e.qZA(),e.TgZ(34,"td")(35,"select",77),e._UZ(36,"option",78),e.TgZ(37,"option",32),e._uU(38,"One"),e.qZA(),e.TgZ(39,"option",33),e._uU(40,"Two"),e.qZA(),e.TgZ(41,"option",34),e._uU(42,"Three"),e.qZA()()(),e.TgZ(43,"td"),e._UZ(44,"input",79),e.qZA(),e.TgZ(45,"td"),e._UZ(46,"input",80),e.qZA(),e.TgZ(47,"td"),e._UZ(48,"input",81),e.qZA(),e.TgZ(49,"td"),e._UZ(50,"input",82),e.qZA(),e.TgZ(51,"td"),e._UZ(52,"input",83),e.qZA(),e.TgZ(53,"td"),e._UZ(54,"input",84),e.qZA(),e.TgZ(55,"td"),e._UZ(56,"input",85),e.qZA(),e.TgZ(57,"td"),e._UZ(58,"input",86),e.qZA(),e.TgZ(59,"td")(60,"select",87)(61,"option",88),e._uU(62,"Select Transaction Currency"),e.qZA(),e.YNc(63,La,2,2,"option",12),e.ALo(64,"filterPipes"),e.qZA()(),e.TgZ(65,"td"),e._UZ(66,"input",89),e.qZA(),e.TgZ(67,"td"),e._UZ(68,"input",90),e.qZA(),e.TgZ(69,"td")(70,"select",91),e._UZ(71,"option",78),e.TgZ(72,"option",32),e._uU(73,"One"),e.qZA(),e.TgZ(74,"option",33),e._uU(75,"Two"),e.qZA(),e.TgZ(76,"option",34),e._uU(77,"Three"),e.qZA()()(),e.TgZ(78,"td")(79,"select",92),e._UZ(80,"option",78),e.TgZ(81,"option",32),e._uU(82,"One"),e.qZA(),e.TgZ(83,"option",33),e._uU(84,"Two"),e.qZA(),e.TgZ(85,"option",34),e._uU(86,"Three"),e.qZA()()(),e.TgZ(87,"td"),e._UZ(88,"input",93),e.qZA(),e.TgZ(89,"td"),e._UZ(90,"input",94),e.qZA()()),2&i){const t=n.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("ngIf",o.financialListArray.controls.length>1),e.xp6(5),e.Q6J("selected",""===o.billingFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,5,o.uomDetail,"code")),e.xp6(55),e.Q6J("ngForOf",e.xi3(64,8,o.currencyDetails,"code"))}}const Ma=function(i){return{"padding-left":i}},za=[{path:"sales-order-list",component:at},{path:"add-sales-order",component:pr},{path:"edit-sales-order/:id",component:is},{path:"add-delivery-sales",component:(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g){this.fb=t,this.deliverySer=o,this.router=r,this._snackBar=s,this.productSer=a,this.plantDataSer=d,this.customerSer=c,this.salesOrderSer=u,this._location=p,this.idle=h,this.cd=g,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=l.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.productDetails=[],this.customerMasterDetail=[],this.salesOrderDetails="",this.deliveryDetails=[],this.idleState="Not Started",h.setIdle(450),h.setTimeout(900),h.setInterrupts(T.WO),h.onIdleEnd.subscribe(()=>{this.idleState="Started",g.detectChanges()}),h.onTimeout.subscribe(()=>{this.idleState="Timeout"}),h.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.salesOrderSer.passSalesDetails.subscribe(t=>{this.salesOrderDetails=t}),0!==Object.keys(this.salesOrderDetails).length?(this.createDeliveryFormFields(),this.getAllUomDetail(),this.getStorageLocation(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getAllDetailsDetails(),this.setStates()):this.router.navigate(["/sales/sales-order-list"])}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createDeliveryFormFields(){console.log(this.salesOrderDetails,"kkk"),this.deliveryFormGroup=this.fb.group({deliveryType:["",l.kI.required],deliveryTypeId:["",l.kI.required],plantId:[this.salesOrderDetails.itemList[0].plantId,l.kI.required],plantName:[this.salesOrderDetails.itemList[0].plantName],deliveryDate:[this.salesOrderDetails.requestedDeliveryDate,l.kI.required],customerId:[this.salesOrderDetails.customerId,l.kI.required],customerName:[this.salesOrderDetails.customerName],deliveryAddress:[this.salesOrderDetails.customerAddress,l.kI.required],deliveryPartner:["",l.kI.required],itemList:this.fb.array(this.salesOrderDetails.itemList.map(t=>this.getdeliveryFields(t)))})}getdeliveryFields(t){return this.fb.group(t?{plantId:[t.plantId],plantName:[t.plantName],deliveryItem:[""],deliveryDate:[""],productId:[t.materialId],productName:[t.materialDescription],deliveryQty:[t.openQty],uomId:[""],uomName:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[this.salesOrderDetails._id],referenceSalesOrderItem:[this.salesOrderDetails.salesOrder]}:{plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomId:[""],uomName:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(t){this.deliveryListArray.removeAt(t)}submitData(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0;const o=new Date,r=o.getFullYear(),s=o.getMonth()+1,a=o.getDate(),d=o.getHours(),c=o.getMinutes(),u=o.getSeconds(),p=`${r}-${s.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")} ${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`,h=localStorage.getItem("userName");if(t.deliveryFormGroup.value.createdOn=p,t.deliveryFormGroup.value.createdBy=h,t.deliveryFormGroup.value.changedOn=p,t.deliveryFormGroup.value.changedBy=h,console.log(t.deliveryFormGroup.value),t.deliveryFormGroup.invalid)return;const g=yield t.deliverySer.createDeliveryDetails(t.deliveryFormGroup.value);if(console.log(g),"1"===g.status)return t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/delivery-list"]);if("0"===g.status)return void t._snackBar.open(g.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllDetailsDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.deliverySer.getDeliveryDetails();"1"===o.status&&(t.deliveryDetails=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllUOMDetails();"1"===o.status&&(t.uomDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.plantDataSer.getAllStorageLocationsDetails();"1"===o.status&&(t.storageLocationDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllProductDetails();"1"===o.status&&(t.productDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerSer.getAllCustomerDetails();"1"===o.status&&(t.customerMasterDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleQty(t,o,r){console.log(typeof o,+o<t.target.value),t.target.value&&+o<t.target.value&&(ee().fire({icon:"info",title:"info...",text:"Please give the input less than or equal to orderQty"}),this.deliveryFormGroup.get("itemList").at(r).patchValue({deliveryItem:""}))}handleDeliveryType(t){const o=this.deliveryDetails.find(r=>r._id===t.target.value);this.deliveryFormGroup.controls.deliveryType.setValue(o.code)}handleUOM(t,o){const r=this.uomDetail.find(d=>d._id===t.target.value);this.deliveryFormGroup.get("itemList").at(o).patchValue({uomName:r?r.code:""})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(Q),e.Y36(y.F0),e.Y36(O.ux),e.Y36(k.M),e.Y36(de.v),e.Y36(J.v),e.Y36(E),e.Y36(v.Ye),e.Y36(T.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-delivery-sales-order"]],decls:103,vars:24,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryTypeId",1,"form-select",3,"disabled","change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","formControlName","plantName","readonly","",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date","readonly","",1,"form-control"],["type","text","formControlName","customerName","placeholder","Enter Customer Id","readonly","",1,"form-control"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address","readonly","",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select",3,"disabled"],["value","1"],["value","2"],["value","3"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control",3,"input"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["type","text","formControlName","productName","readonly","",1,"form-control"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty","readonly","",1,"form-control"],["formControlName","uomId",1,"form-select",3,"disabled","click"],["formControlName","storageLocationName",1,"form-select",3,"disabled"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order","readonly","",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item","readonly","",1,"form-control"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Delivery Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(a){return r.handleDeliveryType(a)}),e.TgZ(16,"option",11),e._uU(17,"Select Delivery Type"),e.qZA(),e.YNc(18,Cs,2,2,"option",12),e.qZA(),e.YNc(19,bs,3,0,"div",13),e.YNc(20,Ss,3,0,"div",13),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Plant"),e.TgZ(24,"sup"),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",14),e.YNc(27,qs,3,0,"div",13),e.YNc(28,Ds,3,0,"div",13),e.qZA(),e.TgZ(29,"div",8)(30,"label",9),e._uU(31,"Delivery Date"),e.TgZ(32,"sup"),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",15),e.YNc(35,Is,3,0,"div",13),e.YNc(36,Us,3,0,"div",13),e.qZA(),e.TgZ(37,"div",8)(38,"label",9),e._uU(39,"Customer Id "),e.TgZ(40,"sup"),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",16),e.YNc(43,Ns,3,0,"div",13),e.YNc(44,Os,3,0,"div",13),e.qZA(),e.TgZ(45,"div",17)(46,"label",18),e._uU(47,"Delivery Address "),e.TgZ(48,"sup"),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",19),e.YNc(51,Fs,3,0,"div",13),e.YNc(52,Ps,3,0,"div",13),e.qZA(),e.TgZ(53,"div",20)(54,"label",9),e._uU(55,"Delivery Partner "),e.TgZ(56,"sup"),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"select",21)(59,"option",11),e._uU(60,"Select delivery Partner"),e.qZA(),e.TgZ(61,"option",22),e._uU(62,"One"),e.qZA(),e.TgZ(63,"option",23),e._uU(64,"Two"),e.qZA(),e.TgZ(65,"option",24),e._uU(66,"Three"),e.qZA()(),e.YNc(67,Gs,3,0,"div",13),e.YNc(68,Es,3,0,"div",13),e.qZA()(),e.TgZ(69,"div",25)(70,"div",26)(71,"div",2)(72,"div",27)(73,"h3",4),e._uU(74," Item Data "),e.qZA()()(),e.TgZ(75,"div",28)(76,"table",29)(77,"thead")(78,"tr")(79,"th"),e._uU(80,"Plant"),e.qZA(),e.TgZ(81,"th"),e._uU(82,"Delivery Item"),e.qZA(),e.TgZ(83,"th"),e._uU(84,"Delivery Date"),e.qZA(),e.TgZ(85,"th"),e._uU(86,"Product Id"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Delivery QTY"),e.qZA(),e.TgZ(89,"th"),e._uU(90,"UoM"),e.qZA(),e.TgZ(91,"th"),e._uU(92,"Storage Location"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"Reference sales order #"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Reference sales order item #"),e.qZA()()(),e.TgZ(97,"tbody",30),e.YNc(98,Bs,25,7,"tr",31),e.qZA()()()()(),e.TgZ(99,"div",25)(100,"div",32)(101,"button",33),e._uU(102,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,Js,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.deliveryFormGroup),e.xp6(7),e.Q6J("disabled",!0)("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryTypeId),e.xp6(2),e.Q6J("ngForOf",r.deliveryDetails),e.xp6(1),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.touched&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryTypeId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.touched&&r.deliveryFormGroup.controls.plantId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.plantId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.touched&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.touched&&r.deliveryFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.touched&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(6),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===r.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.touched&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(30),e.Q6J("ngForOf",r.deliveryFormGroup.get("itemList").controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,P.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return i})()},{path:"delivery-list",component:_r},{path:"add-delivery",component:Lo},{path:"edit-delivery/:id",component:As},{path:"billing-list",component:Vo},{path:"add-billing",component:Ki},{path:"edit-billing/:id",component:(()=>{class i{constructor(t,o,r,s,a,d,c,u,p,h,g,_,A,q,U,b){this.fb=t,this.idle=o,this.cd=r,this.billingSer=s,this.companyCodeSer=a,this._snackBar=d,this.customerAcctAG=c,this.paymentTermSer=u,this.incrementTermSer=p,this.distibutionSer=h,this.divisionSer=g,this.SalesSer=_,this.modeOfTransportSer=A,this.productSer=q,this.router=U,this.activeRouter=b,this.isSubmitted=!1,this.isShowPadding=!1,this.billingFormGroup=l.cw,this.countryLists="",this.idleState="Not Started",this.billingTypeList=[],this.currencyDetails=[],this.companyCodeDetails=[],this.customerAccountAsstGroup=[],this.paymentTermDetail=[],this.incrementTermsDetails=[],this.divisionDetail=[],this.distributionDetail=[],this.motDetails=[],this.salesData=[],this.uomDetail=[],this.billingId="",o.setIdle(450),o.setTimeout(900),o.setInterrupts(T.WO),o.onIdleEnd.subscribe(()=>{this.idleState="Started",r.detectChanges()}),o.onTimeout.subscribe(()=>{this.idleState="Timeout"}),o.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.billingId=this.activeRouter.snapshot.paramMap.get("id"),this.createBillingFormFields(),this.setStates(),this.getBillingType(),this.getCurrencyDetails(),this.getCompanyCodeDetail(),this.getCustomerAcctAG(),this.getPaymentTerm(),this.getIncrementTermsDetails(),this.getDivisionDetail(),this.getDistributionDetail(),this.getSalesDetail(),this.getModeOfTransport(),this.getAllUomDetail(),this.getSingleBillingDetails()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(t){this.isShowPadding=t}createBillingFormFields(t){this.billingFormGroup=this.fb.group(t?{_id:[t._id,[l.kI.required]],billingTypeId:[t.billingTypeId,l.kI.required],billingType:[t.billingType,l.kI.required],billingDate:[t.billingDate,l.kI.required],referenceDocument:[t.referenceDocument,l.kI.required],customerId:[t.customerId,l.kI.required],customerName:[t.customerName,l.kI.required],netValue:[t.netValue,l.kI.required],taxAmount:[t.taxAmount,l.kI.required],currencyId:[t.currencyId,l.kI.required],currencyName:[t.currencyName,l.kI.required],exchangeRate:[t.exchangeRate,l.kI.required],companyCodeId:[t.companyCodeId,l.kI.required],companyCode:[t.companyCode,l.kI.required],customerAsstAccountId:[t.customerAsstAccountId,l.kI.required],customerAsstAccountName:[t.customerAsstAccountName,l.kI.required],createdOn:[t.createdOn],createdBy:[t.createdBy],postingStatus:[t.postingStatus,l.kI.required],changedBy:[t.changedBy],changedOn:[t.changedOn],paymentTermsId:[t.paymentTermsId,l.kI.required],paymentTerms:[t.paymentTerms,l.kI.required],incoTermsId:[t.incoTermsId,l.kI.required],incoTerms:[t.incoTermsId,l.kI.required],salesOrgId:[t.salesOrgId,l.kI.required],salesOrgName:[t.salesOrgName,l.kI.required],distributionChannelId:[t.distributionChannelId,l.kI.required],distributionChannelName:[t.distributionChannelName,l.kI.required],divisionId:[t.divisionId,l.kI.required],divisionName:[t.divisionName,l.kI.required],modeOfTarnsportId:[t.modeOfTarnsportId,l.kI.required],modeOfTarnsportName:[t.modeOfTarnsportName,l.kI.required],netTax:[t.netTax,l.kI.required],netDiscount:[t.netDiscount,l.kI.required],netFreight:[t.netFreight,l.kI.required],otherCharges:[t.otherCharges,l.kI.required],itemList:this.fb.array(t.itemList.map(o=>this.getFinancialFields(o)))}:{billingTypeId:["",l.kI.required],billingType:["",l.kI.required],billingDate:["",l.kI.required],referenceDocument:["",l.kI.required],customerId:["",l.kI.required],customerName:["222",l.kI.required],netValue:["",l.kI.required],taxAmount:["",l.kI.required],currencyId:["",l.kI.required],currencyName:["",l.kI.required],exchangeRate:["",l.kI.required],companyCodeId:["",l.kI.required],companyCode:["",l.kI.required],customerAsstAccountId:["",l.kI.required],customerAsstAccountName:["",l.kI.required],createdOn:[""],createdBy:[""],postingStatus:["",l.kI.required],changedBy:[""],changedOn:[""],paymentTermsId:["",l.kI.required],paymentTerms:["",l.kI.required],incoTermsId:["",l.kI.required],incoTerms:["",l.kI.required],salesOrgId:["",l.kI.required],salesOrgName:["",l.kI.required],distributionChannelId:["",l.kI.required],distributionChannelName:["",l.kI.required],divisionId:["",l.kI.required],divisionName:["",l.kI.required],modeOfTarnsportId:["",l.kI.required],modeOfTarnsportName:["",l.kI.required],netTax:["",l.kI.required],netDiscount:["",l.kI.required],netFreight:["",l.kI.required],otherCharges:["",l.kI.required],itemList:this.fb.array([this.getFinancialFields()])})}getFinancialFields(t){return this.fb.group(t?{billedQTY:[t.billedQTY],uom:[t.uom],grossWeight:[t.grossWeight],netWeight:[t.netWeight],grossUOM:[t.grossUOM],salesOrder:[t.salesOrder],salesOrderItem:[t.salesOrderItem],referenceDocument:[t.referenceDocument],referenceDocumentItem:[t.referenceDocumentItem],priceDate:[t.priceDate],serviceRenderedDate:[t.serviceRenderedDate],priceAmount:[t.priceAmount],perUnitPrice:[t.perUnitPrice],pricingUnit:[t.pricingUnit],pricingUOM:[t.pricingUOM],tax:[t.tax],perUnitTax:[t.perUnitTax],discount:[t.discount],perUnitDiscount:[t.perUnitDiscount],freight:[t.freight],perUnitFreight:[t.perUnitFreight],otherCharges:[t.otherCharges],companyCurrency:[t.companyCurrency],transactionCurrency:[t.transactionCurrency],exchangeRate:[t.exchangeRate],hsnCode:[t.hsnCode],countryOrigin:[t.countryOrigin],destinationCountry:[t.destinationCountry],poNumber:[t.poNumber],poDate:[t.poDate]}:{billedQTY:[""],uom:[""],grossWeight:[""],netWeight:[""],grossUOM:[""],salesOrder:[""],salesOrderItem:[""],referenceDocument:[""],referenceDocumentItem:[""],priceDate:[""],serviceRenderedDate:[""],priceAmount:[""],perUnitPrice:[""],pricingUnit:[""],pricingUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],hsnCode:[""],countryOrigin:[""],destinationCountry:[""],poNumber:[""],poDate:[""]})}get financialListArray(){return this.billingFormGroup.get("itemList")}addFinancial(){this.financialListArray.push(this.getFinancialFields());const t=this.billingFormGroup.get("itemList");this.billingFormGroup.value.itemList.map((o,r)=>{t.at(r).patchValue({companyCurrency:this.billingFormGroup.value.itemList[0].companyCurrency})})}deleteFinancial(t){this.financialListArray.removeAt(t)}updateBillingDetails(){var t=this;return(0,m.Z)(function*(){try{t.isSubmitted=!0,localStorage.getItem("userName");const r=new Date,s=r.getFullYear(),a=r.getMonth()+1,d=r.getDate(),c=r.getHours(),u=r.getMinutes(),p=r.getSeconds(),h=`${s}-${a.toString().padStart(2,"0")}-${d.toString().padStart(2,"0")} ${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`,g=localStorage.getItem("userName");if(t.billingFormGroup.value.changedOn=h,t.billingFormGroup.value.changedBy=g,console.log(t.billingFormGroup.value,t.billingFormGroup.invalid),t.billingFormGroup.invalid)return;const _=yield t.billingSer.updatedbillingDetails(t.billingFormGroup.value);if(console.log(_),"1"===_.status)return t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void t.router.navigate(["/sales/billing-list"]);if("0"===_.status)return void t._snackBar.open(_.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(console.error(o),o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingType(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billingSer.getBillingTypeDetails();"1"===o.status?t.billingTypeList=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingType(t){if(t.target.value){const o=this.billingTypeList.find(r=>r._id===t.target.value);this.billingFormGroup.controls.billingType.setValue(o.code)}}getCurrencyDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCurrencyDetails();"1"===o.status?t.currencyDetails=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCurrency(t){if(t.target.value){const o=this.currencyDetails.find(r=>r._id===t.target.value);this.billingFormGroup.controls.currencyName.setValue(o.code)}}getCompanyCodeDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.companyCodeSer.getAllCompanyCodeDetails();console.log(o,"company data"),"1"===o.status?t.companyCodeDetails=o.data:t._snackBar.open(o.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCompanyCode(t){if(t.target.value){const o=this.companyCodeDetails.find(s=>s._id===t.target.value);this.billingFormGroup.controls.companyCode.setValue(o.companyCode);const r=this.billingFormGroup.get("itemList");this.billingFormGroup.value.itemList.map((s,a)=>{r.at(a).patchValue({companyCurrency:o.currencyName?o.currencyName:""})})}}getCustomerAcctAG(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.customerAcctAG.getAllCustomerAccountDetails();"1"===o.status&&(t.customerAccountAsstGroup=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCustomerAcctAssign(t){if(t.target.value){const o=this.customerAccountAsstGroup.find(r=>r._id===t.target.value);this.billingFormGroup.controls.customerAsstAccountName.setValue(o.customerAccountAG)}}getPaymentTerm(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.paymentTermSer.getAllPaymentTerm();"1"===o.status&&(t.paymentTermDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handlePaymentTerms(t){if(t.target.value){const o=this.paymentTermDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.paymentTerms.setValue(o.paymentTerm)}}getIncrementTermsDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.incrementTermSer.getAllIncTermsDetails();"1"===o.status&&(t.incrementTermsDetails=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleIncrementTerms(t){if(t.target.value){const o=this.incrementTermsDetails.find(r=>r.inc_terms_code===+t.target.value);this.billingFormGroup.controls.incoTerms.setValue(o.description)}}getDistributionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.distibutionSer.getAllDistibutionChannelDetails();"1"===o.status&&(t.distributionDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(t){const o=this.distributionDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.distributionChannelName.setValue(o.distributionChannel)}getDivisionDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.divisionSer.getAllDivionDetails();"1"===o.status&&(t.divisionDetail=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(t){const o=this.divisionDetail.find(r=>r._id===t.target.value);this.billingFormGroup.controls.divisionName.setValue(o.divion)}getModeOfTransport(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.modeOfTransportSer.getAllModeOfTransportDetails();"1"===o.status&&(t.motDetails=o.data)}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handlemodeofTransport(t){if(t.target.value){const o=this.motDetails.find(r=>r._id===t.target.value);this.billingFormGroup.controls.modeOfTarnsportName.setValue(o.modeOfTransport)}}getSalesDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.SalesSer.getAllSalesOrgDetails();console.log(o),"1"===o.status?t.salesData=o.data:t._snackBar.open(o.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(o){o.error.message&&t._snackBar.open(o.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),t._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(t){if(t.target.value){const o=this.salesData.find(r=>r._id===t.target.value);this.billingFormGroup.controls.salesOrgName.setValue(o.salesOrg)}}getAllUomDetail(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.productSer.getAllUOMDetails();"1"===o.status&&(t.uomDetail=o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getSingleBillingDetails(){var t=this;return(0,m.Z)(function*(){try{const o=yield t.billingSer.singlebillingDetails(t.billingId);"1"===o.status&&t.createBillingFormFields(o.data)}catch(o){if(o.error.message)return void t._snackBar.open(o.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(T.hX),e.Y36(e.sBO),e.Y36(se),e.Y36(j.X),e.Y36(O.ux),e.Y36(X.P),e.Y36(W.f),e.Y36(Ke.y),e.Y36($.P),e.Y36(H.P),e.Y36(V.T),e.Y36(K.z),e.Y36(k.M),e.Y36(y.F0),e.Y36(y.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-billing"]],decls:298,vars:100,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/billing-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],["for",""],["formControlName","billingTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","BillingDate"],["type","date","formControlName","billingDate",1,"form-control"],["for","ReferenceDoc"],["type","text","formControlName","referenceDocument","placeholder","Enter Reference Document",1,"form-control"],["for","CustomerId"],["type","text","formControlName","customerId","placeholder","Enter Customer Id",1,"form-control"],["for","NetValue"],["type","number","formControlName","netValue","placeholder","Enter Net Value",1,"form-control"],[1,"col-6","py-2","mb-2"],["for","TaxAmount"],["type","number","formControlName","taxAmount","placeholder","Enter Tax Amount",1,"form-control"],["formControlName","currencyId",1,"form-select",3,"change"],["for","ExchaneRate"],["type","number","formControlName","exchangeRate","placeholder","Exchange Rate",1,"form-control"],["for","Company"],["formControlName","companyCodeId",1,"form-select",3,"change"],["formControlName","customerAsstAccountId",1,"form-select",3,"change"],["formControlName","postingStatus",1,"form-select"],["value","1"],["value","2"],["value","3"],["formControlName","paymentTermsId",1,"form-select",3,"change"],["formControlName","incoTermsId",1,"form-select",3,"change"],["formControlName","salesOrgId",1,"form-select",3,"change"],["formControlName","distributionChannelId",1,"form-select",3,"change"],["formControlName","divisionId",1,"form-select",3,"change"],["formControlName","modeOfTarnsportId",1,"form-select",3,"change"],["for","NetTax"],["type","number","formControlName","netTax","placeholder","Net Tax",1,"form-control"],["for","NetDiscount"],["type","number","formControlName","netDiscount","placeholder","Net Discount",1,"form-control"],["for","netFreight"],["type","number","formControlName","netFreight","placeholder","Net Freight",1,"form-control"],["for","OtherCharge"],["type","number","formControlName","otherCharges","placeholder","Other Charge",1,"form-control"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","formControlName","billedQTY","placeholder","enter Build Qty",1,"form-control"],["formControlName","uom",1,"form-select"],["type","number","formControlName","netWeight","placeholder","enter net weight",1,"form-control"],["type","text","formControlName","grossWeight","placeholder","enter gross weight.",1,"form-control"],["type","text","formControlName","grossUOM","placeholder","enter gross UOM.",1,"form-control"],["type","text","formControlName","salesOrder","placeholder","enter sales order.",1,"form-control"],["type","text","formControlName","salesOrderItem","placeholder","enter sales item",1,"form-control"],["type","text","formControlName","referenceDocument","placeholder","enter reference document",1,"form-control"],["type","text","formControlName","referenceDocumentItem","placeholder","enter reference document Item",1,"form-control"],["type","date","formControlName","priceDate",1,"form-control"],["type","date","formControlName","serviceRenderedDate",1,"form-control"],["type","number","formControlName","priceAmount","placeholder","enter price Amount",1,"form-control"],["type","number","formControlName","perUnitPrice",1,"form-control"],["type","number","formControlName","pricingUnit",1,"form-control"],["formControlName","pricingUOM",1,"form-select"],["selected",""],["type","number","formControlName","tax",1,"form-control"],["type","number","formControlName","perUnitTax",1,"form-control"],["type","number","formControlName","discount",1,"form-control"],["type","number","formControlName","perUnitDiscount",1,"form-control"],["type","number","formControlName","freight",1,"form-control"],["type","number","formControlName","perUnitFreight",1,"form-control"],["type","number","formControlName","otherCharges",1,"form-control"],["type","text","placeholder","Auto Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select"],["selected","","value","","hidden",""],["type","number","formControlName","exchangeRate",1,"form-control"],["type","text","formControlName","hsnCode",1,"form-control"],["formControlName","countryOrigin",1,"form-select"],["formControlName","destinationCountry",1,"form-select"],["type","text","formControlName","poNumber",1,"form-control"],["type","date","formControlName","poDate",1,"form-control"],[2,"cursor","pointer",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(a){return r.handleSideBar(a)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Billing Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.updateBillingDetails()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Billing Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10),e.NdJ("change",function(a){return r.handleBillingType(a)}),e.TgZ(16,"option",11),e._uU(17,"Select Billing Type"),e.qZA(),e.YNc(18,Qs,2,2,"option",12),e.ALo(19,"filterPipes"),e.qZA(),e.YNc(20,Ls,3,0,"div",13),e.YNc(21,Ys,3,0,"div",13),e.qZA(),e.TgZ(22,"div",8)(23,"label",14),e._uU(24,"Billing Date"),e.qZA(),e._UZ(25,"input",15),e.YNc(26,Ms,3,0,"div",13),e.YNc(27,zs,3,0,"div",13),e.qZA(),e.TgZ(28,"div",8)(29,"label",16),e._uU(30,"Reference Doc"),e.qZA(),e._UZ(31,"input",17),e.YNc(32,Rs,3,0,"div",13),e.YNc(33,Vs,3,0,"div",13),e.qZA(),e.TgZ(34,"div",8)(35,"label",18),e._uU(36,"Customer Id "),e.TgZ(37,"sup"),e._uU(38,"*"),e.qZA()(),e._UZ(39,"input",19),e.YNc(40,$s,3,0,"div",13),e.YNc(41,Hs,3,0,"div",13),e.qZA(),e.TgZ(42,"div",8)(43,"label",20),e._uU(44,"Net Value"),e.qZA(),e._UZ(45,"input",21),e.YNc(46,js,3,0,"div",13),e.YNc(47,Ws,3,0,"div",13),e.qZA(),e.TgZ(48,"div",22)(49,"label",23),e._uU(50,"Tax Amount"),e.qZA(),e._UZ(51,"input",24),e.YNc(52,Ks,3,0,"div",13),e.YNc(53,Xs,3,0,"div",13),e.qZA(),e.TgZ(54,"div",22)(55,"label",9),e._uU(56,"Currency "),e.TgZ(57,"sup"),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"select",25),e.NdJ("change",function(a){return r.handleCurrency(a)}),e.TgZ(60,"option",11),e._uU(61,"Select Currency "),e.qZA(),e.YNc(62,ea,2,2,"option",12),e.ALo(63,"filterPipes"),e.qZA(),e.YNc(64,ta,3,0,"div",13),e.YNc(65,ra,3,0,"div",13),e.qZA(),e.TgZ(66,"div",8)(67,"label",26),e._uU(68,"Exchange Rate "),e.TgZ(69,"sup"),e._uU(70,"*"),e.qZA()(),e._UZ(71,"input",27),e.YNc(72,oa,3,0,"div",13),e.YNc(73,ia,3,0,"div",13),e.qZA(),e.TgZ(74,"div",22)(75,"label",28),e._uU(76,"Company Code "),e.TgZ(77,"sup"),e._uU(78,"*"),e.qZA()(),e.TgZ(79,"select",29),e.NdJ("change",function(a){return r.handleCompanyCode(a)}),e.TgZ(80,"option",11),e._uU(81,"Select Company Code"),e.qZA(),e.YNc(82,na,2,2,"option",12),e.ALo(83,"filterPipes"),e.qZA(),e.YNc(84,sa,3,0,"div",13),e.YNc(85,aa,3,0,"div",13),e.qZA(),e.TgZ(86,"div",22)(87,"label",9),e._uU(88,"Customer Account AG "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e.TgZ(91,"select",30),e.NdJ("change",function(a){return r.handleCustomerAcctAssign(a)}),e.TgZ(92,"option",11),e._uU(93," Enter Customer Account AG"),e.qZA(),e.YNc(94,la,2,2,"option",12),e.ALo(95,"filterPipes"),e.qZA(),e.YNc(96,da,3,0,"div",13),e.YNc(97,ca,3,0,"div",13),e.qZA(),e.TgZ(98,"div",22)(99,"label",9),e._uU(100,"Posting Status "),e.TgZ(101,"sup"),e._uU(102,"*"),e.qZA()(),e.TgZ(103,"select",31)(104,"option",11),e._uU(105,"Enter Posting Status"),e.qZA(),e.TgZ(106,"option",32),e._uU(107,"One"),e.qZA(),e.TgZ(108,"option",33),e._uU(109,"Two"),e.qZA(),e.TgZ(110,"option",34),e._uU(111,"Three"),e.qZA()(),e.YNc(112,ua,3,0,"div",13),e.YNc(113,pa,3,0,"div",13),e.qZA(),e.TgZ(114,"div",22)(115,"label",9),e._uU(116,"Payment Terms "),e.TgZ(117,"sup"),e._uU(118,"*"),e.qZA()(),e.TgZ(119,"select",35),e.NdJ("change",function(a){return r.handlePaymentTerms(a)}),e.TgZ(120,"option",11),e._uU(121,"Select Payment Term"),e.qZA(),e.YNc(122,ma,2,2,"option",12),e.ALo(123,"filterPipes"),e.qZA(),e.YNc(124,ha,3,0,"div",13),e.YNc(125,ga,3,0,"div",13),e.qZA(),e.TgZ(126,"div",22)(127,"label",9),e._uU(128,"Inco Terms "),e.TgZ(129,"sup"),e._uU(130,"*"),e.qZA()(),e.TgZ(131,"select",36),e.NdJ("change",function(a){return r.handleIncrementTerms(a)}),e.TgZ(132,"option",11),e._uU(133,"Select Inco Term"),e.qZA(),e.YNc(134,fa,2,2,"option",12),e.ALo(135,"filterPipes"),e.qZA(),e.YNc(136,_a,3,0,"div",13),e.YNc(137,va,3,0,"div",13),e.qZA(),e.TgZ(138,"div",22)(139,"label",9),e._uU(140,"Sales Org "),e.TgZ(141,"sup"),e._uU(142,"*"),e.qZA()(),e.TgZ(143,"select",37),e.NdJ("change",function(a){return r.handleSales(a)}),e.TgZ(144,"option",11),e._uU(145,"Select Sales Org "),e.qZA(),e.YNc(146,ya,2,2,"option",12),e.ALo(147,"filterPipes"),e.qZA(),e.YNc(148,Za,3,0,"div",13),e.YNc(149,Ta,3,0,"div",13),e.qZA(),e.TgZ(150,"div",22)(151,"label",9),e._uU(152,"Distribution Channel "),e.TgZ(153,"sup"),e._uU(154,"*"),e.qZA()(),e.TgZ(155,"select",38),e.NdJ("change",function(a){return r.handleDistribution(a)}),e.TgZ(156,"option",11),e._uU(157," Select Distribution Channel "),e.qZA(),e.YNc(158,Aa,2,2,"option",12),e.ALo(159,"filterPipes"),e.qZA(),e.YNc(160,Ca,3,0,"div",13),e.YNc(161,ba,3,0,"div",13),e.qZA(),e.TgZ(162,"div",22)(163,"label",9),e._uU(164,"Division "),e.TgZ(165,"sup"),e._uU(166,"*"),e.qZA()(),e.TgZ(167,"select",39),e.NdJ("change",function(a){return r.handleDivision(a)}),e.TgZ(168,"option",11),e._uU(169,"Select Division "),e.qZA(),e.YNc(170,Sa,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA(),e.YNc(172,qa,3,0,"div",13),e.YNc(173,Da,3,0,"div",13),e.qZA(),e.TgZ(174,"div",22)(175,"label",9),e._uU(176,"Mode Of Transport "),e.TgZ(177,"sup"),e._uU(178,"*"),e.qZA()(),e.TgZ(179,"select",40),e.NdJ("change",function(a){return r.handlemodeofTransport(a)}),e.TgZ(180,"option",11),e._uU(181,"Select Mode Of Transport"),e.qZA(),e.YNc(182,Ia,2,2,"option",12),e.ALo(183,"filterPipes"),e.qZA(),e.YNc(184,Ua,3,0,"div",13),e.YNc(185,Na,3,0,"div",13),e.qZA(),e.TgZ(186,"div",22)(187,"label",41),e._uU(188,"Net Tax "),e.TgZ(189,"sup"),e._uU(190,"*"),e.qZA()(),e._UZ(191,"input",42),e.YNc(192,Oa,3,0,"div",13),e.YNc(193,Fa,3,0,"div",13),e.qZA(),e.TgZ(194,"div",22)(195,"label",43),e._uU(196,"Net Discount "),e.TgZ(197,"sup"),e._uU(198,"*"),e.qZA()(),e._UZ(199,"input",44),e.YNc(200,Pa,3,0,"div",13),e.YNc(201,Ga,3,0,"div",13),e.qZA(),e.TgZ(202,"div",22)(203,"label",45),e._uU(204,"Net Freight "),e.TgZ(205,"sup"),e._uU(206,"*"),e.qZA()(),e._UZ(207,"input",46),e.YNc(208,Ea,3,0,"div",13),e.YNc(209,ka,3,0,"div",13),e.qZA(),e.TgZ(210,"div",22)(211,"label",47),e._uU(212,"Other Charges "),e.TgZ(213,"sup"),e._uU(214,"*"),e.qZA()(),e._UZ(215,"input",48),e.YNc(216,xa,3,0,"div",13),e.YNc(217,Ba,3,0,"div",13),e.qZA()(),e.TgZ(218,"div",49)(219,"div",50)(220,"div",2)(221,"div",51)(222,"h3",4),e._uU(223," Item Data "),e.qZA()(),e.TgZ(224,"div",52)(225,"button",53),e.NdJ("click",function(){return r.addFinancial()}),e._uU(226,"Add"),e.qZA()()(),e.TgZ(227,"div",54)(228,"table",55)(229,"thead")(230,"tr"),e.YNc(231,Ja,2,0,"th",13),e.TgZ(232,"th"),e._uU(233,"Billed Qty"),e.qZA(),e.TgZ(234,"th"),e._uU(235,"UOM"),e.qZA(),e.TgZ(236,"th"),e._uU(237,"Net Weight"),e.qZA(),e.TgZ(238,"th"),e._uU(239,"Gross Weight"),e.qZA(),e.TgZ(240,"th"),e._uU(241,"Gross UOM"),e.qZA(),e.TgZ(242,"th"),e._uU(243,"Sales Order"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Sales Order Item"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Reference Doc"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Reference Doc Item"),e.qZA(),e.TgZ(250,"th"),e._uU(251,"Pricing Date"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Service rendered date"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Price Amount"),e.qZA(),e.TgZ(256,"th"),e._uU(257,"Per unit Price"),e.qZA(),e.TgZ(258,"th"),e._uU(259,"Pricing unit"),e.qZA(),e.TgZ(260,"th"),e._uU(261,"Pricing UoM"),e.qZA(),e.TgZ(262,"th"),e._uU(263,"Tax"),e.qZA(),e.TgZ(264,"th"),e._uU(265,"Per Unit Tax"),e.qZA(),e.TgZ(266,"th"),e._uU(267,"Discount"),e.qZA(),e.TgZ(268,"th"),e._uU(269,"Per Unit Discount"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"Freight"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Per Unit Freight"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Other Charges"),e.qZA(),e.TgZ(276,"th"),e._uU(277,"Company Currency"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Transaction Currency"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Exchange Rate"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"HSN Code"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Country Of Origin"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Destination Country"),e.qZA(),e.TgZ(288,"th"),e._uU(289,"PO Number"),e.qZA(),e.TgZ(290,"th"),e._uU(291,"PO Date"),e.qZA()()(),e.TgZ(292,"tbody",56),e.YNc(293,Ya,91,11,"tr",57),e.qZA()()()()(),e.TgZ(294,"div",49)(295,"div",58)(296,"button",59),e._uU(297,"Save"),e.qZA()()()()()()()),2&o&&(e.Q6J("logoutAction",r.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(98,Ma,r.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",r.billingFormGroup),e.xp6(8),e.Q6J("selected",""===r.billingFormGroup.value.billingTypeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(19,68,r.billingTypeList,"code")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.billingTypeId.touched&&r.billingFormGroup.controls.billingTypeId.touched&&r.billingFormGroup.controls.billingTypeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.billingTypeId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.billingDate.touched&&r.billingFormGroup.controls.billingDate.touched&&r.billingFormGroup.controls.billingDate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.billingDate.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.referenceDocument.touched&&r.billingFormGroup.controls.referenceDocument.touched&&r.billingFormGroup.controls.referenceDocument.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.referenceDocument.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.customerId.touched&&r.billingFormGroup.controls.customerId.touched&&r.billingFormGroup.controls.customerId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.netValue.touched&&r.billingFormGroup.controls.netValue.touched&&r.billingFormGroup.controls.netValue.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netValue.hasError("required")),e.xp6(5),e.Q6J("ngIf",r.billingFormGroup.controls.taxAmount.touched&&r.billingFormGroup.controls.taxAmount.touched&&r.billingFormGroup.controls.taxAmount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.taxAmount.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.currencyId),e.xp6(2),e.Q6J("ngForOf",e.xi3(63,71,r.currencyDetails,"code")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.currencyId.touched&&r.billingFormGroup.controls.currencyId.touched&&r.billingFormGroup.controls.currencyId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.currencyId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.exchangeRate.touched&&r.billingFormGroup.controls.exchangeRate.touched&&r.billingFormGroup.controls.exchangeRate.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.exchangeRate.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(83,74,r.companyCodeDetails,"companyCode")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.companyCodeId.touched&&r.billingFormGroup.controls.companyCodeId.touched&&r.billingFormGroup.controls.companyCodeId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.companyCodeId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.customerAsstAccountId),e.xp6(2),e.Q6J("ngForOf",e.xi3(95,77,r.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.customerAsstAccountId.touched&&r.billingFormGroup.controls.customerAsstAccountId.touched&&r.billingFormGroup.controls.customerAsstAccountId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.customerAsstAccountId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.postingStatus),e.xp6(8),e.Q6J("ngIf",r.billingFormGroup.controls.postingStatus.touched&&r.billingFormGroup.controls.postingStatus.touched&&r.billingFormGroup.controls.postingStatus.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.postingStatus.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.paymentTermsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(123,80,r.paymentTermDetail,"paymentTerm")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.paymentTermsId.touched&&r.billingFormGroup.controls.paymentTermsId.touched&&r.billingFormGroup.controls.paymentTermsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.paymentTermsId.hasError("required")),e.xp6(7),e.Q6J("selected",""==r.billingFormGroup.value.incoTermsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(135,83,r.incrementTermsDetails,"description")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.incoTermsId.touched&&r.billingFormGroup.controls.incoTermsId.touched&&r.billingFormGroup.controls.incoTermsId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.incoTermsId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.salesOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(147,86,r.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.salesOrgId.touched&&r.billingFormGroup.controls.salesOrgId.touched&&r.billingFormGroup.controls.salesOrgId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.salesOrgId.hasError("required")),e.xp6(7),e.Q6J("selected",""==r.billingFormGroup.value.distributionChannelId),e.xp6(2),e.Q6J("ngForOf",e.xi3(159,89,r.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.distributionChannelId.touched&&r.billingFormGroup.controls.distributionChannelId.touched&&r.billingFormGroup.controls.distributionChannelId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.distributionChannelId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,92,r.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.divisionId.touched&&r.billingFormGroup.controls.divisionId.touched&&r.billingFormGroup.controls.divisionId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.divisionId.hasError("required")),e.xp6(7),e.Q6J("selected",""===r.billingFormGroup.value.modeOfTarnsportId),e.xp6(2),e.Q6J("ngForOf",e.xi3(183,95,r.motDetails,"modeOfTransport")),e.xp6(2),e.Q6J("ngIf",r.billingFormGroup.controls.modeOfTarnsportId.touched&&r.billingFormGroup.controls.modeOfTarnsportId.touched&&r.billingFormGroup.controls.modeOfTarnsportId.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.modeOfTarnsportId.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netTax.touched&&r.billingFormGroup.controls.netTax.touched&&r.billingFormGroup.controls.netTax.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netDiscount.touched&&r.billingFormGroup.controls.netDiscount.touched&&r.billingFormGroup.controls.netDiscount.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.netFreight.touched&&r.billingFormGroup.controls.netFreight.touched&&r.billingFormGroup.controls.netFreight.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",r.billingFormGroup.controls.otherCharges.touched&&r.billingFormGroup.controls.otherCharges.touched&&r.billingFormGroup.controls.otherCharges.hasError("required")&&!r.isSubmitted),e.xp6(1),e.Q6J("ngIf",r.isSubmitted&&r.billingFormGroup.controls.otherCharges.hasError("required")),e.xp6(14),e.Q6J("ngIf",r.financialListArray.controls.length>1),e.xp6(62),e.Q6J("ngForOf",r.financialListArray.controls))},dependencies:[v.sg,v.O5,v.PC,y.rH,N.Hw,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,l.CE,P.s,w],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return i})()}];let Ra=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#r=this.\u0275inj=e.cJS({imports:[y.Bz.forChild(za),y.Bz]})}return i})();var Va=f(2599),$a=f(6385),Ha=f(4104),ja=f(8524),Wa=f(6497),Ka=f(3026);let Xa=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#r=this.\u0275inj=e.cJS({providers:[E,Q,se],imports:[v.ez,Ra,Va.rP,R.ot,N.Ps,$a.t,F.Tx,Ha.Nh,l.UX,ja.m,l.u5,le.u3.forRoot(),Wa.h,Ka.IJ,bo.forRoot()]})}return i})()}}]);