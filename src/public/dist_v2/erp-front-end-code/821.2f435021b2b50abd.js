"use strict";(self.webpackChunkERP_FrontEnd_code=self.webpackChunkERP_FrontEnd_code||[]).push([[821],{1821:(Ji,E,m)=>{m.r(E),m.d(E,{SalesModule:()=>ki});var g=m(6814),h=m(3573),u=m(5861),f=m(8171),e=m(5879),re=m(5619),v=m(1486),Q=m(9862);let D=(()=>{class o{constructor(r){this.http=r,this.passSalesDetails=new re.X({})}createSalesOrder(r){return this.http.post("http://54.151.187.67:4000/api/sales/salesOrder/create",r).toPromise()}getAllSalesOrderDetails(){return this.http.get("http://54.151.187.67:4000/api/sales/salesOrder/getAll").toPromise()}getAllSalesOrderDetailsPage(r,i){return this.http.get("http://54.151.187.67:4000/api/sales/salesOrder/getAll/").toPromise()}singleSalesOrderDetails(r){return this.http.get(`http://54.151.187.67:4000/api/sales/salesOrder/get/${r}`).toPromise()}updatedSalesOrderDetails(r){return this.http.put(`http://54.151.187.67:4000/api/sales/salesOrder/update/${r._id}`,r).toPromise()}updateSalesOrderMany(r){return this.http.put("http://54.151.187.67:4000/api/sales/salesOrder/update",r).toPromise()}exportToExcel(r,i,t){const s=[];console.log(s),r.map(c=>{console.log(c),c.itemList.map(_=>{_.orderType=c.orderType,s.push(_)})}),r.map(c=>{delete c.isLock,delete c.isActive,delete c.__v,delete c.check,delete c.itemList,delete c.saleOrgId});const l=v.P6.book_new(),d=v.P6.json_to_sheet(r);v.P6.book_append_sheet(l,d,"sales_order");const p=v.P6.json_to_sheet(s);v.P6.book_append_sheet(l,p,"ItemData"),v.NC(l,`${i}.xlsx`)}getOrderType(){return this.http.get("http://54.151.187.67:4000/api/config/orderType/getAll").toPromise()}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(Q.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var S=m(2939),F=m(2296),y=m(617),T=m(6311),a=m(6223),q=m(5409),O=m(7012);function oe(o,n){1&o&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",28),e._uU(3,"No Records"),e.qZA()()())}function ie(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div",29)(15,"div")(16,"mat-icon",30),e._uU(17,"edit"),e.qZA()(),e.TgZ(18,"div")(19,"mat-icon",31),e.NdJ("click",function(){const s=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.deleteRecords(s))}),e._uU(20,"delete"),e.qZA()()()(),e.TgZ(21,"td",30)(22,"mat-icon",32),e._uU(23,"add"),e.qZA(),e.TgZ(24,"span",33),e._uU(25,"Delivery"),e.qZA()(),e.TgZ(26,"td")(27,"input",34),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.particularcheck(t,l))}),e.qZA()()()}if(2&o){const r=n.$implicit,i=n.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(r.orderType),e.xp6(2),e.Oqu(r.saleOrgName),e.xp6(2),e.Oqu(r.distributionChannelsName),e.xp6(2),e.Oqu(r.divisionName),e.xp6(2),e.Oqu(r.customerId),e.xp6(4),e.Q6J("routerLink","/sales/edit-sales-order/"+r._id),e.xp6(5),e.Q6J("routerLink","/sales/edit-sales-order/"+r._id),e.xp6(6),e.Q6J("checked",r.check)}}function ne(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"div",35)(1,"pagination",36),e.NdJ("ngModelChange",function(t){e.CHM(r);const s=e.oxw();return e.KtG(s.currentPage=t)})("pageChanged",function(t){e.CHM(r);const s=e.oxw();return e.KtG(s.pageChanged(t))}),e.qZA()()}if(2&o){const r=e.oxw();e.xp6(1),e.Q6J("totalItems",r.totalItem)("ngModel",r.currentPage)}}const ae=function(o){return{"padding-left":o}};let se=(()=>{class o{constructor(r,i,t,s,l){this.router=r,this.salesOrderSer=i,this._snackBar=t,this.idle=s,this.cd=l,this.selectAll=!1,this.isShowPadding=!1,this.salesOrderDetail=[],this.selectedSalesType="",this.allSalesDetails=[],this.totalItem=0,this.currentPage=1,this.page=0,this.itemsPerPage=10,this.sampleJson={orderType:"Domestic",saleOrgName:"SALES ORGANIZATION",distributionChannelsName:"D123",divisionName:"TEST DIVISION",customerId:"CUS001",customerName:"Test",customerAddress:"1",salesOrder:"1",createdOn:"02/01/2024",createdBy:"SuperAdmin",changedOn:"02/01/2024",changedBy:"SuperAdmin",customerPo:"1",customerPoDate:"03/01/2024",requestedDeliveryDate:"30/01/2024",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",modeOfTransport:"test_modeOfTransport",totalNetWeight:"1",totalGrossWeight:"1",totalVolume:"1",paymentTerms:"test_paymentTerms",billingBlockName:"block23",companyCodeName:"TCS234",customerAcctAss:"abc",netPrice:1,netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",text:"test",orderStatusName:"ord12",itemList:[{materialId:"test001",materialDescription:"Tv",ordQty:"2",uom:"one",plant:"1",storageLocation:"xyz",batchSerial:"1",priceAmount:1,priceUnitPrice:1,priceUnit:"1",priceUOM:"l",tax:"1",perUnitTax:"1",discount:"1",perUnitDiscount:"1",freight:"1",perUnitFreight:"1",otherCharges:"1",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",priceDate:"1",netWeight:"1",grossWeight:"1",volumn:"1"}]},this.idleState="Not Started",s.setIdle(450),s.setTimeout(900),s.setInterrupts(f.WO),s.onIdleEnd.subscribe(()=>{this.idleState="Started",l.detectChanges()}),s.onTimeout.subscribe(()=>{this.idleState="Timeout"}),s.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.getSalesOrderDetail(this.page,this.itemsPerPage),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(r){this.router.navigate([`${r}`])}handleSideBar(r){this.isShowPadding=r}handleFilter(r){if(!r.target.value)return void(this.salesOrderDetail=this.allSalesDetails);console.log(r.target.value);const i=this.allSalesDetails.filter(t=>t.orderType.toUpperCase().includes(r.target.value.toUpperCase()));this.salesOrderDetail=i,console.log(i)}selectdata(r){console.log(r.target.checked),this.selectAll=r.target.checked,console.log(typeof this.selectAll),this.salesOrderDetail.map(i=>{i.check=r.target.checked})}particularcheck(r,i){this.salesOrderDetail[i].check=r.target.checked,this.selectAll=!this.salesOrderDetail.find(s=>!1===s.check)}getSalesOrderDetail(r,i){var t=this;return(0,u.Z)(function*(){try{const s=yield t.salesOrderSer.getAllSalesOrderDetailsPage(r,i);console.log(s),"1"===s.status&&(t.salesOrderDetail=s.data,t.allSalesDetails=s.data,s.data.map(l=>{l.check=!1}))}catch(s){if(s.error.message)return void t._snackBar.open(s.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}deleteRecords(r){var i=this;return(0,u.Z)(function*(){try{r.isActive="C";const t=yield i.salesOrderSer.updatedSalesOrderDetails(r);if(console.log(t),"1"===t.status)return i._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void i.getSalesOrderDetail(i.page,i.itemsPerPage);"0"===t.status&&i._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(t){if(t.error.message)return void i._snackBar.open(t.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});i._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}pageChanged(r){this.page=r.page,this.getSalesOrderDetail((this.page-1)*this.itemsPerPage,this.itemsPerPage)}downloadExcel(){this.salesOrderSer.exportToExcel([this.sampleJson],"sales_orfer","Sheet1")}exportExcel(){this.salesOrderSer.exportToExcel(this.salesOrderDetail,"salesOrder","Sheet1")}handleDeleteMuliple(){var r=this;return(0,u.Z)(function*(){try{const i=r.salesOrderDetail.filter(s=>!0===s.check);i.map(s=>{s.isActive="C"});const t=yield r.salesOrderSer.updateSalesOrderMany(i);if("1"===t.status)return r._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.getSalesOrderDetail(r.page,r.itemsPerPage);"0"===t.status&&r._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){console.error(i),r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(h.F0),e.Y36(D),e.Y36(S.ux),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-sales-order-list"]],decls:62,vars:9,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","py-2"],[1,"form-group","form-row"],[1,"col-12","d-grid","gap-2","d-md-flex"],["type","text","placeholder","Enter Order type",1,"form-control",3,"input"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[2,"width","15px","height","15px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["type","file",1,"d-none"],["inputFile",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","selectAll",3,"checked","change"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","col-xs-12 col-12 d-flex justify-content-center",4,"ngIf"],["colspan","8",1,"text-center"],[1,"d-flex"],[3,"routerLink"],[3,"click"],[2,"background","#00acff","border-radius","50%","color","white","cursor","pointer"],[2,"position","relative","left","5px","bottom","5px","cursor","pointer"],["type","checkbox",1,"checkbox",3,"checked","change"],[1,"col-xs-12","col-12","d-flex","justify-content-center"],[3,"totalItems","ngModel","ngModelChange","pageChanged"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"input",8),e.NdJ("input",function(l){return t.handleFilter(l)}),e.qZA()()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){return t.nextPage("/sales/add-sales-order")}),e._uU(12,"Add Sales Order"),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){return t.handleDeleteMuliple()}),e.TgZ(14,"mat-icon",13),e._uU(15,"delete"),e.qZA(),e._uU(16," Delete Selected Sales Order"),e.qZA(),e.TgZ(17,"button",14)(18,"mat-icon"),e._uU(19,"more_vert"),e.qZA()(),e.TgZ(20,"mat-menu",null,15)(22,"button",16)(23,"span"),e._uU(24,"Import Sales Order"),e.qZA(),e._UZ(25,"input",17,18),e.qZA(),e.TgZ(27,"button",19),e.NdJ("click",function(){return t.exportExcel()}),e.TgZ(28,"span"),e._uU(29,"Export Sales Order"),e.qZA()(),e.TgZ(30,"button",19),e.NdJ("click",function(){return t.downloadExcel()}),e.TgZ(31,"span"),e._uU(32,"Sample Sales Order Sheet"),e.qZA()()()()()()()(),e.TgZ(33,"div",20)(34,"div",3)(35,"div",21)(36,"table",22)(37,"thead")(38,"tr")(39,"th"),e._uU(40,"SN"),e.qZA(),e.TgZ(41,"th",23),e._uU(42,"Order Type"),e.qZA(),e.TgZ(43,"th",23),e._uU(44,"Sales Organization "),e.qZA(),e.TgZ(45,"th",23),e._uU(46,"Distribution Channel"),e.qZA(),e.TgZ(47,"th",23),e._uU(48,"Division"),e.qZA(),e.TgZ(49,"th",23),e._uU(50,"Customer Id"),e.qZA(),e.TgZ(51,"th",23),e._uU(52,"Action"),e.qZA(),e.TgZ(53,"th",23),e._uU(54,"Add Delivery"),e.qZA(),e.TgZ(55,"th",23)(56,"input",24),e.NdJ("change",function(l){return t.selectdata(l)}),e.qZA(),e._uU(57," Select All "),e.qZA()()(),e.YNc(58,oe,4,0,"tbody",25),e.TgZ(59,"tbody"),e.YNc(60,ie,28,9,"tr",26),e.qZA()()()(),e.YNc(61,ne,2,2,"div",27),e.qZA()()),2&i){const s=e.MAs(21);e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,ae,t.isShowPadding?"280px":"100px")),e.xp6(16),e.Q6J("matMenuTriggerFor",s),e.xp6(39),e.Q6J("checked",t.selectAll),e.xp6(2),e.Q6J("ngIf",0===t.salesOrderDetail.length),e.xp6(2),e.Q6J("ngForOf",t.salesOrderDetail),e.xp6(1),e.Q6J("ngIf",t.salesOrderDetail.length>10)}},dependencies:[g.sg,g.O5,g.PC,h.rH,F.RK,y.Hw,T.VK,T.OP,T.p6,a.JJ,q.s,a.On,O.Qt]})}return o})();var B=m(1076),Y=m(4441),w=m(2449),L=m(4210),M=m(1548),z=m(8833),V=m(5240),R=m(9018),$=m(6840),b=m(5401),N=m(8210);let j=(()=>{class o{transform(r,i){return r.sort((t,s)=>t[i]<s[i]?-1:t[i]>s[i]?1:0),r}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275pipe=e.Yjl({name:"filterPipes",type:o,pure:!0})}return o})();function le(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.description,"")}}function de(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Type is mandatory"),e.qZA()())}function ue(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Type is mandatory"),e.qZA()())}function ce(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.salesOrg,"")}}function pe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function me(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function ge(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.distributionChannel," ")}}function _e(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function he(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function fe(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.divion,"")}}function ve(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Division is mandatory"),e.qZA()())}function Ze(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Division is mandatory"),e.qZA()())}function ye(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.companyCode,"")}}function Te(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.customerId),e.xp6(1),e.hij(" ",r.customerId,"")}}function Ae(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function qe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function Ce(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function Se(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function Ue(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.hij(" ",r.code,"")}}function De(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function be(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function Ne(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function Ie(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function Fe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer PO Date is mandatory"),e.qZA()())}function Oe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"PO Date is mandatory"),e.qZA()())}function Pe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function Ge(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function xe(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.orderStatus," ")}}function ke(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Status is mandatory"),e.qZA()())}function Je(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Order Status is mandatory"),e.qZA()())}function Ee(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.modeOfTransport)}}function Qe(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.paymentTerm," ")}}function Be(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.billingBlock," ")}}function Ye(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.customerAccountAG,"")}}function we(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function Le(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function Me(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Price is mandatory"),e.qZA()())}function ze(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Price is mandatory"),e.qZA()())}function Ve(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Re(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function $e(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function je(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function We(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Ke(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function He(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function Xe(o,n){1&o&&(e.TgZ(0,"div")(1,"p",54),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function et(o,n){1&o&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function tt(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"td")(1,"mat-icon",84),e.NdJ("click",function(){e.CHM(r);const t=e.oxw(),s=t.index,l=t.$implicit,d=e.oxw();return e.KtG(d.deleteSalesItem(s,l.value.materialId))}),e._uU(2,"delete"),e.qZA()()}}function rt(o,n){if(1&o&&(e.TgZ(0,"option",85),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("disabled",r.disable)("value",r.materialId),e.xp6(1),e.hij(" ",r.materialId,"")}}function ot(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.baseUnitMeasure,"")}}const W=function(o){return{display:o}};function it(o,n){if(1&o&&(e.TgZ(0,"option",87),e._uU(1),e.qZA()),2&o){const r=n.$implicit,i=e.oxw().$implicit,t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,W,t.value.materialId===i.materialId?"block":"none"))("value",r.deliveringPlantId),e.xp6(1),e.hij(" ",r.deliveringPlantName," ")}}function nt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,it,2,5,"option",86),e.ALo(2,"filterPipes"),e.BQk()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,r.salesData,"deliveringPlantName"))}}function at(o,n){if(1&o&&(e.TgZ(0,"option",87),e._uU(1),e.qZA()),2&o){const r=n.$implicit,i=e.oxw().$implicit,t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,W,t.value.materialId===i.materialId?"block":"none"))("value",r.storageLocationId),e.xp6(1),e.hij(" ",r.storageLocationName," ")}}function st(o,n){if(1&o&&(e.ynx(0),e.YNc(1,at,2,5,"option",86),e.ALo(2,"filterPipes"),e.BQk()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,r.plantData,"storageLocationName"))}}function lt(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.hij(" ",r.code,"")}}function dt(o,n){if(1&o&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.orderStatus," ")}}const K=function(o){return{"pointer-events":o}};function ut(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"tr",55),e.YNc(1,tt,3,0,"td",13),e.TgZ(2,"td")(3,"select",56),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.handleMaterial(t,l))}),e.TgZ(4,"option",11),e._uU(5," Select Product Id"),e.qZA(),e.YNc(6,rt,2,3,"option",57),e.ALo(7,"filterPipes"),e.qZA()(),e.TgZ(8,"td"),e._UZ(9,"input",58),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"input",59),e.qZA(),e.TgZ(12,"td")(13,"select",60)(14,"option",11),e._uU(15," Select UOM"),e.qZA(),e.YNc(16,ot,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA()(),e.TgZ(18,"td")(19,"select",61)(20,"option",11),e._uU(21," Select Plant "),e.qZA(),e.YNc(22,nt,3,4,"ng-container",62),e.qZA()(),e.TgZ(23,"td")(24,"select",63)(25,"option",11),e._uU(26," Select storage Location "),e.qZA(),e.YNc(27,st,3,4,"ng-container",62),e.qZA()(),e.TgZ(28,"td"),e._UZ(29,"input",64),e.qZA(),e.TgZ(30,"td"),e._UZ(31,"input",65),e.qZA(),e.TgZ(32,"td"),e._UZ(33,"input",66),e.qZA(),e.TgZ(34,"td"),e._UZ(35,"input",67),e.qZA(),e.TgZ(36,"td")(37,"select",68)(38,"option",11),e._uU(39," Select Pricing UOM"),e.qZA(),e.TgZ(40,"option",69),e._uU(41,"One"),e.qZA(),e.TgZ(42,"option",70),e._uU(43,"Two"),e.qZA(),e.TgZ(44,"option",71),e._uU(45,"Three"),e.qZA()()(),e.TgZ(46,"td"),e._UZ(47,"input",72),e.qZA(),e.TgZ(48,"td"),e._UZ(49,"input",73),e.qZA(),e.TgZ(50,"td"),e._UZ(51,"input",74),e.qZA(),e.TgZ(52,"td"),e._UZ(53,"input",75),e.qZA(),e.TgZ(54,"td"),e._UZ(55,"input",76),e.qZA(),e.TgZ(56,"td"),e._UZ(57,"input",77),e.qZA(),e.TgZ(58,"td"),e._UZ(59,"input",40),e.qZA(),e.TgZ(60,"td"),e._UZ(61,"input",78),e.qZA(),e.TgZ(62,"td")(63,"select",21)(64,"option",11),e._uU(65,"Select Transaction Currency"),e.qZA(),e.YNc(66,lt,2,2,"option",12),e.ALo(67,"filterPipes"),e.qZA()(),e.TgZ(68,"td"),e._UZ(69,"input",79),e.qZA(),e.TgZ(70,"td"),e._UZ(71,"input",80),e.qZA(),e.TgZ(72,"td"),e._UZ(73,"input",81),e.qZA(),e.TgZ(74,"td"),e._UZ(75,"input",82),e.qZA(),e.TgZ(76,"td"),e._UZ(77,"input",83),e.qZA(),e.TgZ(78,"td")(79,"select",27),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.handleOrderStatus(t,l))}),e.TgZ(80,"option",11),e._uU(81," Select Order Status "),e.qZA(),e.YNc(82,dt,2,2,"option",12),e.ALo(83,"filterPipes"),e.qZA()()()}if(2&o){const r=n.$implicit,i=n.index,t=e.oxw();e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("ngIf",t.salesOrderArray.controls.length>1),e.xp6(3),e.Q6J("selected",""===t.salesFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",e.xi3(7,16,t.productDeatail,"materialId")),e.xp6(8),e.Q6J("selected",""===t.salesFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,19,t.productDeatail,"baseUnitMeasure")),e.xp6(4),e.Q6J("selected",""===t.salesFormGroup.value.plantId),e.xp6(2),e.Q6J("ngForOf",t.productDeatail),e.xp6(3),e.Q6J("selected",""===t.salesFormGroup.value.storageLocationId),e.xp6(2),e.Q6J("ngForOf",t.productDeatail),e.xp6(11),e.Q6J("selected",""===t.salesFormGroup.value.priceUOM),e.xp6(25),e.Q6J("ngStyle",e.VKq(28,K,t.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===t.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(67,22,t.currencyDetails,"code")),e.xp6(14),e.Q6J("selected",""===r.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(83,25,t.orderStatusDetail,"orderStatus"))}}const ct=function(o){return{"padding-left":o}};let pt=(()=>{class o{constructor(r,i,t,s,l,d,p,c,_,Z,U,G,x,k,J,C,A){this.fb=r,this.salesOrderSer=i,this.SalesSer=t,this._snackBar=s,this.distibutionSer=l,this.divisionSer=d,this.companyCodeSer=p,this.orderStatusSer=c,this.paymentTermSer=_,this.modeOfTransportSer=Z,this.billinBlockSer=U,this.customerAcctAG=G,this.customerSer=x,this.productSer=k,this.router=J,this.idle=C,this.cd=A,this.salesFormGroup=a.cw,this.isSubmitted=!1,this.isShowPadding=!1,this.salesData=[],this.distributionDetail=[],this.divisionDetail=[],this.companyCodeDetails=[],this.orderStatusDetail=[],this.paymentTermDetail=[],this.motDetails=[],this.billingBlockDetail=[],this.customerAccountAsstGroup=[],this.customerMasterDetail=[],this.productDeatail=[],this.customerCurrency=[],this.customerplant=[],this.productPlant=[],this.companyCurrency=[],this.idleState="Not Started",this.orderTypeDetails=[],C.setIdle(450),C.setTimeout(900),C.setInterrupts(f.WO),C.onIdleEnd.subscribe(()=>{this.idleState="Started",A.detectChanges()}),C.onTimeout.subscribe(()=>{this.idleState="Timeout"}),C.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.createSalesFormFields(),this.getSalesDetail(),this.getDistributionDetail(),this.getDivisionDetail(),this.getCompanyCodeDetail(),this.getOrderStatus(),this.getOrderType(),this.getPaymentTerm(),this.getModeOfTransport(),this.getBillingBlock(),this.getCustomerAcctAG(),this.getProductMasterDetail(),this.getCurrencyDetails(),this.getCustomerMaster(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createSalesFormFields(){this.salesFormGroup=this.fb.group({orderTypeId:["",a.kI.required],orderType:["",a.kI.required],saleOrgId:["",a.kI.required],saleOrgName:[""],distributionChannelsId:["",a.kI.required],distributionChannelsName:["",a.kI.required],divisionId:["",a.kI.required],divisionName:["",a.kI.required],customerId:["",a.kI.required],customerName:["",a.kI.required],customerAddress:["",a.kI.required],salesOrder:["",a.kI.required],customerPo:["",a.kI.required],customerPoDate:["",a.kI.required],requestedDeliveryDate:["",a.kI.required],companyCurrency:["",a.kI.required],transactionCurrency:["",a.kI.required],text:["",a.kI.required],exchangeRate:["",a.kI.required],modeOfTransport:["",a.kI.required],totalNetWeight:["",a.kI.required],totalGrossWeight:["",a.kI.required],totalVolume:["",a.kI.required],paymentTerms:["",a.kI.required],billingBlockId:["",a.kI.required],billingBlockName:[""],companyCodeId:["",a.kI.required],companyCodeName:[""],customerAcctAss:["",a.kI.required],netPrice:["",a.kI.required],netTax:["",a.kI.required],netDiscount:["",a.kI.required],netFreight:["",a.kI.required],orderStatusId:["",a.kI.required],orderStatusName:[""],otherCharges:["",a.kI.required],itemList:this.fb.array([this.getSalesFields()])})}getSalesFields(){return this.fb.group({materialId:[""],materialDescription:[""],ordQty:[""],uom:[""],plantId:[""],plantName:[""],storageLocationId:[""],storageLocationName:[""],batchSerial:[""],priceAmount:[""],priceUnitPrice:[""],priceUnit:[""],priDate:[""],vol:[""],priceUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],priceDate:[""],netWeight:[""],grossWeight:[""],volumn:[""],orderStatusId:[""],orderStatusName:[""]})}get salesOrderArray(){return this.salesFormGroup.get("itemList")}addSalesItem(){this.salesOrderArray.push(this.getSalesFields());const r=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((i,t)=>{r.at(t).patchValue({companyCurrency:this.salesFormGroup.value.companyCurrency?this.salesFormGroup.value.companyCurrency:"",transactionCurrency:this.salesFormGroup.value.transactionCurrency?this.salesFormGroup.value.transactionCurrency:""})})}deleteSalesItem(r,i){i&&this.productDeatail.map(t=>{t.materialId===i&&(t.disable=!1)}),this.salesOrderArray.removeAt(r)}submitData(){var r=this;return(0,u.Z)(function*(){try{r.isSubmitted=!0;const i=localStorage.getItem("userName");if(r.salesFormGroup.value.createdOn="18/12/2023",r.salesFormGroup.value.createdBy=i,r.salesFormGroup.value.changedOn="18/12/2023",r.salesFormGroup.value.changedBy=i,console.log(r.salesFormGroup.value),r.salesFormGroup.invalid)return;const t=yield r.salesOrderSer.createSalesOrder(r.salesFormGroup.value);if(console.log(t),"1"===t.status)return r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.router.navigate(["/sales/sales-order-list"]);if("0"===t.status)return void r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(console.error(i),i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getSalesDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.SalesSer.getAllSalesOrgDetails();console.log(i),"1"===i.status?r.salesData=i.data:r._snackBar.open(i.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(r){const i=this.salesData.find(t=>t._id===r.target.value);this.salesFormGroup.controls.saleOrgName.setValue(i.salesOrg)}handleOrderType(r){const i=this.orderTypeDetails.find(t=>t._id===r.target.value);this.salesFormGroup.controls.orderType.setValue(i.description)}getDistributionDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.distibutionSer.getAllDistibutionChannelDetails();"1"===i.status&&(r.distributionDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(r){const i=this.distributionDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.distributionChannelsName.setValue(i.distributionChannel)}getDivisionDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.divisionSer.getAllDivionDetails();"1"===i.status&&(r.divisionDetail=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(r){const i=this.divisionDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.divisionName.setValue(i.divion)}getCompanyCodeDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.companyCodeSer.getAllCompanyCodeDetails();console.log(i,"company data"),"1"===i.status?r.companyCodeDetails=i.data:r._snackBar.open(i.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCountry(r){const i=this.companyCodeDetails.find(s=>s._id===r.target.value);this.salesFormGroup.controls.companyCodeName.setValue(i.companyCode),this.salesFormGroup.controls.companyCurrency.setValue(i.currencyName);const t=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((s,l)=>{t.at(l).patchValue({companyCurrency:i.currencyName?i.currencyName:""})})}getOrderStatus(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.orderStatusSer.getAllOrderStatusDetails();"1"===i.status&&(r.orderStatusDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrder(r){const i=this.orderStatusDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.orderStatusName.setValue(i.orderStatus)}getPaymentTerm(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.paymentTermSer.getAllPaymentTerm();"1"===i.status&&(r.paymentTermDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getModeOfTransport(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.modeOfTransportSer.getAllModeOfTransportDetails();"1"===i.status&&(r.motDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingBlock(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.billinBlockSer.getAllBillingBlockDetails();"1"===i.status&&(r.billingBlockDetail=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingBlock(r){const i=this.billingBlockDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.billingBlockName.setValue(i.billingBlock)}getCustomerAcctAG(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerAcctAG.getAllCustomerAccountDetails();"1"===i.status&&(r.customerAccountAsstGroup=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getOrderType(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.salesOrderSer.getOrderType();"1"===i.status&&(r.orderTypeDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllProductDetails();"1"===i.status&&(r.productDeatail=i.data,r.productDeatail.map(t=>{t.disable=!1}))}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCurrencyDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.companyCodeSer.getAllCurrencyDetails();"1"===i.status?r.currencyDetails=i.data:r._snackBar.open(i.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerSer.getAllCustomerDetails();"1"===i.status&&(r.customerMasterDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCustomer(r){const i=this.customerMasterDetail.find(l=>l.customerId===r.target.value);console.log(i,"kkkk");const t=i.plantData.find(l=>l.companyCode===this.salesFormGroup.value.companyCodeId);console.log(this.customerCurrency),this.salesFormGroup.controls.transactionCurrency.setValue(t.currencyName);const s=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((l,d)=>{s.at(d).patchValue({transactionCurrency:t.currencyName?t.currencyName:""})}),this.salesFormGroup.patchValue({customerAddress:i?i.address:""})}handleMaterial(r,i){const t=this.productDeatail.find(d=>d.materialId===r.target.value);console.log(t),this.productDeatail.map(d=>d.disable=!1),this.salesFormGroup.value.itemList.map(d=>{this.productDeatail.map(p=>{d.materialId===p.materialId&&(p.disable=!0)})}),this.productPlant=t?t.plantData:[],this.customerplant=t?t.salesData:[],this.salesFormGroup.get("itemList").at(i).patchValue({materialDescription:t?t.materialDescription:"",plantName:t?t.deliveringPlantName:"",storageLocationId:t?t.storageLocation:""})}handleCurrency(r){const i=this.companyCodeDetails.find(t=>t.currencyId===r.target.value);console.log(i,"currency ")}handleOrderStatus(r,i){const t=this.orderStatusDetail.find(d=>d._id===r.target.value);this.salesFormGroup.get("itemList").at(i).patchValue({orderStatusName:t?t.orderStatus:""})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(D),e.Y36(B.T),e.Y36(S.ux),e.Y36(Y.P),e.Y36(w.P),e.Y36(L.X),e.Y36(M.$),e.Y36(z.f),e.Y36(V.z),e.Y36(R.P),e.Y36($.P),e.Y36(b.v),e.Y36(N.M),e.Y36(h.F0),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-sales-order"]],decls:294,vars:104,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"mt-2"],["routerLink","/sales/sales-order-list/",1,"back"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],[1,""],["aria-label","Default select example","formControlName","orderTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["aria-label","Default select example","formControlName","saleOrgId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","distributionChannelsId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","divisionId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","companyCodeId",1,"form-select",3,"change"],["type","text","placeholder","Autofetched","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select",3,"change"],["type","text","placeholder","Enter customer Address","formControlName","customerAddress",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select",3,"ngStyle"],["type","text","placeholder","Enter Sales Order","formControlName","salesOrder",1,"form-control"],["type","text","placeholder","Enter Customer PO","formControlName","customerPo",1,"form-control"],["type","date","placeholder","Enter PO Date","formControlName","customerPoDate",1,"form-control"],["type","date","placeholder","Enter Req Delivery Date","formControlName","requestedDeliveryDate",1,"form-control"],["type","text","placeholder"," Enter Text","formControlName","text",1,"form-control"],["aria-label","Default select example","formControlName","orderStatusId",1,"form-select",3,"change"],["type","text","placeholder","Enter Exchange Rate","formControlName","exchangeRate",1,"form-control"],["aria-label","Default select example","formControlName","modeOfTransport",1,"form-select"],["type","text","placeholder","Calculated Total Net Weight","formControlName","totalNetWeight",1,"form-control"],["type","text","placeholder","Calculated Total Gross Wt","formControlName","totalGrossWeight",1,"form-control"],["type","text","placeholder","Calculated Total Volume","formControlName","totalVolume",1,"form-control"],["aria-label","Default select example","formControlName","paymentTerms",1,"form-select"],["aria-label","Default select example","formControlName","billingBlockId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","customerAcctAss",1,"form-select"],["type","number","min","0","placeholder","Enter Net Price","formControlName","netPrice",1,"form-control"],["type","number","min","0","placeholder","Enter Net Tax","formControlName","netTax",1,"form-control"],["type","number","min","0","placeholder","Enter Net Discount","formControlName","netDiscount",1,"form-control"],["type","number","min","0","placeholder","enter Net Freight","formControlName","netFreight",1,"form-control"],["type","number","min","0","placeholder","Other Charges","formControlName","otherCharges",1,"form-control"],[1,"row","border","mt-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"py-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-12","d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["aria-label","Default select example","formControlName","materialId",1,"form-select",3,"change"],[3,"disabled","value",4,"ngFor","ngForOf"],["type","text","placeholder","Autofetched Product Description","formControlName","materialDescription",1,"form-control"],["type","number","min","0","placeholder","Oredr Qty","formControlName","ordQty",1,"form-control"],["aria-label","Default select example","formControlName","uom",1,"form-select","w-100"],["aria-label","Default select example","formControlName","plantId",1,"form-select","w-100"],[4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","storageLocationId",1,"form-select","w-100"],["type","text","placeholder","Enter Batch","formControlName","batchSerial",1,"form-control"],["type","number","min","0","placeholder","Enter Price Amount","formControlName","priceAmount",1,"form-control"],["type","number","min","0","placeholder","Enter Per Unit Price","formControlName","priceUnitPrice",1,"form-control"],["type","number","min","0","placeholder","Pricing Unit","formControlName","priceUnit",1,"form-control"],["aria-label","Default select example","formControlName","priceUOM",1,"form-select"],["value","1"],["value","2"],["value","3"],["type","text","placeholder"," Enter Tax","formControlName","tax",1,"form-control"],["type","number","min","0","placeholder","Per Unit Tax","formControlName","perUnitTax",1,"form-control"],["type","number","min","0","placeholder","Discount","formControlName","discount",1,"form-control"],["type","number","min","0","placeholder","Per Unit Discount","formControlName","perUnitDiscount",1,"form-control"],["type","number","min","0","placeholder","Freight","formControlName","freight",1,"form-control"],["type","number","min","0","placeholder","Per Unit Freight","formControlName","perUnitFreight",1,"form-control"],["type","text","placeholder","Auto Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["type","text","placeholder","Exchange Rate","formControlName","exchangeRate",1,"form-control"],["type","date","placeholder","price Date","formControlName","priceDate",1,"form-control"],["type","number","min","0","placeholder","Net Weight","formControlName","netWeight",1,"form-control"],["type","number","min","0","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control"],["type","number","min","0","placeholder","Volume","formControlName","volumn",1,"form-control"],[2,"cursor","pointer",3,"click"],[3,"disabled","value"],[3,"ngStyle","value",4,"ngFor","ngForOf"],[3,"ngStyle","value"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"h3",2)(3,"mat-icon",3),e._uU(4,"arrow_back"),e.qZA(),e._uU(5," Sales Order "),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return t.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Order Type"),e.qZA(),e.TgZ(13,"select",10),e.NdJ("change",function(l){return t.handleOrderType(l)}),e.TgZ(14,"option",11),e._uU(15,"Select Order Type "),e.qZA(),e.YNc(16,le,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA(),e.YNc(18,de,3,0,"div",13),e.YNc(19,ue,3,0,"div",13),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Sales Org"),e.qZA(),e.TgZ(23,"select",14),e.NdJ("change",function(l){return t.handleSales(l)}),e.TgZ(24,"option",11),e._uU(25,"Select Sales Org "),e.qZA(),e.YNc(26,ce,2,2,"option",12),e.ALo(27,"filterPipes"),e.qZA(),e.YNc(28,pe,3,0,"div",13),e.YNc(29,me,3,0,"div",13),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Distribution Channel"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("change",function(l){return t.handleDistribution(l)}),e.TgZ(34,"option",11),e._uU(35," Select Distribution Channel"),e.qZA(),e.YNc(36,ge,2,2,"option",12),e.ALo(37,"filterPipes"),e.qZA(),e.YNc(38,_e,3,0,"div",13),e.YNc(39,he,3,0,"div",13),e.qZA(),e.TgZ(40,"div",8)(41,"label",9),e._uU(42,"Division"),e.qZA(),e.TgZ(43,"select",16),e.NdJ("change",function(l){return t.handleDivision(l)}),e.TgZ(44,"option",11),e._uU(45,"Select Division "),e.qZA(),e.YNc(46,fe,2,2,"option",12),e.ALo(47,"filterPipes"),e.qZA(),e.YNc(48,ve,3,0,"div",13),e.YNc(49,Ze,3,0,"div",13),e.qZA(),e.TgZ(50,"div",8)(51,"label",9),e._uU(52,"Company Code"),e.qZA(),e.TgZ(53,"select",17),e.NdJ("change",function(l){return t.handleCountry(l)}),e.TgZ(54,"option",11),e._uU(55,"Select Company Code "),e.qZA(),e.YNc(56,ye,2,2,"option",12),e.ALo(57,"filterPipes"),e.qZA()(),e.TgZ(58,"div",8)(59,"label",9),e._uU(60,"Company Currency"),e.qZA(),e._UZ(61,"input",18),e.qZA(),e.TgZ(62,"div",8)(63,"label",9),e._uU(64,"Customer Id"),e.qZA(),e.TgZ(65,"select",19),e.NdJ("change",function(l){return t.handleCustomer(l)}),e.TgZ(66,"option",11),e._uU(67,"Select Customer Id "),e.qZA(),e.YNc(68,Te,2,2,"option",12),e.ALo(69,"filterPipes"),e.qZA(),e.YNc(70,Ae,3,0,"div",13),e.YNc(71,qe,3,0,"div",13),e.qZA(),e.TgZ(72,"div",8)(73,"label",9),e._uU(74,"Customer Address"),e.qZA(),e._UZ(75,"input",20),e.YNc(76,Ce,3,0,"div",13),e.YNc(77,Se,3,0,"div",13),e.qZA(),e.TgZ(78,"div",8)(79,"label",9),e._uU(80,"Transaction Currency"),e.qZA(),e.TgZ(81,"select",21)(82,"option",11),e._uU(83,"Select Transaction Currency"),e.qZA(),e.YNc(84,Ue,2,2,"option",12),e.ALo(85,"filterPipes"),e.qZA()(),e.TgZ(86,"div",8)(87,"label"),e._uU(88,"Sales Order "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e._UZ(91,"input",22),e.YNc(92,De,3,0,"div",13),e.YNc(93,be,3,0,"div",13),e.qZA(),e.TgZ(94,"div",8)(95,"label",9),e._uU(96,"Customer PO "),e.TgZ(97,"sup"),e._uU(98,"*"),e.qZA()(),e._UZ(99,"input",23),e.YNc(100,Ne,3,0,"div",13),e.YNc(101,Ie,3,0,"div",13),e.qZA(),e.TgZ(102,"div",8)(103,"label",9),e._uU(104,"Customer PO Date "),e.TgZ(105,"sup"),e._uU(106,"*"),e.qZA()(),e._UZ(107,"input",24),e.YNc(108,Fe,3,0,"div",13),e.YNc(109,Oe,3,0,"div",13),e.qZA(),e.TgZ(110,"div",8)(111,"label",9),e._uU(112,"Req Delivery Date "),e.TgZ(113,"sup"),e._uU(114,"*"),e.qZA()(),e._UZ(115,"input",25),e.YNc(116,Pe,3,0,"div",13),e.YNc(117,Ge,3,0,"div",13),e.qZA(),e.TgZ(118,"div",8)(119,"label",9),e._uU(120," Text"),e.qZA(),e._UZ(121,"input",26),e.qZA(),e.TgZ(122,"div",8)(123,"label",9),e._uU(124,"Order Status"),e.qZA(),e.TgZ(125,"select",27),e.NdJ("change",function(l){return t.handleOrder(l)}),e.TgZ(126,"option",11),e._uU(127,"Select Order Status "),e.qZA(),e.YNc(128,xe,2,2,"option",12),e.ALo(129,"filterPipes"),e.qZA(),e.YNc(130,ke,3,0,"div",13),e.YNc(131,Je,3,0,"div",13),e.qZA(),e.TgZ(132,"div",8)(133,"label",9),e._uU(134,"Exchange Rate"),e.qZA(),e._UZ(135,"input",28),e.qZA(),e.TgZ(136,"div",8)(137,"label",9),e._uU(138,"Mode of Transport"),e.qZA(),e.TgZ(139,"select",29)(140,"option",11),e._uU(141,"Select Mode of Transport"),e.qZA(),e.YNc(142,Ee,2,2,"option",12),e.ALo(143,"filterPipes"),e.qZA()(),e.TgZ(144,"div",8)(145,"label",9),e._uU(146,"Total Net Weight"),e.qZA(),e._UZ(147,"input",30),e.qZA(),e.TgZ(148,"div",8)(149,"label",9),e._uU(150,"Total Gross Wt"),e.qZA(),e._UZ(151,"input",31),e.qZA(),e.TgZ(152,"div",8)(153,"label",9),e._uU(154,"Total Volume"),e.qZA(),e._UZ(155,"input",32),e.qZA(),e.TgZ(156,"div",8)(157,"label",9),e._uU(158,"Payment Term"),e.qZA(),e.TgZ(159,"select",33)(160,"option",11),e._uU(161,"Select Payment Term "),e.qZA(),e.YNc(162,Qe,2,2,"option",12),e.ALo(163,"filterPipes"),e.qZA()(),e.TgZ(164,"div",8)(165,"label",9),e._uU(166,"Billing Block"),e.qZA(),e.TgZ(167,"select",34),e.NdJ("change",function(l){return t.handleBillingBlock(l)}),e.TgZ(168,"option",11),e._uU(169,"Select Billing Block "),e.qZA(),e.YNc(170,Be,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA()(),e.TgZ(172,"div",8)(173,"label",9),e._uU(174,"Customer Account"),e.qZA(),e.TgZ(175,"select",35)(176,"option",11),e._uU(177,"Select Customer Account"),e.qZA(),e.YNc(178,Ye,2,2,"option",12),e.ALo(179,"filterPipes"),e.qZA(),e.YNc(180,we,3,0,"div",13),e.YNc(181,Le,3,0,"div",13),e.qZA(),e.TgZ(182,"div",8)(183,"label",9),e._uU(184,"Net Price "),e.TgZ(185,"sup"),e._uU(186,"*"),e.qZA()(),e._UZ(187,"input",36),e.YNc(188,Me,3,0,"div",13),e.YNc(189,ze,3,0,"div",13),e.qZA(),e.TgZ(190,"div",8)(191,"label",9),e._uU(192,"Net Tax "),e.TgZ(193,"sup"),e._uU(194,"*"),e.qZA()(),e._UZ(195,"input",37),e.YNc(196,Ve,3,0,"div",13),e.YNc(197,Re,3,0,"div",13),e.qZA(),e.TgZ(198,"div",8)(199,"label",9),e._uU(200,"Net Discount "),e.TgZ(201,"sup"),e._uU(202,"*"),e.qZA()(),e._UZ(203,"input",38),e.YNc(204,$e,3,0,"div",13),e.YNc(205,je,3,0,"div",13),e.qZA(),e.TgZ(206,"div",8)(207,"label",9),e._uU(208,"Net Freight "),e.TgZ(209,"sup"),e._uU(210,"*"),e.qZA()(),e._UZ(211,"input",39),e.YNc(212,We,3,0,"div",13),e.YNc(213,Ke,3,0,"div",13),e.qZA(),e.TgZ(214,"div",8)(215,"label",9),e._uU(216,"Other Charges "),e.TgZ(217,"sup"),e._uU(218,"*"),e.qZA()(),e._UZ(219,"input",40),e.YNc(220,He,3,0,"div",13),e.YNc(221,Xe,3,0,"div",13),e.qZA()(),e.TgZ(222,"div",41)(223,"div",5)(224,"div",4)(225,"div",42)(226,"h3",43),e._uU(227," Item Data "),e.qZA()(),e.TgZ(228,"div",44)(229,"button",45),e.NdJ("click",function(){return t.addSalesItem()}),e._uU(230,"Add"),e.qZA()()(),e.TgZ(231,"div",46)(232,"table",47)(233,"thead")(234,"tr"),e.YNc(235,et,2,0,"th",13),e.TgZ(236,"th"),e._uU(237,"Product Id"),e.qZA(),e.TgZ(238,"th"),e._uU(239,"Product Description"),e.qZA(),e.TgZ(240,"th"),e._uU(241,"Order Qty"),e.qZA(),e.TgZ(242,"th"),e._uU(243,"UOM"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Plant"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Storage Location"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Batch/Serial #"),e.qZA(),e.TgZ(250,"th"),e._uU(251,"Price Amount"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Per Unit Price"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Pricing Unit"),e.qZA(),e.TgZ(256,"th"),e._uU(257,"Pricing UOM"),e.qZA(),e.TgZ(258,"th"),e._uU(259,"Tax"),e.qZA(),e.TgZ(260,"th"),e._uU(261,"Per Unit Tax"),e.qZA(),e.TgZ(262,"th"),e._uU(263,"Discount"),e.qZA(),e.TgZ(264,"th"),e._uU(265,"Per Unit Discount"),e.qZA(),e.TgZ(266,"th"),e._uU(267,"Freight"),e.qZA(),e.TgZ(268,"th"),e._uU(269,"Per Unit Freight"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"Other Charges"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Company Currency"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Transaction Currency"),e.qZA(),e.TgZ(276,"th"),e._uU(277,"Exchange Rate"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Pricing Date"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Net Weight"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"Gross Weight"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Volume"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Order Status"),e.qZA()()(),e.TgZ(288,"tbody",48),e.YNc(289,ut,84,30,"tr",49),e.qZA()()()()(),e.TgZ(290,"div",50)(291,"div",51)(292,"button",52),e._uU(293,"Save"),e.qZA()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(100,ct,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.salesFormGroup),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.order),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,64,t.orderTypeDetails,"description")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.orderTypeId.touched&&t.salesFormGroup.controls.orderTypeId.touched&&t.salesFormGroup.controls.orderTypeId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.orderTypeId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.saleOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(27,67,t.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.saleOrgId.touched&&t.salesFormGroup.controls.saleOrgId.touched&&t.salesFormGroup.controls.saleOrgId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.saleOrgId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.distributionChannelsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,70,t.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.distributionChannelsId.touched&&t.salesFormGroup.controls.distributionChannelsId.touched&&t.salesFormGroup.controls.distributionChannelsId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.distributionChannelsId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(47,73,t.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.divisionId.touched&&t.salesFormGroup.controls.divisionId.touched&&t.salesFormGroup.controls.divisionId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.divisionId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(57,76,t.companyCodeDetails,"companyCode")),e.xp6(10),e.Q6J("selected",""===t.salesFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",e.xi3(69,79,t.customerMasterDetail,"customerId")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.customerId.touched&&t.salesFormGroup.controls.customerId.touched&&t.salesFormGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",t.salesFormGroup.controls.customerAddress.touched&&t.salesFormGroup.controls.customerAddress.touched&&t.salesFormGroup.controls.customerAddress.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerAddress.hasError("required")),e.xp6(4),e.Q6J("ngStyle",e.VKq(102,K,t.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===t.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(85,82,t.currencyDetails,"code")),e.xp6(8),e.Q6J("ngIf",t.salesFormGroup.controls.salesOrder.touched&&t.salesFormGroup.controls.salesOrder.touched&&t.salesFormGroup.controls.salesOrder.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.salesOrder.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.customerPo.touched&&t.salesFormGroup.controls.customerPo.touched&&t.salesFormGroup.controls.customerPo.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerPo.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.customerPoDate.touched&&t.salesFormGroup.controls.customerPoDate.touched&&t.salesFormGroup.controls.customerPoDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerPoDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.requestedDeliveryDate.touched&&t.salesFormGroup.controls.requestedDeliveryDate.touched&&t.salesFormGroup.controls.requestedDeliveryDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.requestedDeliveryDate.hasError("required")),e.xp6(9),e.Q6J("selected",""===t.salesFormGroup.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(129,85,t.orderStatusDetail,"orderStatus")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.orderStatusId.touched&&t.salesFormGroup.controls.orderStatusId.touched&&t.salesFormGroup.controls.orderStatusId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.orderStatusId.hasError("required")),e.xp6(9),e.Q6J("selected",""===t.salesFormGroup.value.modeOfTransport),e.xp6(2),e.Q6J("ngForOf",e.xi3(143,88,t.motDetails,"modeOfTransport")),e.xp6(18),e.Q6J("selected",""===t.salesFormGroup.value.paymentTerms),e.xp6(2),e.Q6J("ngForOf",e.xi3(163,91,t.paymentTermDetail,"paymentTerm")),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.billingBlockId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,94,t.billingBlockDetail,"billingBlock")),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.customerAcctAss),e.xp6(2),e.Q6J("ngForOf",e.xi3(179,97,t.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.customerAcctAss.touched&&t.salesFormGroup.controls.customerAcctAss.touched&&t.salesFormGroup.controls.customerAcctAss.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerAcctAss.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netPrice.touched&&t.salesFormGroup.controls.netPrice.touched&&t.salesFormGroup.controls.netPrice.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netPrice.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netTax.touched&&t.salesFormGroup.controls.netTax.touched&&t.salesFormGroup.controls.netTax.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netDiscount.touched&&t.salesFormGroup.controls.netDiscount.touched&&t.salesFormGroup.controls.netDiscount.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netFreight.touched&&t.salesFormGroup.controls.netFreight.touched&&t.salesFormGroup.controls.netFreight.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.otherCharges.touched&&t.salesFormGroup.controls.otherCharges.touched&&t.salesFormGroup.controls.otherCharges.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.otherCharges.hasError("required")),e.xp6(14),e.Q6J("ngIf",t.salesOrderArray.controls.length>1),e.xp6(54),e.Q6J("ngForOf",t.salesFormGroup.get("itemList").controls))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.qQ,a.sg,a.u,a.x0,a.CE,q.s,j],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return o})(),I=(()=>{class o{constructor(r){this.http=r}createDeliveryDetails(r){return this.http.post("http://54.151.187.67:4000/api/sales/delivery/create",r).toPromise()}getAllDeliveryDetails(){return this.http.get("http://54.151.187.67:4000/api/sales/delivery/getAll").toPromise()}getAllDeliveryDetailsPage(r,i){return this.http.get("http://54.151.187.67:4000/api/sales/delivery/getAll").toPromise()}singleDeliveryDetails(r){return this.http.get(`http://54.151.187.67:4000/api/sales/delivery/get/${r}`).toPromise()}updateDeliveryDetails(r){return this.http.put(`http://54.151.187.67:4000/api/sales/delivery/update/${r._id}`,r).toPromise()}updateDeliveryMany(r){return this.http.put("http://54.151.187.67:4000/api/sales/delivery/update",r).toPromise()}getAllDeliveryTypeDetails(){return this.http.get("http://54.151.187.67:4000/api/config/deliveryType/getAll").toPromise()}exportToExcel(r,i,t){const s=[];console.log(s),r.map(c=>{c.itemList.map(_=>{_.itemData=c.itemData,s.push(_)})}),r.map(c=>{delete c.isLock,delete c.isActive,delete c.__v,delete c.check,delete c.itemList});const l=v.P6.book_new(),d=v.P6.json_to_sheet(r);v.P6.book_append_sheet(l,d,"Delivery");const p=v.P6.json_to_sheet(s);v.P6.book_append_sheet(l,p,"Item_Data"),v.NC(l,`${i}.xlsx`)}getDeliveryDetails(){return this.http.get("http://54.151.187.67:4000/api/config/deliveryType/getAll").toPromise()}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(Q.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function mt(o,n){1&o&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",26),e._uU(3,"No Records"),e.qZA()()())}function gt(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"tr")(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",28)(13,"div")(14,"mat-icon",29),e._uU(15,"edit"),e.qZA()(),e.TgZ(16,"div")(17,"mat-icon",30),e.NdJ("click",function(){const s=e.CHM(r).$implicit,l=e.oxw();return e.KtG(l.deleteRecords(s))}),e._uU(18,"delete"),e.qZA()()()(),e.TgZ(19,"td")(20,"input",31),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.particularcheck(t,l))}),e.qZA()()()}if(2&o){const r=n.$implicit,i=n.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(r.deliveryType),e.xp6(2),e.Oqu(r.plantName),e.xp6(2),e.Oqu(r.deliveryAddress),e.xp6(2),e.Oqu(r.deliveryPartner),e.xp6(4),e.Q6J("routerLink","/sales/edit-delivery/"+r._id),e.xp6(6),e.Q6J("checked",r.check)}}function _t(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"div",32)(1,"pagination",33),e.NdJ("ngModelChange",function(t){e.CHM(r);const s=e.oxw();return e.KtG(s.currentPage=t)})("pageChanged",function(t){e.CHM(r);const s=e.oxw();return e.KtG(s.pageChanged(t))}),e.qZA()()}if(2&o){const r=e.oxw();e.xp6(1),e.Q6J("totalItems",r.totalItem)("ngModel",r.currentPage)}}const ht=function(o){return{"padding-left":o}};let ft=(()=>{class o{constructor(r,i,t,s,l){this.router=r,this.deliverySer=i,this._snackBar=t,this.idle=s,this.cd=l,this.isShowPadding=!1,this.deliveryDetail=[],this.selectAll=!1,this.allDeliveryDetails=[],this.totalItem=0,this.currentPage=1,this.page=0,this.itemsPerPage=10,this.sampleJson={deliveryType:"Domestic",saleOrgName:"SALES ORGANIZATION",distributionChannelsName:"D123",divisionName:"TEST DIVISION",customerName:"Test",customerAddress:"1",salesOrder:"1",createdOn:"02/01/2024",createdBy:"SuperAdmin",changedOn:"02/01/2024",changedBy:"SuperAdmin",customerPo:"1",customerPoDate:"03/01/2024",requestedDeliveryDate:"30/01/2024",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",modeOfTransport:"xyz",totalNetWeight:"1",totalGrossWeight:"1",totalVolume:"1",paymentTerms:"abx",billingBlockName:"block23",companyCodeName:"TCS234",customerAcctAss:"abc",netPrice:1,netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",text:"test",orderStatusName:"ord12",itemList:[{materialDescription:"Tv",ordQty:"2",uom:"one",plant:"1",storageLocation:"xyz",batchSerial:"1",priceAmount:1,priceUnitPrice:1,priceUnit:"1",priceUOM:"l",tax:"1",perUnitTax:"1",discount:"1",perUnitDiscount:"1",freight:"1",perUnitFreight:"1",otherCharges:"1",companyCurrency:"dollar",transactionCurrency:"dollar",exchangeRate:"1",priceDate:"1",netWeight:"1",grossWeight:"1",volumn:"1"}]},this.idleState="Not Started",s.setIdle(450),s.setTimeout(900),s.setInterrupts(f.WO),s.onIdleEnd.subscribe(()=>{this.idleState="Started",l.detectChanges()}),s.onTimeout.subscribe(()=>{this.idleState="Timeout"}),s.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.getAllDeliveryDetail(this.page,this.itemsPerPage),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(r){this.router.navigate([`${r}`])}handleSideBar(r){this.isShowPadding=r}pageChanged(r){this.page=r.page,this.getAllDeliveryDetail((this.page-1)*this.itemsPerPage,this.itemsPerPage)}downloadExcel(){this.deliverySer.exportToExcel([this.sampleJson],"delivery","Sheet1")}exportExcel(){this.deliverySer.exportToExcel(this.deliveryDetail,"delivery","Sheet1"),console.log(this.exportExcel)}getAllDeliveryDetail(r,i){var t=this;return(0,u.Z)(function*(){try{const s=yield t.deliverySer.getAllDeliveryDetailsPage(r,i);"1"===s.status&&(t.deliveryDetail=s.data,t.allDeliveryDetails=s.data,s.data.map(l=>{l.check=!1}),t.deliveryDetail=s.data)}catch(s){if(s.error.message)return void t._snackBar.open(s.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});t._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleFilter(r){if(!r.target.value)return void(this.deliveryDetail=this.allDeliveryDetails);console.log(r.target.value);const i=this.allDeliveryDetails.filter(t=>t.deliveryType.toUpperCase().includes(r.target.value.toUpperCase()));this.deliveryDetail=i,console.log(i)}selectdata(r){console.log(r.target.checked),this.selectAll=r.target.checked,console.log(typeof this.selectAll),this.deliveryDetail.map(i=>{i.check=r.target.checked})}particularcheck(r,i){this.deliveryDetail[i].check=r.target.checked,this.selectAll=!this.deliveryDetail.find(s=>!1===s.check)}deleteRecords(r){var i=this;return(0,u.Z)(function*(){try{r.isActive="C";const t=yield i.deliverySer.updateDeliveryDetails(r);if(console.log(t),"1"===t.status)return i._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void i.getAllDeliveryDetail(i.page,i.itemsPerPage);"0"===t.status&&i._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(t){if(t.error.message)return void i._snackBar.open(t.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});i._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDeleteMuliple(){var r=this;return(0,u.Z)(function*(){try{const i=r.deliveryDetail.filter(s=>!0===s.check);i.map(s=>{s.isActive="C"});const t=yield r.deliverySer.updateDeliveryMany(i);if("1"===t.status)return r._snackBar.open("Deleted Successfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.getAllDeliveryDetail(r.page,r.itemsPerPage);"0"===t.status&&r._snackBar.open("Deleted Unsuccessfully","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){console.error(i),r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(h.F0),e.Y36(I),e.Y36(S.ux),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-delivery-list"]],decls:56,vars:9,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","py-2"],[1,"form-group","form-row"],[1,"col-12","d-grid","gap-2","d-md-flex"],["type","text","placeholder","Enter delivery type",1,"form-control",3,"input"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",2,"color","white","background","#00acff",3,"click"],["type","button",1,"btn","btn-danger",2,"color","white",3,"click"],[2,"width","15px","height","15px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox","id","selectAll",3,"checked","change"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","col-xs-12 col-12 d-flex justify-content-center",4,"ngIf"],["colspan","7",1,"text-center"],["scope","row"],[1,"d-flex"],[3,"routerLink"],[3,"click"],["type","checkbox",1,"checkbox",3,"checked","change"],[1,"col-xs-12","col-12","d-flex","justify-content-center"],[3,"totalItems","ngModel","ngModelChange","pageChanged"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"input",8),e.NdJ("input",function(l){return t.handleFilter(l)}),e.qZA()()()(),e.TgZ(9,"div",9)(10,"div",10)(11,"button",11),e.NdJ("click",function(){return t.nextPage("/sales/add-delivery/")}),e._uU(12,"Add Delivery"),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){return t.handleDeleteMuliple()}),e.TgZ(14,"mat-icon",13),e._uU(15,"delete"),e.qZA(),e._uU(16," Delete Selected Delivery"),e.qZA(),e.TgZ(17,"button",14)(18,"mat-icon"),e._uU(19,"more_vert"),e.qZA()(),e.TgZ(20,"mat-menu",null,15)(22,"button",16)(23,"span"),e._uU(24,"Import Delivery"),e.qZA()(),e.TgZ(25,"button",17),e.NdJ("click",function(){return t.exportExcel()}),e.TgZ(26,"span"),e._uU(27,"Export Delivery"),e.qZA()(),e.TgZ(28,"button",17),e.NdJ("click",function(){return t.downloadExcel()}),e.TgZ(29,"span"),e._uU(30,"Sample Delivery Sheet"),e.qZA()()()()()()()(),e.TgZ(31,"div",18)(32,"div",3)(33,"div",19)(34,"table",20)(35,"thead")(36,"tr")(37,"th"),e._uU(38,"SN"),e.qZA(),e.TgZ(39,"th",21),e._uU(40,"Delivery Type"),e.qZA(),e.TgZ(41,"th",21),e._uU(42,"Plant "),e.qZA(),e.TgZ(43,"th",21),e._uU(44,"Delivery Address"),e.qZA(),e.TgZ(45,"th",21),e._uU(46,"Delivery Partner"),e.qZA(),e.TgZ(47,"th",21),e._uU(48,"Action"),e.qZA(),e.TgZ(49,"th",21)(50,"input",22),e.NdJ("change",function(l){return t.selectdata(l)}),e.qZA(),e._uU(51," Select All "),e.qZA()()(),e.YNc(52,mt,4,0,"tbody",23),e.TgZ(53,"tbody"),e.YNc(54,gt,21,7,"tr",24),e.qZA()()()(),e.YNc(55,_t,2,2,"div",25),e.qZA()()),2&i){const s=e.MAs(21);e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,ht,t.isShowPadding?"280px":"100px")),e.xp6(16),e.Q6J("matMenuTriggerFor",s),e.xp6(33),e.Q6J("checked",t.selectAll),e.xp6(2),e.Q6J("ngIf",0===t.deliveryDetail.length),e.xp6(2),e.Q6J("ngForOf",t.deliveryDetail),e.xp6(1),e.Q6J("ngIf",t.deliveryDetail.length>10)}},dependencies:[g.sg,g.O5,g.PC,h.rH,F.RK,y.Hw,T.VK,T.OP,T.p6,a.JJ,q.s,a.On,O.Qt]})}return o})();var P=m(6292);function vt(o,n){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.code)}}function Zt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function yt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function Tt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Plant is mandatory"),e.qZA()())}function At(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Plant is mandatory"),e.qZA()())}function qt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery is mandatory"),e.qZA()())}function Ct(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery is mandatory"),e.qZA()())}function St(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Ut(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Dt(o,n){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.customerId),e.xp6(1),e.Oqu(r.customerId)}}function bt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Nt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function It(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Ft(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Ot(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Pt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",41),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Gt(o,n){1&o&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function xt(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"td")(1,"mat-icon",51),e.NdJ("click",function(){e.CHM(r);const t=e.oxw().index,s=e.oxw();return e.KtG(s.deletedelivery(t))}),e._uU(2,"delete"),e.qZA()()}}function kt(o,n){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.materialId),e.xp6(1),e.Oqu(r.materialId)}}function Jt(o,n){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.code)}}function Et(o,n){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.description)}}function Qt(o,n){if(1&o&&(e.TgZ(0,"tr",42),e.YNc(1,xt,3,0,"td",13),e.TgZ(2,"td")(3,"select",14)(4,"option",11),e._uU(5,"Select plant"),e.qZA(),e.TgZ(6,"option",15),e._uU(7,"One"),e.qZA(),e.TgZ(8,"option",16),e._uU(9,"Two"),e.qZA(),e.TgZ(10,"option",17),e._uU(11,"Three"),e.qZA()()(),e.TgZ(12,"td"),e._UZ(13,"input",43),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"input",20),e.qZA(),e.TgZ(16,"td")(17,"select",44)(18,"option",11),e._uU(19," Select Product Id"),e.qZA(),e.YNc(20,kt,2,2,"option",12),e.qZA()(),e.TgZ(21,"td"),e._UZ(22,"input",45),e.qZA(),e.TgZ(23,"td")(24,"select",46)(25,"option",11),e._uU(26,"Select UOM"),e.qZA(),e.YNc(27,Jt,2,2,"option",12),e.qZA()(),e.TgZ(28,"td")(29,"select",47)(30,"option",15),e._uU(31,"One"),e.qZA(),e.TgZ(32,"option",16),e._uU(33,"Two"),e.qZA(),e.TgZ(34,"option",17),e._uU(35,"Three"),e.qZA()()(),e.TgZ(36,"td")(37,"select",48)(38,"option",11),e._uU(39,"Select Storage Location"),e.qZA(),e.YNc(40,Et,2,2,"option",12),e.qZA()(),e.TgZ(41,"td"),e._UZ(42,"input",49),e.qZA(),e.TgZ(43,"td"),e._UZ(44,"input",50),e.qZA()()),2&o){const r=n.index,i=e.oxw();e.Q6J("formGroupName",r),e.xp6(1),e.Q6J("ngIf",i.deliveryListArray.controls.length>1),e.xp6(3),e.Q6J("selected",""===i.deliveryFormGroup.value.plant),e.xp6(14),e.Q6J("selected",""===i.deliveryFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",i.productDetails),e.xp6(5),e.Q6J("selected",""===i.deliveryFormGroup.value.uomName),e.xp6(2),e.Q6J("ngForOf",i.uomDetail),e.xp6(11),e.Q6J("selected",""===i.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",i.storageLocationDetail)}}const Bt=function(o){return{"padding-left":o}};let Yt=(()=>{class o{constructor(r,i,t,s,l,d,p,c,_){this.fb=r,this.deliverySer=i,this.router=t,this._snackBar=s,this.productSer=l,this.plantDataSer=d,this.customerSer=p,this.idle=c,this.cd=_,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=a.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.productDetails=[],this.customerMasterDetail=[],this.deliveryTypeDetails=[],this.idleState="Not Started",c.setIdle(450),c.setTimeout(900),c.setInterrupts(f.WO),c.onIdleEnd.subscribe(()=>{this.idleState="Started",_.detectChanges()}),c.onTimeout.subscribe(()=>{this.idleState="Timeout"}),c.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.createDeliveryFormFields(),this.getAllUomDetail(),this.getStorageLocation(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getDeliveryTypeDetails(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createDeliveryFormFields(){this.deliveryFormGroup=this.fb.group({deliveryType:["",a.kI.required],plantId:["33",a.kI.required],plantName:[""],deliveryId:["",a.kI.required],deliveryDate:["",a.kI.required],customerId:["",a.kI.required],customerName:["11"],deliveryAddress:["",a.kI.required],deliveryPartner:["",a.kI.required],itemList:this.fb.array([this.getdeliveryFields()])})}getdeliveryFields(){return this.fb.group({plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomName:[""],openQty:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(r){this.deliveryListArray.removeAt(r)}submitData(){var r=this;return(0,u.Z)(function*(){try{r.isSubmitted=!0;const i=localStorage.getItem("userName");if(r.deliveryFormGroup.value.createdOn="18/12/2023",r.deliveryFormGroup.value.createdBy=i,r.deliveryFormGroup.value.changedOn="18/12/2023",r.deliveryFormGroup.value.changedBy=i,console.log(r.deliveryFormGroup.value),r.deliveryFormGroup.invalid)return;const t=yield r.deliverySer.createDeliveryDetails(r.deliveryFormGroup.value);if(console.log(t),"1"===t.status)return r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.router.navigate(["/sales/delivery-list"]);if("0"===t.status)return void r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllUOMDetails();"1"===i.status&&(r.uomDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.plantDataSer.getAllStorageLocationsDetails();"1"===i.status&&(r.storageLocationDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllProductDetails();"1"===i.status&&(r.productDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerSer.getAllCustomerDetails();"1"===i.status&&(r.customerMasterDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getDeliveryTypeDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.deliverySer.getAllDeliveryTypeDetails();"1"===i.status&&(r.deliveryTypeDetails=i.data,console.log(i))}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(I),e.Y36(h.F0),e.Y36(S.ux),e.Y36(N.M),e.Y36(P.v),e.Y36(b.v),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-delivery"]],decls:128,vars:27,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryType",1,"form-select"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","plantName",1,"form-select"],["value","1"],["value","2"],["value","3"],["for","delivery"],["type","text","formControlName","deliveryId","placeholder","Enter delivery",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select"],[1,"row","mt-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"py-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control"],["aria-label","Default select example","formControlName","materialId",1,"form-select"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty",1,"form-control"],["formControlName","uomName",1,"form-select"],["formControlName","openQty",1,"form-select"],["formControlName","storageLocationName",1,"form-select"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item",1,"form-control"],[2,"cursor","pointer",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return t.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Delivery Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10)(16,"option",11),e._uU(17,"Select Delivery Type"),e.qZA(),e.YNc(18,vt,2,2,"option",12),e.qZA(),e.YNc(19,Zt,3,0,"div",13),e.YNc(20,yt,3,0,"div",13),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Plant"),e.TgZ(24,"sup"),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"select",14)(27,"option",11),e._uU(28,"Select plant"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"One"),e.qZA(),e.TgZ(31,"option",16),e._uU(32,"Two"),e.qZA(),e.TgZ(33,"option",17),e._uU(34,"Three"),e.qZA()(),e.YNc(35,Tt,3,0,"div",13),e.YNc(36,At,3,0,"div",13),e.qZA(),e.TgZ(37,"div",8)(38,"label",18),e._uU(39,"Delivery #"),e.TgZ(40,"sup"),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",19),e.YNc(43,qt,3,0,"div",13),e.YNc(44,Ct,3,0,"div",13),e.qZA(),e.TgZ(45,"div",8)(46,"label",9),e._uU(47,"Delivery Date"),e.TgZ(48,"sup"),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",20),e.YNc(51,St,3,0,"div",13),e.YNc(52,Ut,3,0,"div",13),e.qZA(),e.TgZ(53,"div",8)(54,"label",9),e._uU(55,"Customer Id "),e.TgZ(56,"sup"),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"select",21)(59,"option",11),e._uU(60,"Select Customer Id "),e.qZA(),e.YNc(61,Dt,2,2,"option",12),e.qZA(),e.YNc(62,bt,3,0,"div",13),e.YNc(63,Nt,3,0,"div",13),e.qZA(),e.TgZ(64,"div",22)(65,"label",23),e._uU(66,"Delivery Address "),e.TgZ(67,"sup"),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",24),e.YNc(70,It,3,0,"div",13),e.YNc(71,Ft,3,0,"div",13),e.qZA(),e.TgZ(72,"div",25)(73,"label",9),e._uU(74,"Delivery Partner "),e.TgZ(75,"sup"),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"select",26)(78,"option",11),e._uU(79,"Select delivery Partner"),e.qZA(),e.TgZ(80,"option",15),e._uU(81,"One"),e.qZA(),e.TgZ(82,"option",16),e._uU(83,"Two"),e.qZA(),e.TgZ(84,"option",17),e._uU(85,"Three"),e.qZA()(),e.YNc(86,Ot,3,0,"div",13),e.YNc(87,Pt,3,0,"div",13),e.qZA()(),e.TgZ(88,"div",27)(89,"div",28)(90,"div",2)(91,"div",29)(92,"h3",30),e._uU(93," Item Data "),e.qZA()(),e.TgZ(94,"div",31)(95,"button",32),e.NdJ("click",function(){return t.adddelivery()}),e._uU(96,"Add"),e.qZA()()(),e.TgZ(97,"div",33)(98,"table",34)(99,"thead")(100,"tr"),e.YNc(101,Gt,2,0,"th",13),e.TgZ(102,"th"),e._uU(103,"Plant"),e.qZA(),e.TgZ(104,"th"),e._uU(105,"Delivery Item"),e.qZA(),e.TgZ(106,"th"),e._uU(107,"Delivery Date"),e.qZA(),e.TgZ(108,"th"),e._uU(109,"Product Id"),e.qZA(),e.TgZ(110,"th"),e._uU(111,"Delivery QTY"),e.qZA(),e.TgZ(112,"th"),e._uU(113,"UoM"),e.qZA(),e.TgZ(114,"th"),e._uU(115,"Open Qty"),e.qZA(),e.TgZ(116,"th"),e._uU(117,"Storage Location"),e.qZA(),e.TgZ(118,"th"),e._uU(119,"Reference sales order #"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"Reference sales order item #"),e.qZA()()(),e.TgZ(122,"tbody",35),e.YNc(123,Qt,45,9,"tr",36),e.qZA()()()()(),e.TgZ(124,"div",37)(125,"div",38)(126,"button",39),e._uU(127,"Save"),e.qZA()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(25,Bt,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.deliveryFormGroup),e.xp6(8),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryType),e.xp6(2),e.Q6J("ngForOf",t.deliveryTypeDetails),e.xp6(1),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryType.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.plant),e.xp6(8),e.Q6J("ngIf",t.deliveryFormGroup.controls.plantName.touched&&t.deliveryFormGroup.controls.plantName.touched&&t.deliveryFormGroup.controls.plantName.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.plantName.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryId.touched&&t.deliveryFormGroup.controls.deliveryId.touched&&t.deliveryFormGroup.controls.deliveryId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",t.customerMasterDetail),e.xp6(1),e.Q6J("ngIf",t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(14),e.Q6J("ngIf",t.deliveryListArray.controls.length>1),e.xp6(22),e.Q6J("ngForOf",t.deliveryListArray.controls))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,q.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return o})(),wt=(()=>{class o{constructor(){}exportToExcel(r,i,t){const s=[];console.log(s),r.map(c=>{c.itemList.map(_=>{_.itemData=c.itemData,s.push(_)})}),r.map(c=>{delete c.isLock,delete c.isActive,delete c.__v,delete c.check,delete c.itemList});const l=v.P6.book_new(),d=v.P6.json_to_sheet(r);v.P6.book_append_sheet(l,d,"Header");const p=v.P6.json_to_sheet(s);v.P6.book_append_sheet(l,p,"Item Data"),v.NC(l,`${i}.xlsx`)}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Lt=function(o){return{"padding-left":o}};let Mt=(()=>{class o{constructor(r,i,t,s){this.router=r,this.billingSer=i,this.idle=t,this.cd=s,this.isShowPadding=!1,this.sampleJson={billingType:"Domestic",billingDate:"SALES ORGANIZATION",referenceDocument:"D123",customerName:"Test",netValue:"1",taxAmount:"1",currency:"02/01/2024",exchangeRate:"SuperAdmin",companyCodeName:"1",customerAcctAssignName:"xyz",postingStatus:"1",paymentsTermsName:"1",IncoTermsName:"1",salesOrgName:"abx",distrubutionName:"block23",divisionName:"TCS234",modeofTransportName:"abc",netTax:1,netDiscount:1,netFreight:"1",otherCharges:"1",itemList:[{billiedQTY:"Tv",uom:"one",netWeight:"1",grossWeight:"xyz",uomWeight:"1",volumn:1,uomVolumn:1,salesOrder:"1",slaesOrderItem:"l",referenceDocument:"1",referenceDocumentItem:"1",priceDate:"1",serviceRenderedDate:"1",pricingAmount:"1",tax:"1",perUnitTax:"1",discount:"dollar",perUnitDiscount:"dollar",freight:"1",perUnitfreight:"1",otherCharges:"1",companyCurrency:"1",transactionCurrency:"1",exchangeRate:"1",hsnCode:"1",countryOrigin:"1",poNumber:"1",poDate:"1"}]},this.idleState="Not Started",t.setIdle(450),t.setTimeout(900),t.setInterrupts(f.WO),t.onIdleEnd.subscribe(()=>{this.idleState="Started",s.detectChanges()}),t.onTimeout.subscribe(()=>{this.idleState="Timeout"}),t.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}nextPage(r){this.router.navigate([`${r}`])}handleSideBar(r){this.isShowPadding=r}downloadExcel(){this.billingSer.exportToExcel([this.sampleJson],"Billing_Sample","Sheet1")}exportExcel(){this.billingSer.exportToExcel([this.sampleJson],"Billing_Details","Sheet1"),console.log(this.exportExcel)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(h.F0),e.Y36(wt),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-billing-list"]],decls:114,vars:5,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row","mt-3"],[1,"col-12"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6","mt-2"],["aria-label","Default select example",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-6"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-primary",2,"color","white","background","#00acff",3,"click"],[1,"btn","btn-danger"],[2,"line-height","34px"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"row","mt-4"],[1,"table-responsive"],[1,"table","table-hover"],["scope","col"],["type","checkbox"],["scope","row"],[1,"d-flex"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"select",5)(7,"option",6),e._uU(8,"Select Billing Type"),e.qZA(),e.TgZ(9,"option",7),e._uU(10,"Mark"),e.qZA(),e.TgZ(11,"option",8),e._uU(12,"Jack"),e.qZA(),e.TgZ(13,"option",9),e._uU(14,"Larry"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"button",12),e.NdJ("click",function(){return t.nextPage("/sales/add-billing")}),e._uU(18,"Add Billing"),e.qZA(),e.TgZ(19,"button",13)(20,"mat-icon",14),e._uU(21,"delete"),e.qZA(),e._uU(22," Delete Selected Billing"),e.qZA(),e.TgZ(23,"button",15)(24,"mat-icon"),e._uU(25,"more_vert"),e.qZA()(),e.TgZ(26,"mat-menu",null,16)(28,"button",17)(29,"span"),e._uU(30,"Import Billing"),e.qZA()(),e.TgZ(31,"button",18),e.NdJ("click",function(){return t.exportExcel()}),e.TgZ(32,"span"),e._uU(33,"Export Billing"),e.qZA()(),e.TgZ(34,"button",18),e.NdJ("click",function(){return t.downloadExcel()}),e.TgZ(35,"span"),e._uU(36,"Sample Billing Sheet"),e.qZA()()()()()(),e.TgZ(37,"div",19)(38,"div",3)(39,"div",20)(40,"table",21)(41,"thead")(42,"tr")(43,"th"),e._uU(44,"SN"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Billing Type"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Billing Date"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Customer Id"),e.qZA(),e.TgZ(51,"th",22),e._uU(52,"Action"),e.qZA(),e.TgZ(53,"th",22),e._UZ(54,"input",23),e._uU(55," Select All"),e.qZA()()(),e.TgZ(56,"tbody")(57,"tr")(58,"th",24),e._uU(59,"1"),e.qZA(),e.TgZ(60,"td"),e._uU(61,"Mark"),e.qZA(),e.TgZ(62,"td"),e._uU(63,"Otto"),e.qZA(),e.TgZ(64,"td"),e._uU(65,"mdo"),e.qZA(),e.TgZ(66,"td")(67,"div",25)(68,"div")(69,"mat-icon"),e._uU(70,"edit"),e.qZA()(),e.TgZ(71,"div")(72,"mat-icon"),e._uU(73,"delete"),e.qZA()()()(),e.TgZ(74,"td"),e._UZ(75,"input",23),e.qZA()(),e.TgZ(76,"tr")(77,"th",24),e._uU(78,"2"),e.qZA(),e.TgZ(79,"td"),e._uU(80,"Jacob"),e.qZA(),e.TgZ(81,"td"),e._uU(82,"Thornton"),e.qZA(),e.TgZ(83,"td"),e._uU(84,"fat"),e.qZA(),e.TgZ(85,"td")(86,"div",25)(87,"div")(88,"mat-icon"),e._uU(89,"edit"),e.qZA()(),e.TgZ(90,"div")(91,"mat-icon"),e._uU(92,"delete"),e.qZA()()()(),e.TgZ(93,"td"),e._UZ(94,"input",23),e.qZA()(),e.TgZ(95,"tr")(96,"th",24),e._uU(97,"3"),e.qZA(),e.TgZ(98,"td"),e._uU(99,"Larry"),e.qZA(),e.TgZ(100,"td"),e._uU(101,"the Bird"),e.qZA(),e.TgZ(102,"td"),e._uU(103,"twitter"),e.qZA(),e.TgZ(104,"td")(105,"div",25)(106,"div")(107,"mat-icon"),e._uU(108,"edit"),e.qZA()(),e.TgZ(109,"div")(110,"mat-icon"),e._uU(111,"delete"),e.qZA()()()(),e.TgZ(112,"td"),e._UZ(113,"input",23),e.qZA()()()()()()()()()()),2&i){const s=e.MAs(27);e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(3,Lt,t.isShowPadding?"280px":"100px")),e.xp6(22),e.Q6J("matMenuTriggerFor",s)}},dependencies:[g.PC,F.RK,y.Hw,T.VK,T.OP,T.p6,a.YN,a.Kr,q.s]})}return o})();function zt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function Vt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Billing Type is mandatory"),e.qZA()())}function Rt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function $t(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function jt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Value is mandatory"),e.qZA()())}function Wt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Value is mandatory"),e.qZA()())}function Kt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function Ht(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Tax Amount is mandatory"),e.qZA()())}function Xt(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Currency is mandatory"),e.qZA()())}function er(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Currency is mandatory"),e.qZA()())}function tr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function rr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Exchange Rate is mandatory"),e.qZA()())}function or(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Company Code is mandatory"),e.qZA()())}function ir(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Company Code is mandatory"),e.qZA()())}function nr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function ar(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function sr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function lr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Posting Status is mandatory"),e.qZA()())}function dr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function ur(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Payment Term is mandatory"),e.qZA()())}function cr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function pr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Inco Term is mandatory"),e.qZA()())}function mr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function gr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function _r(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function hr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Distribution Channel is mandatory"),e.qZA()())}function fr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Division is mandatory"),e.qZA()())}function vr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Division is mandatory"),e.qZA()())}function Zr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function yr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Mode Of Transport is mandatory"),e.qZA()())}function Tr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Ar(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function qr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Cr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Sr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Ur(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Dr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function br(o,n){1&o&&(e.TgZ(0,"div")(1,"p",62),e._uU(2,"Other Charge is mandatory"),e.qZA()())}function Nr(o,n){1&o&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function Ir(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"td")(1,"mat-icon",93),e.NdJ("click",function(){e.CHM(r);const t=e.oxw().index,s=e.oxw();return e.KtG(s.deleteFinancial(t))}),e._uU(2,"delete"),e.qZA()()}}function Fr(o,n){if(1&o&&(e.TgZ(0,"tr",63),e.YNc(1,Ir,3,0,"td",15),e.TgZ(2,"td"),e._UZ(3,"input",64),e.qZA(),e.TgZ(4,"td")(5,"select",65)(6,"option",11),e._uU(7,"Select UoM"),e.qZA(),e.TgZ(8,"option",12),e._uU(9,"One"),e.qZA(),e.TgZ(10,"option",13),e._uU(11,"Two"),e.qZA(),e.TgZ(12,"option",14),e._uU(13,"Three"),e.qZA()()(),e.TgZ(14,"td"),e._UZ(15,"input",66),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"input",67),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"input",68),e.qZA(),e.TgZ(20,"td"),e._UZ(21,"input",69),e.qZA(),e.TgZ(22,"td"),e._UZ(23,"input",70),e.qZA(),e.TgZ(24,"td"),e._UZ(25,"input",71),e.qZA(),e.TgZ(26,"td"),e._UZ(27,"input",72),e.qZA(),e.TgZ(28,"td"),e._UZ(29,"input",73),e.qZA(),e.TgZ(30,"td"),e._UZ(31,"input",74),e.qZA(),e.TgZ(32,"td"),e._UZ(33,"input",75),e.qZA(),e.TgZ(34,"td"),e._UZ(35,"input",76),e.qZA(),e.TgZ(36,"td")(37,"select",77),e._UZ(38,"option",78),e.TgZ(39,"option",12),e._uU(40,"One"),e.qZA(),e.TgZ(41,"option",13),e._uU(42,"Two"),e.qZA(),e.TgZ(43,"option",14),e._uU(44,"Three"),e.qZA()()(),e.TgZ(45,"td"),e._UZ(46,"input",79),e.qZA(),e.TgZ(47,"td"),e._UZ(48,"input",80),e.qZA(),e.TgZ(49,"td"),e._UZ(50,"input",81),e.qZA(),e.TgZ(51,"td"),e._UZ(52,"input",82),e.qZA(),e.TgZ(53,"td"),e._UZ(54,"input",83),e.qZA(),e.TgZ(55,"td"),e._UZ(56,"input",84),e.qZA(),e.TgZ(57,"td")(58,"select",85),e._UZ(59,"option",78),e.TgZ(60,"option",12),e._uU(61,"One"),e.qZA(),e.TgZ(62,"option",13),e._uU(63,"Two"),e.qZA(),e.TgZ(64,"option",14),e._uU(65,"Three"),e.qZA()()(),e.TgZ(66,"td")(67,"select",86),e._UZ(68,"option",78),e.TgZ(69,"option",12),e._uU(70,"One"),e.qZA(),e.TgZ(71,"option",13),e._uU(72,"Two"),e.qZA(),e.TgZ(73,"option",14),e._uU(74,"Three"),e.qZA()()(),e.TgZ(75,"td"),e._UZ(76,"input",87),e.qZA(),e.TgZ(77,"td"),e._UZ(78,"input",88),e.qZA(),e.TgZ(79,"td")(80,"select",89),e._UZ(81,"option",78),e.TgZ(82,"option",12),e._uU(83,"One"),e.qZA(),e.TgZ(84,"option",13),e._uU(85,"Two"),e.qZA(),e.TgZ(86,"option",14),e._uU(87,"Three"),e.qZA()()(),e.TgZ(88,"td")(89,"select",90),e._UZ(90,"option",78),e.TgZ(91,"option",12),e._uU(92,"One"),e.qZA(),e.TgZ(93,"option",13),e._uU(94,"Two"),e.qZA(),e.TgZ(95,"option",14),e._uU(96,"Three"),e.qZA()()(),e.TgZ(97,"td"),e._UZ(98,"input",91),e.qZA(),e.TgZ(99,"td"),e._UZ(100,"input",92),e.qZA()()),2&o){const r=n.index,i=e.oxw();e.Q6J("formGroupName",r),e.xp6(1),e.Q6J("ngIf",i.financialListArray.controls.length>1),e.xp6(5),e.Q6J("selected",""===i.productFromGroup.value.uom)}}const Or=function(o){return{"padding-left":o}};let Pr=(()=>{class o{constructor(r,i,t){this.fb=r,this.idle=i,this.cd=t,this.isSubmitted=!1,this.isShowPadding=!1,this.productFromGroup=a.cw,this.countryLists="",this.idleState="Not Started",i.setIdle(450),i.setTimeout(900),i.setInterrupts(f.WO),i.onIdleEnd.subscribe(()=>{this.idleState="Started",t.detectChanges()}),i.onTimeout.subscribe(()=>{this.idleState="Timeout"}),i.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.createProductFormFields(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createProductFormFields(){this.productFromGroup=this.fb.group({billingType:["",a.kI.required],billingDate:["",a.kI.required],referenceDocument:["",a.kI.required],customerId:["",a.kI.required],netValue:["",a.kI.required],taxAmount:["",a.kI.required],currency:["",a.kI.required],exchangeRate:["",a.kI.required],companyCode:["",a.kI.required],customerAccount:["",a.kI.required],postingStatus:["",a.kI.required],paymentTerm:["",a.kI.required],incrementTearm:["",a.kI.required],salesOrg:["",a.kI.required],distributionChannel:["",a.kI.required],division:["",a.kI.required],modeOfTransport:["",a.kI.required],netTax:["",a.kI.required],netDiscount:["",a.kI.required],netFreight:["",a.kI.required],otherCharge:["",a.kI.required],financialList:this.fb.array([this.getFinancialFields()])})}getFinancialFields(){return this.fb.group({buildQty:[""],uom:[""],grossweight:[""],netWeight:[""],volume:[""],salesorder:[""],salesorderitem:[""],referenceDoc:[""],pricingDate:[""],servicerender:[""],priceAmount:[""],perunitPrice:[""],pricingUnit:[""],tax:[""],perUnitTax:[""],discount:[""],perDiscount:[""],freight:[""],perFreight:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],hsn:[""],countryOrigin:[""],destination:[""],poNumber:[""],poDate:[""]})}get financialListArray(){return this.productFromGroup.get("financialList")}addFinancial(){this.financialListArray.push(this.getFinancialFields())}deleteFinancial(r){this.financialListArray.removeAt(r)}addAllBilling(){this.isSubmitted=!0,console.log(this.productFromGroup)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-billing"]],decls:330,vars:56,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/billing-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2","mt-2"],["for",""],["formControlName","billingType",1,"form-select"],["value","","hidden","",3,"selected"],["value","1"],["value","2"],["value","3"],[4,"ngIf"],["for","BillingDate"],["type","date","formControlName","billingDate",1,"form-control"],[1,"col-6","py-2","mt-4"],["for","ReferenceDoc"],["type","text","formControlName","referenceDoc","placeholder","Enter Reference Document",1,"form-control"],[1,"col-6","py-2"],["for","CustomerId"],["type","text","formControlName","customerId","placeholder","Enter Customer Id",1,"form-control"],["for","NetValue"],["type","number","formControlName","netValue","placeholder","Enter Net Value",1,"form-control"],[1,"col-6","py-2","mt-4","mb-2"],["for","TaxAmount"],["type","number","formControlName","taxAmount","placeholder","Enter Tax Amount",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","currency",1,"form-select"],["for","ExchaneRate"],["type","number","formControlName","exchangeRate","placeholder","Exchange Rate",1,"form-control"],["for","Company"],["formControlName","companyCode",1,"form-select"],["formControlName","customerAccount",1,"form-select"],["formControlName","postingStatus",1,"form-select"],["formControlName","paymentTerm",1,"form-select"],["formControlName","incrementTearm",1,"form-select"],["formControlName","salesOrg",1,"form-select"],["formControlName","distributionChannel",1,"form-select"],["formControlName","division",1,"form-select"],["formControlName","modeOfTransport",1,"form-select"],["for","NetTax"],["type","number","formControlName","netTax","placeholder","Net Tax",1,"form-control"],["for","NetDiscount"],["type","number","formControlName","netDiscount","placeholder","Net Discount",1,"form-control"],["for","netFreight"],["type","number","formControlName","netFreight","placeholder","Net Freight",1,"form-control"],["for","OtherCharge"],["type","number","formControlName","otherCharge","placeholder","Other Charge",1,"form-control"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","financialList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[1,"error-message"],[3,"formGroupName"],["type","number","formControlName","buildQty","placeholder","enter Build Qty",1,"form-control"],["formControlName","uom",1,"form-select"],["type","number","formControlName","netWeight","placeholder","enter net weight",1,"form-control"],["type","text","formControlName","grossweight","placeholder","enter gross weight.",1,"form-control"],["type","text","formControlName","volume","placeholder","enter volume.",1,"form-control"],["type","text","formControlName","salesorder","placeholder","enter sales order.",1,"form-control"],["type","text","formControlName","salesorderitem","placeholder","enter sales item",1,"form-control"],["type","text","formControlName","referenceDoc","placeholder","enter reference document",1,"form-control"],["type","date","formControlName","pricingDate",1,"form-control"],["type","date","formControlName","servicerender",1,"form-control"],["type","number","formControlName","priceAmount","placeholder","enter price Amount",1,"form-control"],["type","number","formControlName","perunitPrice",1,"form-control"],["type","number","formControlName","pricingUnit",1,"form-control"],[1,"form-select"],["selected",""],["type","number","formControlName","tax",1,"form-control"],["type","number","formControlName","perUnitTax",1,"form-control"],["type","number","formControlName","discount",1,"form-control"],["type","number","formControlName","perDiscount",1,"form-control"],["type","number","formControlName","freight",1,"form-control"],["type","number","formControlName","perFreight",1,"form-control"],["formControlName","companyCurrency",1,"form-select"],["formControlName","transactionCurrency",1,"form-select"],["type","number","formControlName","exchangeRate",1,"form-control"],["type","text","formControlName","hsn",1,"form-control"],["formControlName","countryOrigin",1,"form-select"],["formControlName","destination",1,"form-select"],["type","text","formControlName","poNumber",1,"form-control"],["type","date","formControlName","poDate",1,"form-control"],[2,"cursor","pointer",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Billing Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return t.addAllBilling()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Billing Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10)(16,"option",11),e._uU(17,"Select Billing Type"),e.qZA(),e.TgZ(18,"option",12),e._uU(19,"One"),e.qZA(),e.TgZ(20,"option",13),e._uU(21,"Two"),e.qZA(),e.TgZ(22,"option",14),e._uU(23,"Three"),e.qZA()(),e.YNc(24,zt,3,0,"div",15),e.YNc(25,Vt,3,0,"div",15),e.qZA(),e.TgZ(26,"div",8)(27,"label",16),e._uU(28,"Billing Date"),e.qZA(),e._UZ(29,"input",17),e.qZA(),e.TgZ(30,"div",18)(31,"label",19),e._uU(32,"Reference Doc"),e.qZA(),e._UZ(33,"input",20),e.qZA(),e.TgZ(34,"div",21)(35,"label",22),e._uU(36,"Customer Id "),e.TgZ(37,"sup"),e._uU(38,"*"),e.qZA()(),e._UZ(39,"input",23),e.YNc(40,Rt,3,0,"div",15),e.YNc(41,$t,3,0,"div",15),e.qZA(),e.TgZ(42,"div",18)(43,"label",24),e._uU(44,"Net Value"),e.qZA(),e._UZ(45,"input",25),e.YNc(46,jt,3,0,"div",15),e.YNc(47,Wt,3,0,"div",15),e.qZA(),e.TgZ(48,"div",26)(49,"label",27),e._uU(50,"Tax Amount"),e.qZA(),e._UZ(51,"input",28),e.YNc(52,Kt,3,0,"div",15),e.YNc(53,Ht,3,0,"div",15),e.qZA(),e.TgZ(54,"div",29)(55,"label",9),e._uU(56,"Currency "),e.TgZ(57,"sup"),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"select",30)(60,"option",11),e._uU(61,"Select Currency"),e.qZA(),e.TgZ(62,"option",12),e._uU(63,"One"),e.qZA(),e.TgZ(64,"option",13),e._uU(65,"Two"),e.qZA(),e.TgZ(66,"option",14),e._uU(67,"Three"),e.qZA()(),e.YNc(68,Xt,3,0,"div",15),e.YNc(69,er,3,0,"div",15),e.qZA(),e.TgZ(70,"div",21)(71,"label",31),e._uU(72,"Exchange Rate "),e.TgZ(73,"sup"),e._uU(74,"*"),e.qZA()(),e._UZ(75,"input",32),e.YNc(76,tr,3,0,"div",15),e.YNc(77,rr,3,0,"div",15),e.qZA(),e.TgZ(78,"div",29)(79,"label",33),e._uU(80,"Company Code "),e.TgZ(81,"sup"),e._uU(82,"*"),e.qZA()(),e.TgZ(83,"select",34)(84,"option",11),e._uU(85,"Select Company Code"),e.qZA(),e.TgZ(86,"option",12),e._uU(87,"One"),e.qZA(),e.TgZ(88,"option",13),e._uU(89,"Two"),e.qZA(),e.TgZ(90,"option",14),e._uU(91,"Three"),e.qZA()(),e.YNc(92,or,3,0,"div",15),e.YNc(93,ir,3,0,"div",15),e.qZA(),e.TgZ(94,"div",29)(95,"label",9),e._uU(96,"Customer Account AG "),e.TgZ(97,"sup"),e._uU(98,"*"),e.qZA()(),e.TgZ(99,"select",35)(100,"option",11),e._uU(101,"Enter Customer Account AG"),e.qZA(),e.TgZ(102,"option",12),e._uU(103,"One"),e.qZA(),e.TgZ(104,"option",13),e._uU(105,"Two"),e.qZA(),e.TgZ(106,"option",14),e._uU(107,"Three"),e.qZA()(),e.YNc(108,nr,3,0,"div",15),e.YNc(109,ar,3,0,"div",15),e.qZA(),e.TgZ(110,"div",29)(111,"label",9),e._uU(112,"Posting Status "),e.TgZ(113,"sup"),e._uU(114,"*"),e.qZA()(),e.TgZ(115,"select",36)(116,"option",11),e._uU(117,"Enter Posting Status"),e.qZA(),e.TgZ(118,"option",12),e._uU(119,"One"),e.qZA(),e.TgZ(120,"option",13),e._uU(121,"Two"),e.qZA(),e.TgZ(122,"option",14),e._uU(123,"Three"),e.qZA()(),e.YNc(124,sr,3,0,"div",15),e.YNc(125,lr,3,0,"div",15),e.qZA(),e.TgZ(126,"div",29)(127,"label",9),e._uU(128,"Payment Terms "),e.TgZ(129,"sup"),e._uU(130,"*"),e.qZA()(),e.TgZ(131,"select",37)(132,"option",11),e._uU(133,"Select Payment Term"),e.qZA(),e.TgZ(134,"option",12),e._uU(135,"One"),e.qZA(),e.TgZ(136,"option",13),e._uU(137,"Two"),e.qZA(),e.TgZ(138,"option",14),e._uU(139,"Three"),e.qZA()(),e.YNc(140,dr,3,0,"div",15),e.YNc(141,ur,3,0,"div",15),e.qZA(),e.TgZ(142,"div",29)(143,"label",9),e._uU(144,"Inco Terms "),e.TgZ(145,"sup"),e._uU(146,"*"),e.qZA()(),e.TgZ(147,"select",38)(148,"option",11),e._uU(149,"Select Inco Term"),e.qZA(),e.TgZ(150,"option",12),e._uU(151,"One"),e.qZA(),e.TgZ(152,"option",13),e._uU(153,"Two"),e.qZA(),e.TgZ(154,"option",14),e._uU(155,"Three"),e.qZA()(),e.YNc(156,cr,3,0,"div",15),e.YNc(157,pr,3,0,"div",15),e.qZA(),e.TgZ(158,"div",29)(159,"label",9),e._uU(160,"Sales Org "),e.TgZ(161,"sup"),e._uU(162,"*"),e.qZA()(),e.TgZ(163,"select",39)(164,"option",11),e._uU(165,"Select Sales Org"),e.qZA(),e.TgZ(166,"option",12),e._uU(167,"One"),e.qZA(),e.TgZ(168,"option",13),e._uU(169,"Two"),e.qZA(),e.TgZ(170,"option",14),e._uU(171,"Three"),e.qZA()(),e.YNc(172,mr,3,0,"div",15),e.YNc(173,gr,3,0,"div",15),e.qZA(),e.TgZ(174,"div",29)(175,"label",9),e._uU(176,"Distribution Channel "),e.TgZ(177,"sup"),e._uU(178,"*"),e.qZA()(),e.TgZ(179,"select",40)(180,"option",11),e._uU(181,"Select Distribution Channel "),e.qZA(),e.TgZ(182,"option",12),e._uU(183,"One"),e.qZA(),e.TgZ(184,"option",13),e._uU(185,"Two"),e.qZA(),e.TgZ(186,"option",14),e._uU(187,"Three"),e.qZA()(),e.YNc(188,_r,3,0,"div",15),e.YNc(189,hr,3,0,"div",15),e.qZA(),e.TgZ(190,"div",29)(191,"label",9),e._uU(192,"Division "),e.TgZ(193,"sup"),e._uU(194,"*"),e.qZA()(),e.TgZ(195,"select",41)(196,"option",11),e._uU(197,"Select Division"),e.qZA(),e.TgZ(198,"option",12),e._uU(199,"One"),e.qZA(),e.TgZ(200,"option",13),e._uU(201,"Two"),e.qZA(),e.TgZ(202,"option",14),e._uU(203,"Three"),e.qZA()(),e.YNc(204,fr,3,0,"div",15),e.YNc(205,vr,3,0,"div",15),e.qZA(),e.TgZ(206,"div",29)(207,"label",9),e._uU(208,"Mode Of Transport "),e.TgZ(209,"sup"),e._uU(210,"*"),e.qZA()(),e.TgZ(211,"select",42)(212,"option",11),e._uU(213,"Select Mode Of Transport"),e.qZA(),e.TgZ(214,"option",12),e._uU(215,"One"),e.qZA(),e.TgZ(216,"option",13),e._uU(217,"Two"),e.qZA(),e.TgZ(218,"option",14),e._uU(219,"Three"),e.qZA()(),e.YNc(220,Zr,3,0,"div",15),e.YNc(221,yr,3,0,"div",15),e.qZA(),e.TgZ(222,"div",29)(223,"label",43),e._uU(224,"Net Tax "),e.TgZ(225,"sup"),e._uU(226,"*"),e.qZA()(),e._UZ(227,"input",44),e.YNc(228,Tr,3,0,"div",15),e.YNc(229,Ar,3,0,"div",15),e.qZA(),e.TgZ(230,"div",29)(231,"label",45),e._uU(232,"Net Discount "),e.TgZ(233,"sup"),e._uU(234,"*"),e.qZA()(),e._UZ(235,"input",46),e.YNc(236,qr,3,0,"div",15),e.YNc(237,Cr,3,0,"div",15),e.qZA(),e.TgZ(238,"div",29)(239,"label",47),e._uU(240,"Net Freight "),e.TgZ(241,"sup"),e._uU(242,"*"),e.qZA()(),e._UZ(243,"input",48),e.YNc(244,Sr,3,0,"div",15),e.YNc(245,Ur,3,0,"div",15),e.qZA(),e.TgZ(246,"div",29)(247,"label",49),e._uU(248,"Other Charges "),e.TgZ(249,"sup"),e._uU(250,"*"),e.qZA()(),e._UZ(251,"input",50),e.YNc(252,Dr,3,0,"div",15),e.YNc(253,br,3,0,"div",15),e.qZA()(),e.TgZ(254,"div",51)(255,"div",52)(256,"div",2)(257,"div",53)(258,"h3",4),e._uU(259," Item Data "),e.qZA()(),e.TgZ(260,"div",54)(261,"button",55),e.NdJ("click",function(){return t.addFinancial()}),e._uU(262,"Add"),e.qZA()()(),e.TgZ(263,"div",56)(264,"table",57)(265,"thead")(266,"tr"),e.YNc(267,Nr,2,0,"th",15),e.TgZ(268,"th"),e._uU(269,"Builde Qty"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"UOM"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Net Weight"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Gross Weight"),e.qZA(),e.TgZ(276,"th"),e._uU(277," Volume"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Sales Order"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Sales Order Item"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"Reference Doc"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Pricing Date"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Service rendered date"),e.qZA(),e.TgZ(288,"th"),e._uU(289,"Price Amount"),e.qZA(),e.TgZ(290,"th"),e._uU(291,"Per unit Price"),e.qZA(),e.TgZ(292,"th"),e._uU(293,"Pricing unit"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"Pricing UoM"),e.qZA(),e.TgZ(296,"th"),e._uU(297,"Tax"),e.qZA(),e.TgZ(298,"th"),e._uU(299,"Per Unit Tax"),e.qZA(),e.TgZ(300,"th"),e._uU(301,"Discount"),e.qZA(),e.TgZ(302,"th"),e._uU(303,"Per Unit Discount"),e.qZA(),e.TgZ(304,"th"),e._uU(305,"Freight"),e.qZA(),e.TgZ(306,"th"),e._uU(307,"Per Unit Freight"),e.qZA(),e.TgZ(308,"th"),e._uU(309,"Company Currency"),e.qZA(),e.TgZ(310,"th"),e._uU(311,"Transaction Currency"),e.qZA(),e.TgZ(312,"th"),e._uU(313,"Exchange Rate"),e.qZA(),e.TgZ(314,"th"),e._uU(315,"HSN"),e.qZA(),e.TgZ(316,"th"),e._uU(317,"Country Of Origin"),e.qZA(),e.TgZ(318,"th"),e._uU(319,"Destination Country"),e.qZA(),e.TgZ(320,"th"),e._uU(321,"PO Number"),e.qZA(),e.TgZ(322,"th"),e._uU(323,"PO Date"),e.qZA()()(),e.TgZ(324,"tbody",58),e.YNc(325,Fr,101,3,"tr",59),e.qZA()()()()(),e.TgZ(326,"div",51)(327,"div",60)(328,"button",61),e._uU(329,"Save"),e.qZA()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(54,Or,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.productFromGroup),e.xp6(8),e.Q6J("selected",""===t.productFromGroup.value.billingType),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.billingType.touched&&t.productFromGroup.controls.billingType.touched&&t.productFromGroup.controls.billingType.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.billingType.hasError("required")),e.xp6(15),e.Q6J("ngIf",t.productFromGroup.controls.customerId.touched&&t.productFromGroup.controls.customerId.touched&&t.productFromGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",t.productFromGroup.controls.netValue.touched&&t.productFromGroup.controls.netValue.touched&&t.productFromGroup.controls.netValue.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.netValue.hasError("required")),e.xp6(5),e.Q6J("ngIf",t.productFromGroup.controls.taxAmount.touched&&t.productFromGroup.controls.taxAmount.touched&&t.productFromGroup.controls.taxAmount.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.taxAmount.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.currency),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.currency.touched&&t.productFromGroup.controls.currency.touched&&t.productFromGroup.controls.currency.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.currency.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.productFromGroup.controls.exchangeRate.touched&&t.productFromGroup.controls.exchangeRate.touched&&t.productFromGroup.controls.exchangeRate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.exchangeRate.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.companyCode),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.companyCode.touched&&t.productFromGroup.controls.companyCode.touched&&t.productFromGroup.controls.companyCode.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.companyCode.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.customerAccount),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.customerAccount.touched&&t.productFromGroup.controls.customerAccount.touched&&t.productFromGroup.controls.customerAccount.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.customerAccount.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.postingStatus),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.postingStatus.touched&&t.productFromGroup.controls.postingStatus.touched&&t.productFromGroup.controls.postingStatus.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.postingStatus.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.paymentTerm),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.paymentTerm.touched&&t.productFromGroup.controls.paymentTerm.touched&&t.productFromGroup.controls.paymentTerm.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.paymentTerm.hasError("required")),e.xp6(7),e.Q6J("selected",""==t.productFromGroup.value.incrementTearm),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.incrementTearm.touched&&t.productFromGroup.controls.incrementTearm.touched&&t.productFromGroup.controls.incrementTearm.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.incrementTearm.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.salesOrg),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.salesOrg.touched&&t.productFromGroup.controls.salesOrg.touched&&t.productFromGroup.controls.salesOrg.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.salesOrg.hasError("required")),e.xp6(7),e.Q6J("selected",""==t.productFromGroup.value.distributionChannel),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.distributionChannel.touched&&t.productFromGroup.controls.distributionChannel.touched&&t.productFromGroup.controls.distributionChannel.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.distributionChannel.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.division),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.division.touched&&t.productFromGroup.controls.division.touched&&t.productFromGroup.controls.division.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.division.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.productFromGroup.value.modeOfTransport),e.xp6(8),e.Q6J("ngIf",t.productFromGroup.controls.modeOfTransport.touched&&t.productFromGroup.controls.modeOfTransport.touched&&t.productFromGroup.controls.modeOfTransport.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.modeOfTransport.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.productFromGroup.controls.netTax.touched&&t.productFromGroup.controls.netTax.touched&&t.productFromGroup.controls.netTax.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.productFromGroup.controls.netDiscount.touched&&t.productFromGroup.controls.netDiscount.touched&&t.productFromGroup.controls.netDiscount.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.productFromGroup.controls.netFreight.touched&&t.productFromGroup.controls.netFreight.touched&&t.productFromGroup.controls.netFreight.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.productFromGroup.controls.otherCharge.touched&&t.productFromGroup.controls.otherCharge.touched&&t.productFromGroup.controls.otherCharge.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.productFromGroup.controls.otherCharge.hasError("required")),e.xp6(14),e.Q6J("ngIf",t.financialListArray.controls.length>1),e.xp6(58),e.Q6J("ngForOf",t.financialListArray.controls))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,q.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return o})();var Gr=m(3519),H=m.n(Gr);function xr(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.description,"")}}function kr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Type is mandatory"),e.qZA()())}function Jr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Type is mandatory"),e.qZA()())}function Er(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.salesOrg,"")}}function Qr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Br(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sales Org is mandatory"),e.qZA()())}function Yr(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.distributionChannel," ")}}function wr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function Lr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Distribution Channels is mandatory"),e.qZA()())}function Mr(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.divion,"")}}function zr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Division is mandatory"),e.qZA()())}function Vr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Division is mandatory"),e.qZA()())}function Rr(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.companyCode,"")}}function $r(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.customerId),e.xp6(1),e.hij(" ",r.customerId,"")}}function jr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function Wr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Id is mandatory"),e.qZA()())}function Kr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function Hr(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Address is mandatory"),e.qZA()())}function Xr(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.hij(" ",r.code,"")}}function eo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function to(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Sale Order is mandatory"),e.qZA()())}function ro(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function oo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO is mandatory"),e.qZA()())}function io(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer PO Date is mandatory"),e.qZA()())}function no(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"PO Date is mandatory"),e.qZA()())}function ao(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function so(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Req Delivery Date is mandatory"),e.qZA()())}function lo(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.orderStatus," ")}}function uo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Status is mandatory"),e.qZA()())}function co(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Order Status is mandatory"),e.qZA()())}function po(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.modeOfTransport,"")}}function mo(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.paymentTerm," ")}}function go(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.billingBlock," ")}}function _o(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.customerAccountAG,"")}}function ho(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function fo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Customer Account is mandatory"),e.qZA()())}function vo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Price is mandatory"),e.qZA()())}function Zo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Price is mandatory"),e.qZA()())}function yo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function To(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Tax is mandatory"),e.qZA()())}function Ao(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function qo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Discount is mandatory"),e.qZA()())}function Co(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function So(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Net Freight is mandatory"),e.qZA()())}function Uo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function Do(o,n){1&o&&(e.TgZ(0,"div")(1,"p",55),e._uU(2,"Other Charges is mandatory"),e.qZA()())}function bo(o,n){1&o&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function No(o,n){if(1&o&&(e.TgZ(0,"option",90),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("disabled",r.disable)("value",r.materialId),e.xp6(1),e.hij(" ",r.materialId,"")}}function Io(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.baseUnitMeasure,"")}}const X=function(o){return{display:o}};function Fo(o,n){if(1&o&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&o){const r=n.$implicit,i=e.oxw().$implicit,t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,X,t.value.materialId===i.materialId?"block":"none"))("value",r.deliveringPlantId),e.xp6(1),e.hij(" ",r.deliveringPlantName," ")}}function Oo(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Fo,2,5,"option",91),e.ALo(2,"filterPipes"),e.BQk()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,r.salesData,"deliveringPlantName"))}}function Po(o,n){if(1&o&&(e.TgZ(0,"option",92),e._uU(1),e.qZA()),2&o){const r=n.$implicit,i=e.oxw().$implicit,t=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(3,X,t.value.materialId===i.materialId?"block":"none"))("value",r.storageLocationId),e.xp6(1),e.hij(" ",r.storageLocationName," ")}}function Go(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Po,2,5,"option",91),e.ALo(2,"filterPipes"),e.BQk()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,r.plantData,"storageLocationName"))}}function xo(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.code)}}function ko(o,n){if(1&o&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.orderStatus," ")}}const ee=function(o){return{cursor:o}},Jo=function(o){return{"pointer-events":o}};function Eo(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"tr",56)(1,"td")(2,"div",57)(3,"div")(4,"mat-icon",58),e.NdJ("click",function(){const t=e.CHM(r),s=t.index,l=t.$implicit,d=e.oxw();return e.KtG(d.deleteSalesItem(s,l.value.orderStatusName))}),e._uU(5,"delete"),e.qZA()(),e.TgZ(6,"div",59)(7,"input",60),e.NdJ("change",function(t){const s=e.CHM(r),l=s.index,d=s.$implicit,p=e.oxw();return e.KtG(p.handleDeliveryDetails(t,l,d.value.orderStatusName))}),e.qZA()()()(),e.TgZ(8,"td")(9,"select",61),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.handleMaterial(t,l))}),e.TgZ(10,"option",11),e._uU(11," Select Product Id"),e.qZA(),e.YNc(12,No,2,3,"option",62),e.ALo(13,"filterPipes"),e.qZA()(),e.TgZ(14,"td"),e._UZ(15,"input",63),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"input",64),e.qZA(),e.TgZ(18,"td")(19,"select",65)(20,"option",11),e._uU(21," Select UOM"),e.qZA(),e.YNc(22,Io,2,2,"option",12),e.ALo(23,"filterPipes"),e.qZA()(),e.TgZ(24,"td")(25,"select",66),e.NdJ("change",function(t){const s=e.CHM(r),l=s.$implicit,d=s.index,p=e.oxw();return e.KtG(p.handlePlant(t,l.value.materialId,d))}),e.TgZ(26,"option",11),e._uU(27," Select Plant "),e.qZA(),e.YNc(28,Oo,3,4,"ng-container",67),e.qZA()(),e.TgZ(29,"td")(30,"select",68),e.NdJ("change",function(t){const s=e.CHM(r),l=s.$implicit,d=s.index,p=e.oxw();return e.KtG(p.handleStorage(t,l.value.materialId,d))}),e.TgZ(31,"option",11),e._uU(32," Select storage Location "),e.qZA(),e.YNc(33,Go,3,4,"ng-container",67),e.qZA()(),e.TgZ(34,"td"),e._UZ(35,"input",69),e.qZA(),e.TgZ(36,"td"),e._UZ(37,"input",70),e.qZA(),e.TgZ(38,"td"),e._UZ(39,"input",71),e.qZA(),e.TgZ(40,"td"),e._UZ(41,"input",72),e.qZA(),e.TgZ(42,"td")(43,"select",73)(44,"option",11),e._uU(45," Select Pricing UOM"),e.qZA(),e.TgZ(46,"option",74),e._uU(47,"One"),e.qZA(),e.TgZ(48,"option",75),e._uU(49,"Two"),e.qZA(),e.TgZ(50,"option",76),e._uU(51,"Three"),e.qZA()()(),e.TgZ(52,"td"),e._UZ(53,"input",77),e.qZA(),e.TgZ(54,"td"),e._UZ(55,"input",78),e.qZA(),e.TgZ(56,"td"),e._UZ(57,"input",79),e.qZA(),e.TgZ(58,"td"),e._UZ(59,"input",80),e.qZA(),e.TgZ(60,"td"),e._UZ(61,"input",81),e.qZA(),e.TgZ(62,"td"),e._UZ(63,"input",82),e.qZA(),e.TgZ(64,"td"),e._UZ(65,"input",40),e.qZA(),e.TgZ(66,"td"),e._UZ(67,"input",83),e.qZA(),e.TgZ(68,"td")(69,"select",84)(70,"option",11),e._uU(71,"Select Transaction Currency"),e.qZA(),e.YNc(72,xo,2,2,"option",12),e.ALo(73,"filterPipes"),e.qZA()(),e.TgZ(74,"td"),e._UZ(75,"input",85),e.qZA(),e.TgZ(76,"td"),e._UZ(77,"input",86),e.qZA(),e.TgZ(78,"td"),e._UZ(79,"input",87),e.qZA(),e.TgZ(80,"td"),e._UZ(81,"input",88),e.qZA(),e.TgZ(82,"td"),e._UZ(83,"input",89),e.qZA(),e.TgZ(84,"td")(85,"select",27),e.NdJ("change",function(t){const l=e.CHM(r).index,d=e.oxw();return e.KtG(d.handleOrderStatus(t,l))}),e.TgZ(86,"option",11),e._uU(87," Select Order Status "),e.qZA(),e.YNc(88,ko,2,2,"option",12),e.ALo(89,"filterPipes"),e.qZA()()()}if(2&o){const r=n.$implicit,i=n.index,t=e.oxw();e.Q6J("formGroupName",i),e.xp6(4),e.Q6J("ngStyle",e.VKq(31,ee,"NON DELIVERED"===r.value.orderStatusName?"pointer":"no-drop")),e.xp6(3),e.Q6J("ngStyle",e.VKq(33,ee,"NON DELIVERED"===r.value.orderStatusName?"pointer":"no-drop"))("disabled","NON DELIVERED"!==r.value.orderStatusName)("checked",r.value.deliveryCheck),e.xp6(3),e.Q6J("selected",""===t.salesFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,19,t.productDeatail,"materialId")),e.xp6(8),e.Q6J("selected",""===t.salesFormGroup.value.uom),e.xp6(2),e.Q6J("ngForOf",e.xi3(23,22,t.productDeatail,"baseUnitMeasure")),e.xp6(4),e.Q6J("selected",""===t.salesFormGroup.value.plantId),e.xp6(2),e.Q6J("ngForOf",t.productDeatail),e.xp6(3),e.Q6J("selected",""===t.salesFormGroup.value.storageLocationId),e.xp6(2),e.Q6J("ngForOf",t.productDeatail),e.xp6(11),e.Q6J("selected",""===t.salesFormGroup.value.priceUOM),e.xp6(25),e.Q6J("ngStyle",e.VKq(35,Jo,t.salesFormGroup.value.customerId?"all":"none")),e.xp6(1),e.Q6J("selected",""===t.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(73,25,t.currencyDetails,"code")),e.xp6(14),e.Q6J("selected",""===r.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(89,28,t.orderStatusDetail,"orderStatus"))}}function Qo(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"div",93)(1,"button",45),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.handleDeliveryMessage())}),e._uU(2,"Delivery"),e.qZA()()}}const Bo=function(o){return{"padding-left":o}};let Yo=(()=>{class o{constructor(r,i,t,s,l,d,p,c,_,Z,U,G,x,k,J,C,A,te){this.fb=r,this.activeRouter=i,this.salesOrderSer=t,this.SalesSer=s,this._snackBar=l,this.distibutionSer=d,this.divisionSer=p,this.companyCodeSer=c,this.orderStatusSer=_,this.paymentTermSer=Z,this.modeOfTransportSer=U,this.billinBlockSer=G,this.customerAcctAG=x,this.customerSer=k,this.productSer=J,this.router=C,this.idle=A,this.cd=te,this.salesFormGroup=a.cw,this.isSubmitted=!1,this.isShowPadding=!1,this.salesData=[],this.distributionDetail=[],this.divisionDetail=[],this.companyCodeDetails=[],this.orderStatusDetail=[],this.paymentTermDetail=[],this.motDetails=[],this.billingBlockDetail=[],this.customerAccountAsstGroup=[],this.customerMasterDetail=[],this.productDeatail=[],this.salesOrderId="",this.customerCurrency=[],this.customerplant=[],this.productPlant=[],this.isShowDeliveryButton=!1,this.idleState="Not Started",this.orderTypeDetails=[],A.setIdle(450),A.setTimeout(900),A.setInterrupts(f.WO),A.onIdleEnd.subscribe(()=>{this.idleState="Started",te.detectChanges()}),A.onTimeout.subscribe(()=>{this.idleState="Timeout"}),A.onIdleStart.subscribe(()=>{this.idleState="idle"}),this.getCustomerMaster()}ngOnInit(){this.salesOrderId=this.activeRouter.snapshot.paramMap.get("id"),this.createSalesFormFields(),this.getSalesDetail(),this.getDistributionDetail(),this.getDivisionDetail(),this.getCompanyCodeDetail(),this.getOrderStatus(),this.getOrderType(),this.getPaymentTerm(),this.getModeOfTransport(),this.getBillingBlock(),this.getCustomerAcctAG(),this.getProductMasterDetail(),this.getCurrencyDetails(),this.singleSalesDetail(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createSalesFormFields(r){if(r){console.log(this.customerCurrency,"currency"),this.salesFormGroup=this.fb.group({_id:[r._id,a.kI.required],orderTypeId:[r.orderTypeId,a.kI.required],orderType:[r.orderType,a.kI.required],saleOrgId:[r.saleOrgId,a.kI.required],saleOrgName:[r.saleOrgName],distributionChannelsId:[r.distributionChannelsId,a.kI.required],distributionChannelsName:[r.distributionChannelsName,a.kI.required],divisionId:[r.divisionId,a.kI.required],divisionName:[r.divisionName,a.kI.required],customerId:[r.customerId,a.kI.required],customerName:[r.customerName],customerAddress:[r.customerAddress,a.kI.required],salesOrder:[r.salesOrder,a.kI.required],customerPo:[r.customerPo,a.kI.required],customerPoDate:[r.customerPoDate,a.kI.required],requestedDeliveryDate:[r.requestedDeliveryDate,a.kI.required],companyCurrency:[r.companyCurrency,a.kI.required],transactionCurrency:[r.transactionCurrency,a.kI.required],text:[r.text,a.kI.required],exchangeRate:[r.exchangeRate,a.kI.required],modeOfTransport:[r.modeOfTransport,a.kI.required],totalNetWeight:[r.totalNetWeight,a.kI.required],totalGrossWeight:[r.totalGrossWeight,a.kI.required],totalVolume:[r.totalVolume,a.kI.required],paymentTerms:[r.paymentTerms,a.kI.required],billingBlockId:[r.billingBlockId,a.kI.required],billingBlockName:[r.billingBlockName],companyCodeId:[r.companyCodeId,a.kI.required],companyCodeName:[r.companyCodeName],customerAcctAss:[r.customerAcctAss,a.kI.required],netPrice:[r.netPrice,a.kI.required],netTax:[r.netTax,a.kI.required],netDiscount:[r.netDiscount,a.kI.required],netFreight:[r.netFreight,a.kI.required],orderStatusId:[r.orderStatusId,a.kI.required],orderStatusName:[r.orderStatusName],otherCharges:[r.otherCharges,a.kI.required],itemList:this.fb.array(r.itemList.map(t=>this.getSalesFields(t)))});const i=this.customerMasterDetail.find(t=>t.customerId===r.customerId);return console.log(i,"k"),void(this.customerCurrency=i.plantData)}this.salesFormGroup=this.fb.group({_id:["",a.kI.required],orderTypeId:["",a.kI.required],orderType:["",a.kI.required],saleOrgId:["",a.kI.required],saleOrgName:[""],distributionChannelsId:["",a.kI.required],distributionChannelsName:["",a.kI.required],divisionId:["",a.kI.required],divisionName:["",a.kI.required],customerId:["",a.kI.required],customerName:[""],customerAddress:["",a.kI.required],salesOrder:["",a.kI.required],customerPo:["",a.kI.required],customerPoDate:["",a.kI.required],requestedDeliveryDate:["",a.kI.required],companyCurrency:["",a.kI.required],transactionCurrency:["",a.kI.required],text:["",a.kI.required],exchangeRate:["",a.kI.required],modeOfTransport:["",a.kI.required],totalNetWeight:["",a.kI.required],totalGrossWeight:["",a.kI.required],totalVolume:["",a.kI.required],paymentTerms:["",a.kI.required],billingBlockId:["",a.kI.required],billingBlockName:[""],companyCodeId:["",a.kI.required],companyCodeName:[""],customerAcctAss:["",a.kI.required],netPrice:["",a.kI.required],netTax:["",a.kI.required],netDiscount:["",a.kI.required],netFreight:["",a.kI.required],orderStatusId:["",a.kI.required],orderStatusName:[""],otherCharges:["",a.kI.required],itemList:this.fb.array([this.getSalesFields()])})}getSalesFields(r){return r?(this.productDeatail.map(i=>{i.materialId===r.materialId&&(i.disable=!0)}),this.fb.group({materialId:[r.materialId],materialDescription:[r.materialDescription],ordQty:[r.ordQty],uom:[r.uom],plantId:[r.plantId],plantName:[r.plantName],storageLocationId:[r.storageLocationId],storageLocationName:[r.storageLocationName],batchSerial:[r.batchSerial],priceAmount:[r.priceAmount],priceUnitPrice:[r.priceUnitPrice],priceUnit:[r.priceUnit],priDate:[r.priDate],vol:[r.vol],priceUOM:[r.priceUOM],tax:[r.tax],perUnitTax:[r.perUnitTax],discount:[r.discount],perUnitDiscount:[r.perUnitDiscount],freight:[r.freight],perUnitFreight:[r.perUnitFreight],otherCharges:[r.otherCharges],companyCurrency:[r.companyCurrency],transactionCurrency:[r.transactionCurrency],exchangeRate:[r.exchangeRate],priceDate:[r.priceDate],netWeight:[r.netWeight],grossWeight:[r.grossWeight],volumn:[r.volumn],orderStatusId:[r.orderStatusId],orderStatusName:[r.orderStatusName],deliveryCheck:[""]})):this.fb.group({materialId:[""],materialDescription:[""],ordQty:[""],uom:[""],plantId:[""],plantName:[""],storageLocationId:[""],storageLocationName:[""],batchSerial:[""],priceAmount:[""],priceUnitPrice:[""],priceUnit:[""],priDate:[""],vol:[""],priceUOM:[""],tax:[""],perUnitTax:[""],discount:[""],perUnitDiscount:[""],freight:[""],perUnitFreight:[""],otherCharges:[""],companyCurrency:[""],transactionCurrency:[""],exchangeRate:[""],priceDate:[""],netWeight:[""],grossWeight:[""],volumn:[""],orderStatusId:[""],orderStatusName:[""],deliveryCheck:[""]})}get salesOrderArray(){return this.salesFormGroup.get("itemList")}addSalesItem(){this.salesOrderArray.push(this.getSalesFields());const r=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((i,t)=>{r.at(t).patchValue({companyCurrency:this.salesFormGroup.value.companyCurrency?this.salesFormGroup.value.companyCurrency:"",transactionCurrency:this.salesFormGroup.value.transactionCurrency?this.salesFormGroup.value.transactionCurrency:""})})}deleteSalesItem(r,i){"NON DELIVERED"===i&&this.salesOrderArray.removeAt(r)}singleSalesDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.salesOrderSer.singleSalesOrderDetails(r.salesOrderId);"1"===i.status&&(console.log(i),r.createSalesFormFields(i.data))}catch(i){console.error(i)}})()}submitData(){var r=this;return(0,u.Z)(function*(){try{r.isSubmitted=!0;const i=localStorage.getItem("userName");if(r.salesFormGroup.value.createdOn="18/12/2023",r.salesFormGroup.value.createdBy=i,r.salesFormGroup.value.changedOn="18/12/2023",r.salesFormGroup.value.changedBy=i,console.log(r.salesFormGroup.value),r.salesFormGroup.invalid)return;const t=yield r.salesOrderSer.updatedSalesOrderDetails(r.salesFormGroup.value);if(console.log(t),"1"===t.status)return r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.router.navigate(["/sales/sales-order-list"]);if("0"===t.status)return void r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(console.error(i),i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getSalesDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.SalesSer.getAllSalesOrgDetails();console.log(i),"1"===i.status?r.salesData=i.data:r._snackBar.open(i.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleSales(r){const i=this.salesData.find(t=>t._id===r.target.value);this.salesFormGroup.controls.saleOrgName.setValue(i.salesOrg)}getDistributionDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.distibutionSer.getAllDistibutionChannelDetails();"1"===i.status&&(r.distributionDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDistribution(r){const i=this.distributionDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.distributionChannelsName.setValue(i.distributionChannel)}getDivisionDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.divisionSer.getAllDivionDetails();"1"===i.status&&(r.divisionDetail=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleDivision(r){const i=this.divisionDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.divisionName.setValue(i.divion)}getCompanyCodeDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.companyCodeSer.getAllCompanyCodeDetails();console.log(i),"1"===i.status?r.companyCodeDetails=i.data:r._snackBar.open(i.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleCountry(r){const i=this.companyCodeDetails.find(s=>s._id===r.target.value);this.salesFormGroup.controls.companyCodeName.setValue(i.companyCode),this.salesFormGroup.controls.companyCurrency.setValue(i.currencyName);const t=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((s,l)=>{t.at(l).patchValue({companyCurrency:i.currencyName?i.currencyName:""})})}getOrderStatus(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.orderStatusSer.getAllOrderStatusDetails();"1"===i.status&&(r.orderStatusDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrder(r){const i=this.orderStatusDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.orderStatusName.setValue(i.orderStatus)}getPaymentTerm(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.paymentTermSer.getAllPaymentTerm();"1"===i.status&&(r.paymentTermDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getModeOfTransport(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.modeOfTransportSer.getAllModeOfTransportDetails();"1"===i.status&&(r.motDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getBillingBlock(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.billinBlockSer.getAllBillingBlockDetails();"1"===i.status&&(r.billingBlockDetail=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleBillingBlock(r){const i=this.billingBlockDetail.find(t=>t._id===r.target.value);this.salesFormGroup.controls.billingBlockName.setValue(i.billingBlock)}getCustomerAcctAG(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerAcctAG.getAllCustomerAccountDetails();"1"===i.status&&(r.customerAccountAsstGroup=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllProductDetails();"1"===i.status&&(r.productDeatail=i.data,r.productDeatail.map(t=>{t.disable=!1}))}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCurrencyDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.companyCodeSer.getAllCurrencyDetails();"1"===i.status?r.currencyDetails=i.data:r._snackBar.open(i.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerSer.getAllCustomerDetails();console.log(i),"1"===i.status&&(r.customerMasterDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleOrderType(r){const i=this.orderTypeDetails.find(t=>t._id===r.target.value);this.salesFormGroup.controls.orderType.setValue(i.description)}handleCustomer(r){const i=this.customerMasterDetail.find(l=>l.customerId===r.target.value),t=i.plantData.find(l=>l.companyCode===this.salesFormGroup.value.companyCodeId);console.log(this.customerCurrency),this.salesFormGroup.controls.transactionCurrency.setValue(t.currencyName);const s=this.salesFormGroup.get("itemList");this.salesFormGroup.value.itemList.map((l,d)=>{s.at(d).patchValue({transactionCurrency:t.currencyName?t.currencyName:""})}),this.salesFormGroup.patchValue({customerAddress:i?i.address:""})}handleMaterial(r,i){const t=this.productDeatail.find(d=>d.materialId===r.target.value);console.log(t),this.productDeatail.map(d=>{d.materialId===r.target.value&&(d.disable=!0)}),this.productPlant=t?t.plantData:[],this.customerplant=t?t.salesData:[],this.salesFormGroup.get("itemList").at(i).patchValue({materialDescription:t?t.materialDescription:""})}handleCurrency(r){const i=this.companyCodeDetails.find(t=>t.currencyId===r.target.value);console.log(i,"currency ")}handlePlant(r,i,t){const s=this.productDeatail.find(c=>c.materialId===i);console.log(s);const d=this.salesFormGroup.get("itemList").at(t),p=s.salesData.find(c=>c.deliveringPlantId===r.target.value);console.log(p,"selectPlant"),d.patchValue({plantName:p?p.deliveringPlantName:""})}handleStorage(r,i,t){const s=this.productDeatail.find(c=>c.materialId===i);console.log(s);const d=this.salesFormGroup.get("itemList").at(t),p=s.plantData.find(c=>c.storageLocationId===r.target.value);console.log(p,"selectPlant"),d.patchValue({storageLocationName:p?p.storageLocationName:""}),console.log(d.value.storageLocationName)}handleOrderStatus(r,i){const t=this.orderStatusDetail.find(d=>d._id===r.target.value);this.salesFormGroup.get("itemList").at(i).patchValue({orderStatusName:t?t.orderStatus:""})}handleDeliveryDetails(r,i,t){if("NON DELIVERED"!==t)return;const l=this.salesFormGroup.get("itemList").at(i);l.patchValue({deliveryCheck:!l.value.deliveryCheck}),this.isShowDeliveryButton=!!this.salesFormGroup.value.itemList.find(p=>!0===p.deliveryCheck)}handleDeliveryMessage(){var r=!1;const i=this.salesFormGroup.value.itemList.filter(t=>!0===t.deliveryCheck);i.map(t=>{t.plantName!==i[0].plantName&&(r=!0)}),i.length>1&&r?H().fire({icon:"info",title:"info...",text:"Plant on selected items are different hence delivery cannot be processed"}):(this.salesFormGroup.value.itemList=i,this.salesOrderSer.passSalesDetails.next(this.salesFormGroup.value),console.log(this.salesFormGroup.value),this.router.navigate(["/sales/add-delivery-sales"]))}getOrderType(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.salesOrderSer.getOrderType();"1"===i.status&&(r.orderTypeDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(h.gz),e.Y36(D),e.Y36(B.T),e.Y36(S.ux),e.Y36(Y.P),e.Y36(w.P),e.Y36(L.X),e.Y36(M.$),e.Y36(z.f),e.Y36(V.z),e.Y36(R.P),e.Y36($.P),e.Y36(b.v),e.Y36(N.M),e.Y36(h.F0),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-sales-order"]],decls:296,vars:102,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"mt-2"],["routerLink","/sales/sales-order-list/",1,"back"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","py-2"],[1,""],["aria-label","Default select example","formControlName","orderTypeId",1,"form-select",3,"change"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["aria-label","Default select example","formControlName","saleOrgId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","distributionChannelsId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","divisionId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","companyCodeId",1,"form-select",3,"change"],["type","text","placeholder","Autofetched","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select",3,"change"],["type","text","placeholder","Enter customer Address","formControlName","customerAddress",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select"],["type","text","placeholder","Enter Sales Order","formControlName","salesOrder",1,"form-control"],["type","text","placeholder","Enter Customer PO","formControlName","customerPo",1,"form-control"],["type","date","placeholder","Enter PO Date","formControlName","customerPoDate",1,"form-control"],["type","date","placeholder","Enter Req Delivery Date","formControlName","requestedDeliveryDate",1,"form-control"],["type","text","placeholder"," Enter Text","formControlName","text",1,"form-control"],["aria-label","Default select example","formControlName","orderStatusId",1,"form-select",3,"change"],["type","text","placeholder","Enter Exchange Rate","formControlName","exchangeRate",1,"form-control"],["aria-label","Default select example","formControlName","modeOfTransport",1,"form-select"],["type","text","placeholder","Calculated Total Net Weight","formControlName","totalNetWeight",1,"form-control"],["type","text","placeholder","Calculated Total Gross Wt","formControlName","totalGrossWeight",1,"form-control"],["type","text","placeholder","Calculated Total Volume","formControlName","totalVolume",1,"form-control"],["aria-label","Default select example","formControlName","paymentTerms",1,"form-select"],["aria-label","Default select example","formControlName","billingBlockId",1,"form-select",3,"change"],["aria-label","Default select example","formControlName","customerAcctAss",1,"form-select"],["type","number","min","0","placeholder","Enter Net Price","formControlName","netPrice",1,"form-control"],["type","number","min","0","placeholder","Enter Net Tax","formControlName","netTax",1,"form-control"],["type","number","min","0","placeholder","Enter Net Discount","formControlName","netDiscount",1,"form-control"],["type","number","min","0","placeholder","enter Net Freight","formControlName","netFreight",1,"form-control"],["type","number","min","0","placeholder","Other Charges","formControlName","otherCharges",1,"form-control"],[1,"row","border","mt-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"py-2"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-12","d-flex","justify-content-end"],["style","position: relative; right: 10px;",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],[1,"d-flex","gap-2","d-grid"],[3,"ngStyle","click"],[1,"mt-1"],["type","checkbox",3,"ngStyle","disabled","checked","change"],["aria-label","Default select example","formControlName","materialId",1,"form-select",3,"change"],[3,"disabled","value",4,"ngFor","ngForOf"],["type","text","placeholder","Autofetched Product Description","formControlName","materialDescription",1,"form-control"],["type","number","min","0","placeholder","Oredr Qty","formControlName","ordQty",1,"form-control"],["aria-label","Default select example","formControlName","uom",1,"form-select","w-100"],["aria-label","Default select example","formControlName","plantId",1,"form-select","w-100",3,"change"],[4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","storageLocationId",1,"form-select","w-100",3,"change"],["type","text","placeholder","Enter Batch","formControlName","batchSerial",1,"form-control"],["type","number","min","0","placeholder","Enter Price Amount","formControlName","priceAmount",1,"form-control"],["type","number","min","0","placeholder","Enter Per Unit Price","formControlName","priceUnitPrice",1,"form-control"],["type","number","min","0","placeholder","Pricing Unit","formControlName","priceUnit",1,"form-control"],["aria-label","Default select example","formControlName","priceUOM",1,"form-select"],["value","1"],["value","2"],["value","3"],["type","text","placeholder"," Enter Tax","formControlName","tax",1,"form-control"],["type","number","min","0","placeholder","Per Unit Tax","formControlName","perUnitTax",1,"form-control"],["type","number","min","0","placeholder","Discount","formControlName","discount",1,"form-control"],["type","number","min","0","placeholder","Per Unit Discount","formControlName","perUnitDiscount",1,"form-control"],["type","number","min","0","placeholder","Freight","formControlName","freight",1,"form-control"],["type","number","min","0","placeholder","Per Unit Freight","formControlName","perUnitFreight",1,"form-control"],["type","text","placeholder","Autofetched Company Currency","formControlName","companyCurrency","readonly","",1,"form-control"],["aria-label","Default select example","formControlName","transactionCurrency",1,"form-select",3,"ngStyle"],["type","text","placeholder","Exchange Rate","formControlName","exchangeRate",1,"form-control"],["type","date","placeholder","price Date","formControlName","priceDate",1,"form-control"],["type","number","min","0","placeholder","Net Weight","formControlName","netWeight",1,"form-control"],["type","number","min","0","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control"],["type","number","min","0","placeholder","Volume","formControlName","volumn",1,"form-control"],[3,"disabled","value"],[3,"ngStyle","value",4,"ngFor","ngForOf"],[3,"ngStyle","value"],[2,"position","relative","right","10px"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"h3",2)(3,"mat-icon",3),e._uU(4,"arrow_back"),e.qZA(),e._uU(5," Sales Order "),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return t.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Order Type"),e.qZA(),e.TgZ(13,"select",10),e.NdJ("change",function(l){return t.handleOrderType(l)}),e.TgZ(14,"option",11),e._uU(15,"Select Order Type "),e.qZA(),e.YNc(16,xr,2,2,"option",12),e.ALo(17,"filterPipes"),e.qZA(),e.YNc(18,kr,3,0,"div",13),e.YNc(19,Jr,3,0,"div",13),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Sales Org"),e.qZA(),e.TgZ(23,"select",14),e.NdJ("change",function(l){return t.handleSales(l)}),e.TgZ(24,"option",11),e._uU(25,"Select Sales Org "),e.qZA(),e.YNc(26,Er,2,2,"option",12),e.ALo(27,"filterPipes"),e.qZA(),e.YNc(28,Qr,3,0,"div",13),e.YNc(29,Br,3,0,"div",13),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Distribution Channel"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("change",function(l){return t.handleDistribution(l)}),e.TgZ(34,"option",11),e._uU(35," Select Distribution Channel"),e.qZA(),e.YNc(36,Yr,2,2,"option",12),e.ALo(37,"filterPipes"),e.qZA(),e.YNc(38,wr,3,0,"div",13),e.YNc(39,Lr,3,0,"div",13),e.qZA(),e.TgZ(40,"div",8)(41,"label",9),e._uU(42,"Division"),e.qZA(),e.TgZ(43,"select",16),e.NdJ("change",function(l){return t.handleDivision(l)}),e.TgZ(44,"option",11),e._uU(45,"Select Division "),e.qZA(),e.YNc(46,Mr,2,2,"option",12),e.ALo(47,"filterPipes"),e.qZA(),e.YNc(48,zr,3,0,"div",13),e.YNc(49,Vr,3,0,"div",13),e.qZA(),e.TgZ(50,"div",8)(51,"label",9),e._uU(52,"Company Code"),e.qZA(),e.TgZ(53,"select",17),e.NdJ("change",function(l){return t.handleCountry(l)}),e.TgZ(54,"option",11),e._uU(55,"Select Company Code "),e.qZA(),e.YNc(56,Rr,2,2,"option",12),e.ALo(57,"filterPipes"),e.qZA()(),e.TgZ(58,"div",8)(59,"label",9),e._uU(60,"Company Currency"),e.qZA(),e._UZ(61,"input",18),e.qZA(),e.TgZ(62,"div",8)(63,"label",9),e._uU(64,"Customer Id"),e.qZA(),e.TgZ(65,"select",19),e.NdJ("change",function(l){return t.handleCustomer(l)}),e.TgZ(66,"option",11),e._uU(67,"Select Customer Id "),e.qZA(),e.YNc(68,$r,2,2,"option",12),e.ALo(69,"filterPipes"),e.qZA(),e.YNc(70,jr,3,0,"div",13),e.YNc(71,Wr,3,0,"div",13),e.qZA(),e.TgZ(72,"div",8)(73,"label",9),e._uU(74,"Customer Address"),e.qZA(),e._UZ(75,"input",20),e.YNc(76,Kr,3,0,"div",13),e.YNc(77,Hr,3,0,"div",13),e.qZA(),e.TgZ(78,"div",8)(79,"label",9),e._uU(80,"Transaction Currency"),e.qZA(),e.TgZ(81,"select",21)(82,"option",11),e._uU(83,"Select Transaction Currency"),e.qZA(),e.YNc(84,Xr,2,2,"option",12),e.ALo(85,"filterPipes"),e.qZA()(),e.TgZ(86,"div",8)(87,"label"),e._uU(88,"Sales Order "),e.TgZ(89,"sup"),e._uU(90,"*"),e.qZA()(),e._UZ(91,"input",22),e.YNc(92,eo,3,0,"div",13),e.YNc(93,to,3,0,"div",13),e.qZA(),e.TgZ(94,"div",8)(95,"label",9),e._uU(96,"Customer PO "),e.TgZ(97,"sup"),e._uU(98,"*"),e.qZA()(),e._UZ(99,"input",23),e.YNc(100,ro,3,0,"div",13),e.YNc(101,oo,3,0,"div",13),e.qZA(),e.TgZ(102,"div",8)(103,"label",9),e._uU(104,"Customer PO Date "),e.TgZ(105,"sup"),e._uU(106,"*"),e.qZA()(),e._UZ(107,"input",24),e.YNc(108,io,3,0,"div",13),e.YNc(109,no,3,0,"div",13),e.qZA(),e.TgZ(110,"div",8)(111,"label",9),e._uU(112,"Req Delivery Date "),e.TgZ(113,"sup"),e._uU(114,"*"),e.qZA()(),e._UZ(115,"input",25),e.YNc(116,ao,3,0,"div",13),e.YNc(117,so,3,0,"div",13),e.qZA(),e.TgZ(118,"div",8)(119,"label",9),e._uU(120," Text"),e.qZA(),e._UZ(121,"input",26),e.qZA(),e.TgZ(122,"div",8)(123,"label",9),e._uU(124,"Order Status"),e.qZA(),e.TgZ(125,"select",27),e.NdJ("change",function(l){return t.handleOrder(l)}),e.TgZ(126,"option",11),e._uU(127,"Select Order Status "),e.qZA(),e.YNc(128,lo,2,2,"option",12),e.ALo(129,"filterPipes"),e.qZA(),e.YNc(130,uo,3,0,"div",13),e.YNc(131,co,3,0,"div",13),e.qZA(),e.TgZ(132,"div",8)(133,"label",9),e._uU(134,"Exchange Rate"),e.qZA(),e._UZ(135,"input",28),e.qZA(),e.TgZ(136,"div",8)(137,"label",9),e._uU(138,"Mode of Transport"),e.qZA(),e.TgZ(139,"select",29)(140,"option",11),e._uU(141,"Select Mode of Transport"),e.qZA(),e.YNc(142,po,2,2,"option",12),e.ALo(143,"filterPipes"),e.qZA()(),e.TgZ(144,"div",8)(145,"label",9),e._uU(146,"Total Net Weight"),e.qZA(),e._UZ(147,"input",30),e.qZA(),e.TgZ(148,"div",8)(149,"label",9),e._uU(150,"Total Gross Wt"),e.qZA(),e._UZ(151,"input",31),e.qZA(),e.TgZ(152,"div",8)(153,"label",9),e._uU(154,"Total Volume"),e.qZA(),e._UZ(155,"input",32),e.qZA(),e.TgZ(156,"div",8)(157,"label",9),e._uU(158,"Payment Term"),e.qZA(),e.TgZ(159,"select",33)(160,"option",11),e._uU(161,"Select Payment Term "),e.qZA(),e.YNc(162,mo,2,2,"option",12),e.ALo(163,"filterPipes"),e.qZA()(),e.TgZ(164,"div",8)(165,"label",9),e._uU(166,"Billing Block"),e.qZA(),e.TgZ(167,"select",34),e.NdJ("change",function(l){return t.handleBillingBlock(l)}),e.TgZ(168,"option",11),e._uU(169,"Select Billing Block "),e.qZA(),e.YNc(170,go,2,2,"option",12),e.ALo(171,"filterPipes"),e.qZA()(),e.TgZ(172,"div",8)(173,"label",9),e._uU(174,"Customer Account"),e.qZA(),e.TgZ(175,"select",35)(176,"option",11),e._uU(177,"Select Customer Account"),e.qZA(),e.YNc(178,_o,2,2,"option",12),e.ALo(179,"filterPipes"),e.qZA(),e.YNc(180,ho,3,0,"div",13),e.YNc(181,fo,3,0,"div",13),e.qZA(),e.TgZ(182,"div",8)(183,"label",9),e._uU(184,"Net Price "),e.TgZ(185,"sup"),e._uU(186,"*"),e.qZA()(),e._UZ(187,"input",36),e.YNc(188,vo,3,0,"div",13),e.YNc(189,Zo,3,0,"div",13),e.qZA(),e.TgZ(190,"div",8)(191,"label",9),e._uU(192,"Net Tax "),e.TgZ(193,"sup"),e._uU(194,"*"),e.qZA()(),e._UZ(195,"input",37),e.YNc(196,yo,3,0,"div",13),e.YNc(197,To,3,0,"div",13),e.qZA(),e.TgZ(198,"div",8)(199,"label",9),e._uU(200,"Net Discount "),e.TgZ(201,"sup"),e._uU(202,"*"),e.qZA()(),e._UZ(203,"input",38),e.YNc(204,Ao,3,0,"div",13),e.YNc(205,qo,3,0,"div",13),e.qZA(),e.TgZ(206,"div",8)(207,"label",9),e._uU(208,"Net Freight "),e.TgZ(209,"sup"),e._uU(210,"*"),e.qZA()(),e._UZ(211,"input",39),e.YNc(212,Co,3,0,"div",13),e.YNc(213,So,3,0,"div",13),e.qZA(),e.TgZ(214,"div",8)(215,"label",9),e._uU(216,"Other Charges "),e.TgZ(217,"sup"),e._uU(218,"*"),e.qZA()(),e._UZ(219,"input",40),e.YNc(220,Uo,3,0,"div",13),e.YNc(221,Do,3,0,"div",13),e.qZA()(),e.TgZ(222,"div",41)(223,"div",5)(224,"div",4)(225,"div",42)(226,"h3",43),e._uU(227," Item Data "),e.qZA()(),e.TgZ(228,"div",44)(229,"button",45),e.NdJ("click",function(){return t.addSalesItem()}),e._uU(230,"Add"),e.qZA()()(),e.TgZ(231,"div",46)(232,"table",47)(233,"thead")(234,"tr"),e.YNc(235,bo,2,0,"th",13),e.TgZ(236,"th"),e._uU(237,"Product Id"),e.qZA(),e.TgZ(238,"th"),e._uU(239,"Product Description"),e.qZA(),e.TgZ(240,"th"),e._uU(241,"Order Qty"),e.qZA(),e.TgZ(242,"th"),e._uU(243,"UOM"),e.qZA(),e.TgZ(244,"th"),e._uU(245,"Plant"),e.qZA(),e.TgZ(246,"th"),e._uU(247,"Storage Location"),e.qZA(),e.TgZ(248,"th"),e._uU(249,"Batch/Serial #"),e.qZA(),e.TgZ(250,"th"),e._uU(251,"Price Amount"),e.qZA(),e.TgZ(252,"th"),e._uU(253,"Per Unit Price"),e.qZA(),e.TgZ(254,"th"),e._uU(255,"Pricing Unit"),e.qZA(),e.TgZ(256,"th"),e._uU(257,"Pricing UOM"),e.qZA(),e.TgZ(258,"th"),e._uU(259,"Tax"),e.qZA(),e.TgZ(260,"th"),e._uU(261,"Per Unit Tax"),e.qZA(),e.TgZ(262,"th"),e._uU(263,"Discount"),e.qZA(),e.TgZ(264,"th"),e._uU(265,"Per Unit Discount"),e.qZA(),e.TgZ(266,"th"),e._uU(267,"Freight"),e.qZA(),e.TgZ(268,"th"),e._uU(269,"Per Unit Freight"),e.qZA(),e.TgZ(270,"th"),e._uU(271,"Other Charges"),e.qZA(),e.TgZ(272,"th"),e._uU(273,"Company Currency"),e.qZA(),e.TgZ(274,"th"),e._uU(275,"Transaction Currency"),e.qZA(),e.TgZ(276,"th"),e._uU(277,"Exchange Rate"),e.qZA(),e.TgZ(278,"th"),e._uU(279,"Pricing Date"),e.qZA(),e.TgZ(280,"th"),e._uU(281,"Net Weight"),e.qZA(),e.TgZ(282,"th"),e._uU(283,"Gross Weight"),e.qZA(),e.TgZ(284,"th"),e._uU(285,"Volume"),e.qZA(),e.TgZ(286,"th"),e._uU(287,"Order Status"),e.qZA()()(),e.TgZ(288,"tbody",48),e.YNc(289,Eo,90,37,"tr",49),e.qZA()()()()(),e.TgZ(290,"div",50)(291,"div",51),e.YNc(292,Qo,3,0,"div",52),e.TgZ(293,"div",9)(294,"button",53),e._uU(295,"Save"),e.qZA()()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(100,Bo,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.salesFormGroup),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.orderTypeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,64,t.orderTypeDetails,"description")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.orderTypeId.touched&&t.salesFormGroup.controls.orderTypeId.touched&&t.salesFormGroup.controls.orderTypeId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.orderTypeId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.saleOrgId),e.xp6(2),e.Q6J("ngForOf",e.xi3(27,67,t.salesData,"salesOrg")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.saleOrgId.touched&&t.salesFormGroup.controls.saleOrgId.touched&&t.salesFormGroup.controls.saleOrgId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.saleOrgId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.distributionChannelsId),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,70,t.distributionDetail,"distributionChannel")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.distributionChannelsId.touched&&t.salesFormGroup.controls.distributionChannelsId.touched&&t.salesFormGroup.controls.distributionChannelsId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.distributionChannelsId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.divisionId),e.xp6(2),e.Q6J("ngForOf",e.xi3(47,73,t.divisionDetail,"divion")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.divisionId.touched&&t.salesFormGroup.controls.divisionId.touched&&t.salesFormGroup.controls.divisionId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.divisionId.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.companyCodeId),e.xp6(2),e.Q6J("ngForOf",e.xi3(57,76,t.companyCodeDetails,"companyCode")),e.xp6(10),e.Q6J("selected",""===t.salesFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",e.xi3(69,79,t.customerMasterDetail,"customerId")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.customerId.touched&&t.salesFormGroup.controls.customerId.touched&&t.salesFormGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerId.hasError("required")),e.xp6(5),e.Q6J("ngIf",t.salesFormGroup.controls.customerAddress.touched&&t.salesFormGroup.controls.customerAddress.touched&&t.salesFormGroup.controls.customerAddress.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerAddress.hasError("required")),e.xp6(5),e.Q6J("selected",""===t.salesFormGroup.value.transactionCurrency),e.xp6(2),e.Q6J("ngForOf",e.xi3(85,82,t.currencyDetails,"code")),e.xp6(8),e.Q6J("ngIf",t.salesFormGroup.controls.salesOrder.touched&&t.salesFormGroup.controls.salesOrder.touched&&t.salesFormGroup.controls.salesOrder.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.salesOrder.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.customerPo.touched&&t.salesFormGroup.controls.customerPo.touched&&t.salesFormGroup.controls.customerPo.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerPo.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.customerPoDate.touched&&t.salesFormGroup.controls.customerPoDate.touched&&t.salesFormGroup.controls.customerPoDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerPoDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.requestedDeliveryDate.touched&&t.salesFormGroup.controls.requestedDeliveryDate.touched&&t.salesFormGroup.controls.requestedDeliveryDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.requestedDeliveryDate.hasError("required")),e.xp6(9),e.Q6J("selected",""===t.salesFormGroup.value.orderStatusId),e.xp6(2),e.Q6J("ngForOf",e.xi3(129,85,t.orderStatusDetail,"orderStatus")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.orderStatusId.touched&&t.salesFormGroup.controls.orderStatusId.touched&&t.salesFormGroup.controls.orderStatusId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.orderStatusId.hasError("required")),e.xp6(9),e.Q6J("selected",""===t.salesFormGroup.value.modeOfTransport),e.xp6(2),e.Q6J("ngForOf",e.xi3(143,88,t.motDetails,"modeOfTransport")),e.xp6(18),e.Q6J("selected",""===t.salesFormGroup.value.paymentTerms),e.xp6(2),e.Q6J("ngForOf",e.xi3(163,91,t.paymentTermDetail,"paymentTerm")),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.billingBlockId),e.xp6(2),e.Q6J("ngForOf",e.xi3(171,94,t.billingBlockDetail,"billingBlock")),e.xp6(6),e.Q6J("selected",""===t.salesFormGroup.value.customerAcctAss),e.xp6(2),e.Q6J("ngForOf",e.xi3(179,97,t.customerAccountAsstGroup,"customerAccountAG")),e.xp6(2),e.Q6J("ngIf",t.salesFormGroup.controls.customerAcctAss.touched&&t.salesFormGroup.controls.customerAcctAss.touched&&t.salesFormGroup.controls.customerAcctAss.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.customerAcctAss.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netPrice.touched&&t.salesFormGroup.controls.netPrice.touched&&t.salesFormGroup.controls.netPrice.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netPrice.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netTax.touched&&t.salesFormGroup.controls.netTax.touched&&t.salesFormGroup.controls.netTax.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netTax.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netDiscount.touched&&t.salesFormGroup.controls.netDiscount.touched&&t.salesFormGroup.controls.netDiscount.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netDiscount.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.netFreight.touched&&t.salesFormGroup.controls.netFreight.touched&&t.salesFormGroup.controls.netFreight.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.netFreight.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.salesFormGroup.controls.otherCharges.touched&&t.salesFormGroup.controls.otherCharges.touched&&t.salesFormGroup.controls.otherCharges.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.salesFormGroup.controls.otherCharges.hasError("required")),e.xp6(14),e.Q6J("ngIf",t.salesOrderArray.controls.length>1),e.xp6(54),e.Q6J("ngForOf",t.salesFormGroup.get("itemList").controls),e.xp6(3),e.Q6J("ngIf",t.isShowDeliveryButton))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.qQ,a.sg,a.u,a.x0,a.CE,q.s,j],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}table[_ngcontent-%COMP%]{width:4000px!important}"]})}return o})();function wo(o,n){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.code),e.xp6(1),e.Oqu(r.description)}}function Lo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function Mo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function zo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Plant is mandatory"),e.qZA()())}function Vo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Plant is mandatory"),e.qZA()())}function Ro(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery is mandatory"),e.qZA()())}function $o(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery is mandatory"),e.qZA()())}function jo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Wo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Ko(o,n){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.customerId),e.xp6(1),e.Oqu(r.customerId)}}function Ho(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Xo(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function ei(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function ti(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function ri(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function oi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",39),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function ii(o,n){1&o&&(e.TgZ(0,"th"),e._uU(1,"Actions"),e.qZA())}function ni(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"td")(1,"mat-icon",49),e.NdJ("click",function(){e.CHM(r);const t=e.oxw().index,s=e.oxw();return e.KtG(s.deletedelivery(t))}),e._uU(2,"delete"),e.qZA()()}}function ai(o,n){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.materialId),e.xp6(1),e.Oqu(r.materialId)}}function si(o,n){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.code)}}function li(o,n){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.description)}}function di(o,n){if(1&o&&(e.TgZ(0,"tr",40),e.YNc(1,ni,3,0,"td",13),e.TgZ(2,"td")(3,"select",14)(4,"option",11),e._uU(5,"Select plant"),e.qZA(),e.TgZ(6,"option",15),e._uU(7,"One"),e.qZA(),e.TgZ(8,"option",16),e._uU(9,"Two"),e.qZA(),e.TgZ(10,"option",17),e._uU(11,"Three"),e.qZA()()(),e.TgZ(12,"td"),e._UZ(13,"input",41),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"input",20),e.qZA(),e.TgZ(16,"td")(17,"select",42)(18,"option",11),e._uU(19," Select Product Id"),e.qZA(),e.YNc(20,ai,2,2,"option",12),e.qZA()(),e.TgZ(21,"td"),e._UZ(22,"input",43),e.qZA(),e.TgZ(23,"td")(24,"select",44)(25,"option",11),e._uU(26,"Select UOM"),e.qZA(),e.YNc(27,si,2,2,"option",12),e.qZA()(),e.TgZ(28,"td")(29,"select",45)(30,"option",15),e._uU(31,"One"),e.qZA(),e.TgZ(32,"option",16),e._uU(33,"Two"),e.qZA(),e.TgZ(34,"option",17),e._uU(35,"Three"),e.qZA()()(),e.TgZ(36,"td")(37,"select",46)(38,"option",11),e._uU(39,"Select Storage Location"),e.qZA(),e.YNc(40,li,2,2,"option",12),e.qZA()(),e.TgZ(41,"td"),e._UZ(42,"input",47),e.qZA(),e.TgZ(43,"td"),e._UZ(44,"input",48),e.qZA()()),2&o){const r=n.index,i=e.oxw();e.Q6J("formGroupName",r),e.xp6(1),e.Q6J("ngIf",i.deliveryListArray.controls.length>1),e.xp6(3),e.Q6J("selected",""===i.deliveryFormGroup.value.plant),e.xp6(14),e.Q6J("selected",""===i.deliveryFormGroup.value.materialId),e.xp6(2),e.Q6J("ngForOf",i.productDetails),e.xp6(5),e.Q6J("selected",""===i.deliveryFormGroup.value.uomName),e.xp6(2),e.Q6J("ngForOf",i.uomDetail),e.xp6(11),e.Q6J("selected",""===i.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",i.storageLocationDetail)}}const ui=function(o){return{"padding-left":o}};let ci=(()=>{class o{constructor(r,i,t,s,l,d,p,c,_,Z){this.fb=r,this.deliverySer=i,this.router=t,this._snackBar=s,this.productSer=l,this.plantDataSer=d,this.activeRouter=p,this.customerSer=c,this.idle=_,this.cd=Z,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=a.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.deliveryId=[],this.productDetails=[],this.customerMasterDetail=[],this.deliveryTypeDetails=[],this.idleState="Not Started",_.setIdle(450),_.setTimeout(900),_.setInterrupts(f.WO),_.onIdleEnd.subscribe(()=>{this.idleState="Started",Z.detectChanges()}),_.onTimeout.subscribe(()=>{this.idleState="Timeout"}),_.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.deliveryId=this.activeRouter.snapshot.paramMap.get("id"),console.log(this.deliveryId),this.createDeliveryFormFields(),this.getAllUomDetail(),this.getStorageLocation(),this.getSingleDeliveryDetails(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getDeliveryTypeDetails(),this.setStates()}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createDeliveryFormFields(r){this.deliveryFormGroup=this.fb.group(r?{_id:[r._id,a.kI.required],deliveryType:[r.deliveryType,a.kI.required],plantId:[r.plantId,a.kI.required],plantName:[r.plantName],deliveryId:[r.deliveryId,a.kI.required],deliveryDate:[r.deliveryDate,a.kI.required],customerId:[r.customerId,a.kI.required],customerName:[r.customerName],deliveryAddress:[r.deliveryAddress,a.kI.required],deliveryPartner:[r.deliveryPartner,a.kI.required],itemList:this.fb.array(r.itemList.map(i=>this.getdeliveryFields(i)))}:{_id:["",a.kI.required],deliveryType:["",a.kI.required],plantId:["33",a.kI.required],plantName:[""],deliveryId:["",a.kI.required],deliveryDate:["",a.kI.required],customerId:["",a.kI.required],customerName:["11"],deliveryAddress:["",a.kI.required],deliveryPartner:["",a.kI.required],itemList:this.fb.array([this.getdeliveryFields()])})}getdeliveryFields(r){return this.fb.group(r?{plantName:[r.plantName],deliveryItem:[r.deliveryItem],deliveryDate:[r.deliveryDate],productId:[r.productId],materialId:[r.materialId],deliveryQty:[r.deliveryQty],uomName:[r.uomName],openQty:[r.openQty],storageLocationName:[r.storageLocationName],referenceSalesOrder:[r.referenceSalesOrder],referenceSalesOrderItem:[r.referenceSalesOrderItem]}:{plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomName:[""],openQty:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(r){this.deliveryListArray.removeAt(r)}getSingleDeliveryDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.deliverySer.singleDeliveryDetails(r.deliveryId);"1"===i.status&&(r.deliveryFormGroup.patchValue(i.data),console.log(i),r.createDeliveryFormFields(i.data))}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}submitData(){var r=this;return(0,u.Z)(function*(){try{r.isSubmitted=!0;const i=localStorage.getItem("userName");if(r.deliveryFormGroup.value.createdOn="18/12/2023",r.deliveryFormGroup.value.createdBy=i,r.deliveryFormGroup.value.changedOn="18/12/2023",r.deliveryFormGroup.value.changedBy=i,console.log(r.deliveryFormGroup.value),r.deliveryFormGroup.invalid)return;const t=yield r.deliverySer.updateDeliveryDetails(r.deliveryFormGroup.value);if(console.log(t),"1"===t.status)return r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.router.navigate(["/sales/delivery-list"]);if("0"===t.status)return void r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllUOMDetails();"1"===i.status&&(r.uomDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.plantDataSer.getAllStorageLocationsDetails();"1"===i.status&&(r.storageLocationDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllProductDetails();"1"===i.status&&(r.productDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerSer.getAllCustomerDetails();"1"===i.status&&(r.customerMasterDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getDeliveryTypeDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.deliverySer.getAllDeliveryTypeDetails();"1"===i.status&&(r.deliveryTypeDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(I),e.Y36(h.F0),e.Y36(S.ux),e.Y36(N.M),e.Y36(P.v),e.Y36(h.gz),e.Y36(b.v),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-delivery"]],decls:128,vars:27,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryType",1,"form-select"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","plantName",1,"form-select"],["value","1"],["value","2"],["value","3"],["for","delivery"],["type","text","formControlName","deliveryId","placeholder","Enter delivery",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["aria-label","Default select example","formControlName","customerId",1,"form-select"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6","d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control"],["aria-label","Default select example","formControlName","materialId",1,"form-select"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty",1,"form-control"],["formControlName","uomName",1,"form-select"],["formControlName","openQty",1,"form-select"],["formControlName","storageLocationName",1,"form-select"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item",1,"form-control"],[2,"cursor","pointer",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return t.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Delivery Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10)(16,"option",11),e._uU(17,"Select Delivery Type"),e.qZA(),e.YNc(18,wo,2,2,"option",12),e.qZA(),e.YNc(19,Lo,3,0,"div",13),e.YNc(20,Mo,3,0,"div",13),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Plant"),e.TgZ(24,"sup"),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"select",14)(27,"option",11),e._uU(28,"Select plant"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"One"),e.qZA(),e.TgZ(31,"option",16),e._uU(32,"Two"),e.qZA(),e.TgZ(33,"option",17),e._uU(34,"Three"),e.qZA()(),e.YNc(35,zo,3,0,"div",13),e.YNc(36,Vo,3,0,"div",13),e.qZA(),e.TgZ(37,"div",8)(38,"label",18),e._uU(39,"Delivery #"),e.TgZ(40,"sup"),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",19),e.YNc(43,Ro,3,0,"div",13),e.YNc(44,$o,3,0,"div",13),e.qZA(),e.TgZ(45,"div",8)(46,"label",9),e._uU(47,"Delivery Date"),e.TgZ(48,"sup"),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",20),e.YNc(51,jo,3,0,"div",13),e.YNc(52,Wo,3,0,"div",13),e.qZA(),e.TgZ(53,"div",8)(54,"label",9),e._uU(55,"Customer Id "),e.TgZ(56,"sup"),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"select",21)(59,"option",11),e._uU(60,"Select Customer Id "),e.qZA(),e.YNc(61,Ko,2,2,"option",12),e.qZA(),e.YNc(62,Ho,3,0,"div",13),e.YNc(63,Xo,3,0,"div",13),e.qZA(),e.TgZ(64,"div",22)(65,"label",23),e._uU(66,"Delivery Address "),e.TgZ(67,"sup"),e._uU(68,"*"),e.qZA()(),e._UZ(69,"input",24),e.YNc(70,ei,3,0,"div",13),e.YNc(71,ti,3,0,"div",13),e.qZA(),e.TgZ(72,"div",25)(73,"label",9),e._uU(74,"Delivery Partner "),e.TgZ(75,"sup"),e._uU(76,"*"),e.qZA()(),e.TgZ(77,"select",26)(78,"option",11),e._uU(79,"Select delivery Partner"),e.qZA(),e.TgZ(80,"option",15),e._uU(81,"One"),e.qZA(),e.TgZ(82,"option",16),e._uU(83,"Two"),e.qZA(),e.TgZ(84,"option",17),e._uU(85,"Three"),e.qZA()(),e.YNc(86,ri,3,0,"div",13),e.YNc(87,oi,3,0,"div",13),e.qZA()(),e.TgZ(88,"div",27)(89,"div",28)(90,"div",2)(91,"div",29)(92,"h3",4),e._uU(93," Item Data "),e.qZA()(),e.TgZ(94,"div",30)(95,"button",31),e.NdJ("click",function(){return t.adddelivery()}),e._uU(96,"Add"),e.qZA()()(),e.TgZ(97,"div",32)(98,"table",33)(99,"thead")(100,"tr"),e.YNc(101,ii,2,0,"th",13),e.TgZ(102,"th"),e._uU(103,"Plant"),e.qZA(),e.TgZ(104,"th"),e._uU(105,"Delivery Item"),e.qZA(),e.TgZ(106,"th"),e._uU(107,"Delivery Date"),e.qZA(),e.TgZ(108,"th"),e._uU(109,"Product Id"),e.qZA(),e.TgZ(110,"th"),e._uU(111,"Delivery QTY"),e.qZA(),e.TgZ(112,"th"),e._uU(113,"UoM"),e.qZA(),e.TgZ(114,"th"),e._uU(115,"Open Qty"),e.qZA(),e.TgZ(116,"th"),e._uU(117,"Storage Location"),e.qZA(),e.TgZ(118,"th"),e._uU(119,"Reference sales order #"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"Reference sales order item #"),e.qZA()()(),e.TgZ(122,"tbody",34),e.YNc(123,di,45,9,"tr",35),e.qZA()()()()(),e.TgZ(124,"div",27)(125,"div",36)(126,"button",37),e._uU(127,"Update"),e.qZA()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(25,ui,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.deliveryFormGroup),e.xp6(8),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryType),e.xp6(2),e.Q6J("ngForOf",t.deliveryTypeDetails),e.xp6(1),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryType.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.plant),e.xp6(8),e.Q6J("ngIf",t.deliveryFormGroup.controls.plantName.touched&&t.deliveryFormGroup.controls.plantName.touched&&t.deliveryFormGroup.controls.plantName.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.plantName.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryId.touched&&t.deliveryFormGroup.controls.deliveryId.touched&&t.deliveryFormGroup.controls.deliveryId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.customerId),e.xp6(2),e.Q6J("ngForOf",t.customerMasterDetail),e.xp6(1),e.Q6J("ngIf",t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(7),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(14),e.Q6J("ngIf",t.deliveryListArray.controls.length>1),e.xp6(22),e.Q6J("ngForOf",t.deliveryListArray.controls))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,q.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return o})();function pi(o,n){if(1&o&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.Oqu(r.code)}}function mi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function gi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Type is mandatory"),e.qZA()())}function _i(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function hi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Plant is mandatory"),e.qZA()())}function fi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function vi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Date is mandatory"),e.qZA()())}function Zi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function yi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Customer Id Value is mandatory"),e.qZA()())}function Ti(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function Ai(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Address is mandatory"),e.qZA()())}function qi(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Ci(o,n){1&o&&(e.TgZ(0,"div")(1,"p",35),e._uU(2,"Delivery Partner is mandatory"),e.qZA()())}function Si(o,n){if(1&o&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij("",r.code," ")}}function Ui(o,n){if(1&o&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r._id),e.xp6(1),e.hij(" ",r.description,"")}}function Di(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"tr",36)(1,"td"),e._UZ(2,"input",14),e.qZA(),e.TgZ(3,"td")(4,"input",37),e.NdJ("input",function(t){const s=e.CHM(r),l=s.$implicit,d=s.index,p=e.oxw();return e.KtG(p.handleQty(t,l.value.deliveryQty,d))}),e.qZA()(),e.TgZ(5,"td"),e._UZ(6,"input",38),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"input",39),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"input",40),e.qZA(),e.TgZ(11,"td")(12,"select",41)(13,"option",11),e._uU(14,"Select UOM"),e.qZA(),e.YNc(15,Si,2,2,"option",12),e.qZA()(),e.TgZ(16,"td")(17,"select",42)(18,"option",22),e._uU(19,"One"),e.qZA(),e.TgZ(20,"option",23),e._uU(21,"Two"),e.qZA(),e.TgZ(22,"option",24),e._uU(23,"Three"),e.qZA()()(),e.TgZ(24,"td")(25,"select",43)(26,"option",11),e._uU(27,"Select Storage Location"),e.qZA(),e.YNc(28,Ui,2,2,"option",12),e.qZA()(),e.TgZ(29,"td"),e._UZ(30,"input",44),e.qZA(),e.TgZ(31,"td"),e._UZ(32,"input",45),e.qZA()()}if(2&o){const r=n.index,i=e.oxw();e.Q6J("formGroupName",r),e.xp6(12),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===i.deliveryFormGroup.value.uomName),e.xp6(2),e.Q6J("ngForOf",i.uomDetail),e.xp6(2),e.Q6J("disabled",!0),e.xp6(8),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===i.deliveryFormGroup.value.storageLocationName),e.xp6(2),e.Q6J("ngForOf",i.storageLocationDetail)}}const bi=function(o){return{"padding-left":o}},Ni=[{path:"sales-order-list",component:se},{path:"add-sales-order",component:pt},{path:"edit-sales-order/:id",component:Yo},{path:"add-delivery-sales",component:(()=>{class o{constructor(r,i,t,s,l,d,p,c,_,Z,U){this.fb=r,this.deliverySer=i,this.router=t,this._snackBar=s,this.productSer=l,this.plantDataSer=d,this.customerSer=p,this.salesOrderSer=c,this._location=_,this.idle=Z,this.cd=U,this.isSubmitted=!1,this.isShowPadding=!1,this.deliveryFormGroup=a.cw,this.countryLists="",this.uomDetail=[],this.storageLocationDetail=[],this.productDetails=[],this.customerMasterDetail=[],this.salesOrderDetails="",this.deliveryDetails=[],this.idleState="Not Started",Z.setIdle(450),Z.setTimeout(900),Z.setInterrupts(f.WO),Z.onIdleEnd.subscribe(()=>{this.idleState="Started",U.detectChanges()}),Z.onTimeout.subscribe(()=>{this.idleState="Timeout"}),Z.onIdleStart.subscribe(()=>{this.idleState="idle"})}ngOnInit(){this.salesOrderSer.passSalesDetails.subscribe(r=>{this.salesOrderDetails=r}),0!==Object.keys(this.salesOrderDetails).length?(this.createDeliveryFormFields(),this.getAllUomDetail(),this.getStorageLocation(),this.getProductMasterDetail(),this.getCustomerMaster(),this.getAllDetailsDetails(),this.setStates()):this.router.navigate(["/sales/sales-order-list"])}setStates(){this.idle.watch(),this.idleState="Started"}handleSideBar(r){this.isShowPadding=r}createDeliveryFormFields(){this.deliveryFormGroup=this.fb.group({deliveryType:["",a.kI.required],plantId:[this.salesOrderDetails.itemList[0].plantId,a.kI.required],plantName:[this.salesOrderDetails.itemList[0].plantName],deliveryDate:["",a.kI.required],customerId:[this.salesOrderDetails.customerId,a.kI.required],customerName:[this.salesOrderDetails.customerName],deliveryAddress:[this.salesOrderDetails.customerAddress,a.kI.required],deliveryPartner:["",a.kI.required],itemList:this.fb.array(this.salesOrderDetails.itemList.map(r=>this.getdeliveryFields(r)))})}getdeliveryFields(r){return this.fb.group(r?{plantId:[r.plantId],plantName:[r.plantName],deliveryItem:[""],deliveryDate:[""],productId:[r.materialId],productName:[r.materialDescription],deliveryQty:[r.ordQty],uomId:[""],uomName:[""],openQty:[""],storageLocationId:[""],storageLocationName:[""],referenceSalesOrder:[this.salesOrderDetails._id],referenceSalesOrderItem:[this.salesOrderDetails.salesOrder]}:{plantName:[""],deliveryItem:[""],deliveryDate:[""],productId:[""],materialId:[""],deliveryQty:[""],uomName:[""],openQty:[""],storageLocationName:[""],referenceSalesOrder:[""],referenceSalesOrderItem:[""]})}get deliveryListArray(){return this.deliveryFormGroup.get("itemList")}adddelivery(){this.deliveryListArray.push(this.getdeliveryFields())}deletedelivery(r){this.deliveryListArray.removeAt(r)}submitData(){var r=this;return(0,u.Z)(function*(){try{r.isSubmitted=!0;const i=localStorage.getItem("userName");if(r.deliveryFormGroup.value.createdOn="18/12/2023",r.deliveryFormGroup.value.createdBy=i,r.deliveryFormGroup.value.changedOn="18/12/2023",r.deliveryFormGroup.value.changedBy=i,console.log(r.deliveryFormGroup.value),r.deliveryFormGroup.invalid)return;const t=yield r.deliverySer.createDeliveryDetails(r.deliveryFormGroup.value);if(console.log(t),"1"===t.status)return r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-success"}),void r.router.navigate(["/sales/delivery-list"]);if("0"===t.status)return void r._snackBar.open(t.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllDetailsDetails(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.deliverySer.getDeliveryDetails();"1"===i.status&&(r.deliveryDetails=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getAllUomDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllUOMDetails();"1"===i.status&&(r.uomDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getStorageLocation(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.plantDataSer.getAllStorageLocationsDetails();"1"===i.status&&(r.storageLocationDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getProductMasterDetail(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.productSer.getAllProductDetails();"1"===i.status&&(r.productDetails=i.data)}catch(i){i.error.message&&r._snackBar.open(i.error.message,"Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"}),r._snackBar.open("Something went wrong","Error",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}getCustomerMaster(){var r=this;return(0,u.Z)(function*(){try{const i=yield r.customerSer.getAllCustomerDetails();"1"===i.status&&(r.customerMasterDetail=i.data)}catch(i){if(i.error.message)return void r._snackBar.open(i.error.message,"",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"});r._snackBar.open("Something went wrong","",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:"app-notification-error"})}})()}handleQty(r,i,t){console.log(typeof i,+i<r.target.value),r.target.value&&+i<r.target.value&&(H().fire({icon:"info",title:"info...",text:"Please give the input less than or equal to orderQty"}),this.deliveryFormGroup.get("itemList").at(t).patchValue({deliveryItem:""}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(I),e.Y36(h.F0),e.Y36(S.ux),e.Y36(N.M),e.Y36(P.v),e.Y36(b.v),e.Y36(D),e.Y36(g.Ye),e.Y36(f.hX),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-delivery-sales-order"]],decls:105,vars:24,consts:[[3,"logoutAction","isShowNav"],[1,"container-fluid",3,"ngStyle"],[1,"row"],[1,"col-12"],[1,"mt-2"],["routerLink","/sales/delivery-list",1,"back"],[3,"formGroup","ngSubmit"],[1,"row","border"],[1,"col-6","mt-2"],["for",""],["formControlName","deliveryType",1,"form-select",3,"disabled"],["value","","hidden","",3,"selected"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","formControlName","plantName","readonly","",1,"form-control"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date","readonly","",1,"form-control"],["type","text","formControlName","customerName","placeholder","Enter Customer Id","readonly","",1,"form-control"],[1,"col-6","mt-2","mb-2"],["for","TaxAmount"],["type","text","formControlName","deliveryAddress","placeholder","Enter Delivery Address","readonly","",1,"form-control"],[1,"col-6","py-2","mb-2"],["formControlName","deliveryPartner",1,"form-select",3,"disabled"],["value","1"],["value","2"],["value","3"],[1,"row","py-2"],[1,"col-12","border"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","col-xl-6"],[1,"table-responsive"],[1,"table","table-hover"],["formArrayName","itemList"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-primary"],[3,"value"],[1,"error-message"],[3,"formGroupName"],["type","number","placeholder","Enter delivery item","formControlName","deliveryItem",1,"form-control",3,"input"],["type","date","formControlName","deliveryDate","placeholder","Enter delivery date",1,"form-control"],["type","text","formControlName","productName","readonly","",1,"form-control"],["type","text","placeholder","Enter delivery qty","formControlName","deliveryQty","readonly","",1,"form-control"],["formControlName","uomName",1,"form-select",3,"disabled"],["formControlName","openQty",1,"form-select",3,"disabled"],["formControlName","storageLocationName",1,"form-select",3,"disabled"],["type","text","formControlName","referenceSalesOrder","placeholder","Enter Reference Sales Order","readonly","",1,"form-control"],["type","text","formControlName","referenceSalesOrderItem","placeholder","Enter Reference Sales Order Item","readonly","",1,"form-control"]],template:function(i,t){1&i&&(e.TgZ(0,"app-side-nav",0),e.NdJ("isShowNav",function(l){return t.handleSideBar(l)}),e.qZA(),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"mat-icon",5),e._uU(6,"arrow_back"),e.qZA(),e._uU(7," Delivery Maintenance "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return t.submitData()}),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Delivery Type "),e.TgZ(13,"sup"),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"select",10)(16,"option",11),e._uU(17,"Select Delivery Type"),e.qZA(),e.YNc(18,pi,2,2,"option",12),e.qZA(),e.YNc(19,mi,3,0,"div",13),e.YNc(20,gi,3,0,"div",13),e.qZA(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Plant"),e.TgZ(24,"sup"),e._uU(25,"*"),e.qZA()(),e._UZ(26,"input",14),e.YNc(27,_i,3,0,"div",13),e.YNc(28,hi,3,0,"div",13),e.qZA(),e.TgZ(29,"div",8)(30,"label",9),e._uU(31,"Delivery Date"),e.TgZ(32,"sup"),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",15),e.YNc(35,fi,3,0,"div",13),e.YNc(36,vi,3,0,"div",13),e.qZA(),e.TgZ(37,"div",8)(38,"label",9),e._uU(39,"Customer Id "),e.TgZ(40,"sup"),e._uU(41,"*"),e.qZA()(),e._UZ(42,"input",16),e.YNc(43,Zi,3,0,"div",13),e.YNc(44,yi,3,0,"div",13),e.qZA(),e.TgZ(45,"div",17)(46,"label",18),e._uU(47,"Delivery Address "),e.TgZ(48,"sup"),e._uU(49,"*"),e.qZA()(),e._UZ(50,"input",19),e.YNc(51,Ti,3,0,"div",13),e.YNc(52,Ai,3,0,"div",13),e.qZA(),e.TgZ(53,"div",20)(54,"label",9),e._uU(55,"Delivery Partner "),e.TgZ(56,"sup"),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"select",21)(59,"option",11),e._uU(60,"Select delivery Partner"),e.qZA(),e.TgZ(61,"option",22),e._uU(62,"One"),e.qZA(),e.TgZ(63,"option",23),e._uU(64,"Two"),e.qZA(),e.TgZ(65,"option",24),e._uU(66,"Three"),e.qZA()(),e.YNc(67,qi,3,0,"div",13),e.YNc(68,Ci,3,0,"div",13),e.qZA()(),e.TgZ(69,"div",25)(70,"div",26)(71,"div",2)(72,"div",27)(73,"h3",4),e._uU(74," Item Data "),e.qZA()()(),e.TgZ(75,"div",28)(76,"table",29)(77,"thead")(78,"tr")(79,"th"),e._uU(80,"Plant"),e.qZA(),e.TgZ(81,"th"),e._uU(82,"Delivery Item"),e.qZA(),e.TgZ(83,"th"),e._uU(84,"Delivery Date"),e.qZA(),e.TgZ(85,"th"),e._uU(86,"Product Id"),e.qZA(),e.TgZ(87,"th"),e._uU(88,"Delivery QTY"),e.qZA(),e.TgZ(89,"th"),e._uU(90,"UoM"),e.qZA(),e.TgZ(91,"th"),e._uU(92,"Open Qty"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"Storage Location"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Reference sales order #"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Reference sales order item #"),e.qZA()()(),e.TgZ(99,"tbody",30),e.YNc(100,Di,33,8,"tr",31),e.qZA()()()()(),e.TgZ(101,"div",25)(102,"div",32)(103,"button",33),e._uU(104,"Save"),e.qZA()()()()()()()),2&i&&(e.Q6J("logoutAction",t.idleState),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,bi,t.isShowPadding?"280px":"100px")),e.xp6(7),e.Q6J("formGroup",t.deliveryFormGroup),e.xp6(7),e.Q6J("disabled",!0)("disabled",!0),e.xp6(1),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryType),e.xp6(2),e.Q6J("ngForOf",t.deliveryDetails),e.xp6(1),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.touched&&t.deliveryFormGroup.controls.deliveryType.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryType.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.plantId.touched&&t.deliveryFormGroup.controls.plantId.touched&&t.deliveryFormGroup.controls.plantId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.plantId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.touched&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryDate.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.touched&&t.deliveryFormGroup.controls.customerId.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.customerId.hasError("required")),e.xp6(7),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.touched&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryAddress.hasError("required")),e.xp6(6),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("selected",""===t.deliveryFormGroup.value.deliveryPartner),e.xp6(8),e.Q6J("ngIf",t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.touched&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf",t.isSubmitted&&t.deliveryFormGroup.controls.deliveryPartner.hasError("required")),e.xp6(32),e.Q6J("ngForOf",t.deliveryFormGroup.get("itemList").controls))},dependencies:[g.sg,g.O5,g.PC,h.rH,y.Hw,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE,q.s],styles:[".back[_ngcontent-%COMP%]{background-color:red;border-radius:50%;color:#fff;cursor:pointer;position:relative;right:6px;top:5px}"]})}return o})()},{path:"delivery-list",component:ft},{path:"add-delivery",component:Yt},{path:"edit-delivery/:id",component:ci},{path:"billing-list",component:Mt},{path:"add-billing",component:Pr}];let Ii=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#r=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(Ni),h.Bz]})}return o})();var Fi=m(2599),Oi=m(6385),Pi=m(4104),Gi=m(8524),xi=m(6497);let ki=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#r=this.\u0275inj=e.cJS({providers:[D,I],imports:[g.ez,Ii,Fi.rP,F.ot,y.Ps,Oi.t,T.Tx,Pi.Nh,a.UX,Gi.m,a.u5,O.u3.forRoot(),xi.h]})}return o})()}}]);